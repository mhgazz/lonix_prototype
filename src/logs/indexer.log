DEBUG:root:jerousia
ERROR:root:chatuma
INFO:root:Starting indexing process
INFO:root:Indexing file: test.docx
DEBUG:root:------------------------------------
Documento de prueba
DEBUG:root:------------------------------------
parrafa 1 ok
DEBUG:root:------------------------------------
parrafa 2 ok
DEBUG:root:------------------------------------
parrafa 3 ok
DEBUG:root:------------------------------------
parrafa 4 ok
INFO:root:Indexing file: test.txt
DEBUG:root:------------------------------------
De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 17:17:48,652 - INFO - Starting indexing process
2019-11-05 17:17:48,664 - INFO - Indexing file: test.docx
2019-11-05 17:17:48,669 - DEBUG - ------------------------------------
Documento de prueba
2019-11-05 17:17:48,669 - DEBUG - ------------------------------------
parrafa 1 ok
2019-11-05 17:17:48,669 - DEBUG - ------------------------------------
parrafa 2 ok
2019-11-05 17:17:48,670 - DEBUG - ------------------------------------
parrafa 3 ok
2019-11-05 17:17:48,670 - DEBUG - ------------------------------------
parrafa 4 ok
2019-11-05 17:17:48,670 - INFO - Indexing file: test.txt
2019-11-05 17:17:48,671 - DEBUG - ------------------------------------
De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 17:26:40,284 - DEBUG - jerousia
2019-11-05 17:26:40,284 - ERROR - chatuma
2019-11-05 17:27:37,890 - DEBUG - jerousia
2019-11-05 17:27:37,890 - ERROR - chatuma
2019-11-05 17:27:53,729 - INFO - Starting indexing process
2019-11-05 17:27:53,742 - INFO - Indexing file: test.docx
2019-11-05 17:27:53,748 - DEBUG - ------------------------------------
Documento de prueba
2019-11-05 17:27:53,749 - DEBUG - ------------------------------------
parrafa 1 ok
2019-11-05 17:27:53,750 - DEBUG - ------------------------------------
parrafa 2 ok
2019-11-05 17:27:53,750 - DEBUG - ------------------------------------
parrafa 3 ok
2019-11-05 17:27:53,751 - DEBUG - ------------------------------------
parrafa 4 ok
2019-11-05 17:27:53,752 - INFO - Indexing file: test.txt
2019-11-05 17:27:53,752 - DEBUG - ------------------------------------
De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 17:29:05,272 - INFO - Starting indexing process
2019-11-05 17:29:05,284 - INFO - Indexing file: test.docx
2019-11-05 17:29:05,289 - DEBUG - ------------------------------------
Documento de prueba
2019-11-05 17:29:05,289 - DEBUG - ------------------------------------
parrafa 1 ok
2019-11-05 17:29:05,289 - DEBUG - ------------------------------------
parrafa 2 ok
2019-11-05 17:29:05,290 - DEBUG - ------------------------------------
parrafa 3 ok
2019-11-05 17:29:05,290 - DEBUG - ------------------------------------
parrafa 4 ok
2019-11-05 17:29:05,290 - INFO - Indexing file: test.txt
2019-11-05 17:29:05,291 - DEBUG - ------------------------------------
De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 17:29:14,387 - DEBUG - jerousia
2019-11-05 17:29:14,388 - ERROR - chatuma
2019-11-05 18:04:59,614 - DEBUG - jerousia
2019-11-05 18:04:59,614 - ERROR - chatuma
2019-11-05 18:05:37,321 - DEBUG - jerousia
2019-11-05 18:05:37,322 - ERROR - chatuma
2019-11-05 18:05:58,479 - DEBUG - jerousia
2019-11-05 18:05:58,480 - ERROR - chatuma
2019-11-05 18:06:04,828 - INFO - Starting indexing process
2019-11-05 18:06:04,846 - INFO - Indexing file: test.docx
2019-11-05 18:06:04,853 - DEBUG - ------------------------------------
Documento de prueba
2019-11-05 18:06:04,853 - DEBUG - ------------------------------------
parrafa 1 ok
2019-11-05 18:06:04,854 - DEBUG - ------------------------------------
parrafa 2 ok
2019-11-05 18:06:04,854 - DEBUG - ------------------------------------
parrafa 3 ok
2019-11-05 18:06:04,855 - DEBUG - ------------------------------------
parrafa 4 ok
2019-11-05 18:06:04,855 - INFO - Indexing file: test.txt
2019-11-05 18:06:04,856 - DEBUG - ------------------------------------
De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 18:28:04,148 - INFO - -------------------------------------
2019-11-05 18:28:04,148 - INFO - -- Starting indexing process      ---
2019-11-05 18:28:04,148 - INFO - -- files path: %files_path 
2019-11-05 18:28:04,148 - INFO - -------------------------------------
2019-11-05 18:28:04,175 - INFO - Indexing file: test.docx
2019-11-05 18:28:04,185 - DEBUG - ---Documento de prueba
2019-11-05 18:28:04,189 - DEBUG - ---parrafa 1 ok
2019-11-05 18:28:04,189 - DEBUG - ---parrafa 2 ok
2019-11-05 18:28:04,190 - DEBUG - ---parrafa 3 ok
2019-11-05 18:28:04,190 - DEBUG - ---parrafa 4 ok
2019-11-05 18:28:04,191 - INFO - Indexing file: test.txt
2019-11-05 18:28:04,192 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 18:28:24,992 - INFO - -------------------------------------
2019-11-05 18:28:24,992 - INFO - -- Starting indexing process      ---
2019-11-05 18:28:24,992 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 18:28:24,992 - INFO - -------------------------------------
2019-11-05 18:28:25,001 - INFO - Indexing file: test.docx
2019-11-05 18:28:25,004 - DEBUG - ---Documento de prueba
2019-11-05 18:28:25,004 - DEBUG - ---parrafa 1 ok
2019-11-05 18:28:25,005 - DEBUG - ---parrafa 2 ok
2019-11-05 18:28:25,005 - DEBUG - ---parrafa 3 ok
2019-11-05 18:28:25,005 - DEBUG - ---parrafa 4 ok
2019-11-05 18:28:25,005 - INFO - Indexing file: test.txt
2019-11-05 18:28:25,006 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 18:35:01,075 - INFO - -------------------------------------
2019-11-05 18:35:01,507 - INFO - -- Starting indexing process      ---
2019-11-05 18:35:05,473 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 18:35:06,406 - INFO - -------------------------------------
2019-11-05 18:35:18,921 - INFO - Indexing file: test.docx
2019-11-05 18:35:19,663 - DEBUG - ---Documento de prueba
2019-11-05 18:35:19,667 - DEBUG - ---parrafa 1 ok
2019-11-05 18:35:19,668 - DEBUG - ---parrafa 2 ok
2019-11-05 18:35:19,669 - DEBUG - ---parrafa 3 ok
2019-11-05 18:35:19,670 - DEBUG - ---parrafa 4 ok
2019-11-05 18:35:19,671 - INFO - Indexing file: test.txt
2019-11-05 18:35:20,259 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 18:37:49,488 - INFO - -------------------------------------
2019-11-05 18:37:49,489 - INFO - -- Starting indexing process      ---
2019-11-05 18:37:49,489 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 18:37:49,490 - INFO - -------------------------------------
2019-11-05 18:37:49,513 - INFO - Indexing file: test.docx
2019-11-05 18:37:49,519 - DEBUG - ---Documento de prueba
2019-11-05 18:37:49,520 - DEBUG - ---parrafa 1 ok
2019-11-05 18:37:49,521 - DEBUG - ---parrafa 2 ok
2019-11-05 18:37:49,521 - DEBUG - ---parrafa 3 ok
2019-11-05 18:37:49,521 - DEBUG - ---parrafa 4 ok
2019-11-05 18:37:49,522 - INFO - Indexing file: test.txt
2019-11-05 18:37:49,523 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 19:27:05,126 - DEBUG - performing search with criteria: test
2019-11-05 19:27:47,559 - DEBUG - performing search with criteria: test
2019-11-05 19:28:54,220 - DEBUG - performing search with criteria: test
2019-11-05 19:29:13,756 - DEBUG - performing search with criteria: test
2019-11-05 19:29:13,776 - DEBUG - results found: 0
2019-11-05 19:31:18,791 - DEBUG - performing search with criteria: terrible
2019-11-05 19:31:18,811 - DEBUG - results found: 1
2019-11-05 19:34:33,754 - DEBUG - performing search with criteria: terrible
2019-11-05 19:34:33,781 - DEBUG - results found: 1
2019-11-05 19:34:33,781 - DEBUG - performing search with criteria: parrafa
2019-11-05 19:34:33,785 - DEBUG - results found: 4
2019-11-05 19:42:31,937 - INFO - ------------------------------------------
2019-11-05 19:42:31,938 - INFO - -- Starting indexing process      --------
2019-11-05 19:42:31,938 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 19:42:31,938 - INFO - ------------------------------------------
2019-11-05 19:50:56,055 - INFO - ------------------------------------------
2019-11-05 19:50:56,055 - INFO - -- Starting indexing process      --------
2019-11-05 19:50:56,055 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 19:50:56,055 - INFO - ------------------------------------------
2019-11-05 19:51:07,676 - INFO - ------------------------------------------
2019-11-05 19:51:07,677 - INFO - -- Starting indexing process      --------
2019-11-05 19:51:07,677 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 19:51:07,677 - INFO - ------------------------------------------
2019-11-05 19:51:07,689 - INFO - Indexing file: test.docx
2019-11-05 19:51:07,696 - DEBUG - ---Documento de prueba
2019-11-05 19:52:03,643 - INFO - ------------------------------------------
2019-11-05 19:52:03,643 - INFO - -- Starting indexing process      --------
2019-11-05 19:52:03,643 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 19:52:03,644 - INFO - ------------------------------------------
2019-11-05 19:52:03,654 - INFO - Indexing file: test.docx
2019-11-05 19:52:03,657 - DEBUG - ---Documento de prueba
2019-11-05 19:52:45,295 - INFO - ------------------------------------------
2019-11-05 19:52:45,295 - INFO - -- Starting indexing process      --------
2019-11-05 19:52:45,295 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 19:52:45,295 - INFO - ------------------------------------------
2019-11-05 19:52:45,304 - INFO - Indexing file: test.docx
2019-11-05 19:52:45,307 - DEBUG - ---Documento de prueba
2019-11-05 19:52:45,308 - DEBUG - ---parrafa 1 ok
2019-11-05 19:52:45,308 - DEBUG - ---parrafa 2 ok
2019-11-05 19:52:45,308 - DEBUG - ---parrafa 3 ok
2019-11-05 19:52:45,309 - DEBUG - ---parrafa 4 ok
2019-11-05 19:52:45,309 - INFO - Indexing file: test.txt
2019-11-05 19:52:45,310 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 19:53:59,704 - DEBUG - performing search with criteria: terrible
2019-11-05 19:53:59,730 - DEBUG - results found: 1
2019-11-05 19:53:59,730 - DEBUG - performing search with criteria: parrafa
2019-11-05 19:53:59,733 - DEBUG - results found: 4
2019-11-05 19:55:40,480 - DEBUG - performing search with criteria: terrible
2019-11-05 19:55:40,506 - DEBUG - results found: 1
2019-11-05 19:57:11,781 - DEBUG - performing search with criteria: terrible
2019-11-05 19:57:11,799 - DEBUG - results found: 1
2019-11-05 20:01:08,653 - DEBUG - performing search with criteria: terrible
2019-11-05 20:04:17,488 - DEBUG - performing search with criteria: terrible
2019-11-05 20:04:17,517 - DEBUG - results found: 1
2019-11-05 20:09:59,315 - DEBUG - performing search with criteria: terrible
2019-11-05 20:09:59,358 - DEBUG - results found: 1
2019-11-05 20:12:13,509 - DEBUG - performing search with criteria: terrible
2019-11-05 20:12:13,549 - DEBUG - results found: 1
2019-11-05 20:12:13,550 - DEBUG - performing search with criteria: parrafa
2019-11-05 20:12:13,556 - DEBUG - results found: 4
2019-11-05 20:12:53,265 - DEBUG - performing search with criteria: terrible
2019-11-05 20:12:53,306 - DEBUG - results found: 1
2019-11-05 20:12:53,306 - DEBUG - performing search with criteria: parrafa
2019-11-05 20:12:53,314 - DEBUG - results found: 4
2019-11-05 20:17:43,310 - DEBUG - performing search with criteria: terrible
2019-11-05 20:17:43,343 - DEBUG - results found: 1
2019-11-05 20:17:43,343 - DEBUG - performing search with criteria: parrafa
2019-11-05 20:17:43,347 - DEBUG - results found: 4
2019-11-05 20:21:42,636 - DEBUG - performing search with criteria: terrible
2019-11-05 20:21:42,656 - DEBUG - results found: 1
2019-11-05 20:21:42,656 - DEBUG - performing search with criteria: parrafa
2019-11-05 20:21:42,660 - DEBUG - results found: 4
2019-11-05 20:49:36,959 - DEBUG - performing search with criteria: terrible
2019-11-05 20:49:56,082 - DEBUG - performing search with criteria: terrible
2019-11-05 20:51:40,237 - DEBUG - performing search with criteria: terrible
2019-11-05 20:51:40,258 - DEBUG - results found: 1
2019-11-05 20:51:40,259 - DEBUG - performing search with criteria: parrafa
2019-11-05 20:51:40,263 - DEBUG - results found: 4
2019-11-05 20:52:25,764 - DEBUG - performing search with criteria: terrible
2019-11-05 20:52:25,787 - DEBUG - results found: 1
2019-11-05 20:52:25,787 - DEBUG - performing search with criteria: parrafa
2019-11-05 20:52:25,793 - DEBUG - results found: 4
2019-11-05 21:16:47,046 - DEBUG - performing search with criteria: terrible
2019-11-05 21:16:47,083 - DEBUG - results found: 1
2019-11-05 21:16:47,083 - DEBUG - performing search with criteria: parrafa
2019-11-05 21:16:47,088 - DEBUG - results found: 4
2019-11-05 21:20:17,215 - INFO - Indexing file: test.docx
2019-11-05 21:20:48,405 - INFO - Indexing file: test.docx
2019-11-05 21:25:48,562 - INFO - Indexing file: test.docx
2019-11-05 21:29:39,649 - INFO - ------------------------------------------
2019-11-05 21:29:39,649 - INFO - -- Starting indexing process      --------
2019-11-05 21:29:39,650 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 21:29:39,650 - INFO - ------------------------------------------
2019-11-05 21:29:39,666 - INFO - Indexing file: test.docx
2019-11-05 21:29:39,669 - DEBUG - ---Documento de prueba
2019-11-05 21:29:39,669 - DEBUG - ---parrafa 1 ok
2019-11-05 21:29:39,670 - DEBUG - ---parrafa 2 ok
2019-11-05 21:29:39,670 - DEBUG - ---parrafa 3 ok
2019-11-05 21:29:39,670 - DEBUG - ---parrafa 4 ok
2019-11-05 21:31:11,340 - INFO - ------------------------------------------
2019-11-05 21:31:11,340 - INFO - -- Starting indexing process      --------
2019-11-05 21:31:11,340 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 21:31:11,340 - INFO - ------------------------------------------
2019-11-05 21:31:11,348 - INFO - Indexing file: test.docx
2019-11-05 21:31:11,351 - DEBUG - ---Documento de prueba
2019-11-05 21:31:11,351 - DEBUG - ---parrafa 1 ok
2019-11-05 21:31:11,351 - DEBUG - ---parrafa 2 ok
2019-11-05 21:31:11,352 - DEBUG - ---parrafa 3 ok
2019-11-05 21:31:11,352 - DEBUG - ---parrafa 4 ok
2019-11-05 21:31:11,352 - INFO - Indexing file: test.txt
2019-11-05 21:31:11,356 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 21:32:16,765 - INFO - ------------------------------------------
2019-11-05 21:32:16,766 - INFO - -- Starting indexing process      --------
2019-11-05 21:32:16,766 - INFO - -- files path: /home/mgazzola/Documents/instructivos/RHEL
2019-11-05 21:32:16,766 - INFO - ------------------------------------------
2019-11-05 21:32:16,775 - INFO - Indexing file: test.docx
2019-11-05 21:32:16,779 - DEBUG - ---Documento de prueba
2019-11-05 21:32:16,780 - DEBUG - ---parrafa 1 ok
2019-11-05 21:32:16,780 - DEBUG - ---parrafa 2 ok
2019-11-05 21:32:16,780 - DEBUG - ---parrafa 3 ok
2019-11-05 21:32:16,781 - DEBUG - ---parrafa 4 ok
2019-11-05 21:32:16,781 - INFO - Indexing file: test.txt
2019-11-05 21:32:16,782 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-05 21:32:21,124 - INFO - Indexing file: test.docx
2019-11-05 21:32:44,419 - INFO - Indexing file: test.docx
2019-11-06 11:15:53,210 - INFO - Indexing file: test.docx
2019-11-06 11:17:12,435 - INFO - Indexing file: test.docx
2019-11-06 11:17:21,827 - INFO - Indexing file: test.docx
2019-11-06 11:18:27,548 - DEBUG - performing search with criteria: terrible
2019-11-06 11:18:27,571 - DEBUG - results found: 1
2019-11-06 11:18:27,571 - DEBUG - performing search with criteria: parrafa
2019-11-06 11:18:27,574 - DEBUG - results found: 4
2019-11-06 16:53:45,835 - INFO - ------------------------------------------
2019-11-06 16:53:45,836 - INFO - -- Starting indexing process      --------
2019-11-06 16:53:45,836 - INFO - -- files path: /home/mgazzola/Documents/instructivos
2019-11-06 16:53:45,836 - INFO - ------------------------------------------
2019-11-06 16:53:45,883 - INFO - Indexing file: MANUAL DE OPERACIONES WSRR v.1.docx
2019-11-06 16:53:45,900 - DEBUG - ---GUÍA DE OPERACIONES WSRR v8.0
2019-11-06 16:53:45,901 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 16:53:45,902 - DEBUG - ---1. Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0:
2019-11-06 16:53:45,904 - DEBUG - ---AW0939
2019-11-06 16:53:45,904 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 16:53:45,905 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 16:53:45,905 - DEBUG - ---2. Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 16:53:45,906 - DEBUG - ---MQE_RecuperarDatosCliente (la versión 3.0 -->
2019-11-06 16:53:45,906 - DEBUG - ---http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0 [^]).
2019-11-06 16:53:45,907 - DEBUG - ---PASOS
2019-11-06 16:53:45,907 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 16:53:45,908 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 16:53:45,908 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 16:53:45,909 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 16:53:45,909 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 16:53:45,910 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 16:53:45,910 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 16:53:45,911 - DEBUG - ---

2019-11-06 16:53:45,911 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 16:53:45,912 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 16:53:45,913 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 16:53:45,913 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 16:53:45,914 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 16:53:45,915 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 16:53:45,915 - INFO - Indexing file: HOJA DE DATOS_WSP_RIN_ARGS(1).docx
2019-11-06 16:53:45,923 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 16:53:45,924 - DEBUG - ---RIN DOS VÍAS –Argos (Servidor)
2019-11-06 16:53:45,925 - DEBUG - ----Dummy
2019-11-06 16:53:45,925 - INFO - Indexing file: Tips Aristi.txt
2019-11-06 16:53:45,926 - DEBUG - ---Comandos Frecuentes WebSphere Message Queue

* Ruta de logs
/var/mqm/errors ( Logs del producto )
/var/mqm/qmgrs/BCOLQMGR/errors ( Logs de un Queue Manager )

* Ruta de almacenes de certificados
/var/mqm/qmgrs/BCOLQMGR/ssl

* Administrar certificados
gsk7cmd -keydb -create -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -expire <days> -stash
gsk7cmd -keydb -stashpw -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12>
gsk7cmd -certreq -create [-db <name>] [-crypto <module name> [-tokenlabel <token label>]|[-relativeSlotNumber <slot_number>]] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> [-san_ipaddr <ip addr>[,<ip addr>]] [-san_dnsname <dns name>[,<dns name>]] [-san_emailaddr <email addr>[,<email addr>]] [-usereasoncode] -dn <dist name> [-size <2048 | 1024 | 512>] -file <name>
gsk7cmd -certreq -recreate [-db <name>] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> -file <name>
gsk7cmd -cert -add -db <filename>.kdb -pw <password> -label <label> -format <ascii | binary> -trust <enable | disable> -file <filename>
gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary> 
gsk7cmd -cert -list <all | personal | CA | site> -db < dbname > -pw <password> -type <cms | jks |jceks | pkcs12> -expiry < days >
gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename>
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -details -db <filename>.kdb -pw <password> -label <label>

--Cambiar el label de un certificado personal
gsk7cmd -cert -export -db key.kdb -pw passw0rd -label friendlyName -type cms -target personal.p12 -target_pw target_password -target_type pkcs12
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -import -file personal.p12 -label friendlyName -new_label ibmwebspheremqqueuemanagername -type pkcs12 -pw passw0rd -target key.kdb -target_pw target_password

Ejemplo:
gsk7cmd -keydb -create -db ihskeystore.kdb -pw ihskeystore -type cms -stash
gsk7cmd -certreq -create -db ihskeystore.kdb -pw ihskeystore -type cms -label sasoprd -dn "CN=sasoprd.bancolombia.corp,OU=VICEPRESIDENCIA DE TECNOLOGIA,O=BANCOLOMBIA S.A.,L=MEDELLIN,ST=ANTIOQUIA,C=CO" -size 2048 -file sasoprd.arm -sig_alg sha1

gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAROOTCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAROOTCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAPOLICYNETCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAPOLICYNETCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAISSUING1CA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAISSUING1CA.cer

gsk7cmd -cert -receive -db ihskeystore.kdb -pw ihskeystore -format ascii -file /tmp/SASOpriskDesarrollo/sasoprd.bancolombia.corp.cer

* Administrar permisos sobre los objetos
dspmqaut -m BCOLQMGR -t qmgr -g cnmq
setmqaut -m BCOLQMGR -t qmgr -g cnmq +connect +inq
dspmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq
setmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq +browse +get +inq +put +set

* Ejemplo para conectar dos MQ Servers ( PanamÃ¡-Colombia )
PPANMQMGR

Cola transmisiÃ³n
define qlocal(PCOLQMGR) USAGE(XMITQ)

Colas remotas
define qremote(IBS_PAN.INT.REQ) RQMNAME(PCOLQMGR) RNAME(IBS_PAN.INT.REQ) XMITQ(PCOLQMGR)
define qremote(INT.SWIFTPA.SWIFT.QL.RES) RQMNAME(PCOLQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.RES) XMITQ(PCOLQMGR)

Colas locales
define qlocal(INT.SWIFTPA.SWIFT.QL.REQ)
define qlocal(LTC_INT_IBSPA.QL.REQ) MAXDEPTH(100000)

Canal SVRCONN
define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

Canal Receive
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Colombia-Panama')

Canal Sender
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Panama-Colombia') XMITQ(PCOLQMGR) CONNAME('PBMDEAPMEB01(1414)')

Canal Cliente
define channel(SWIFT.SVRCONN) CHLTYPE(CLNTCONN) CONNAME('PBPAMTPMEB01(1414)') QMNAME(PPANQMGR) SSLCIPH(TRIPLE_DES_SHA_US) DESCR('Swift channel client')

PCOLQMGR

Cola transmisiÃ³n
define qlocal(PPANMQGR) USAGE(XMITQ)

Colas remotas
define qremote(INT.SWIFTPA.SWIFT.QL.REQ) RQMNAME(PPANQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.REQ) XMITQ(PPANQMGR)
define qremote(LTC_INT_IBSPA.QL.REQ) RQMNAME(PPANQMGR) RNAME(LTC_INT_IBSPA.QL.REQ) XMITQ(PPANQMGR)

Colas locales
define qlocal(IBS_PAN.INT.REQ)
define qlocal(INT.SWIFTPA.SWIFT.QL.RES)

Canal Receive
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Panama-Colombia')

Canal Sender
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Colombia-Panama') XMITQ(PPANQMGR) CONNAME('PBPAMTPMEB01(1414)')

Comandos Frecuentes WebSphere Message Broker

* Ruta de logs de Broker
/opk/IBM/mqsi ( Para Desarrollo y QA )
/var/mqm/errors ( Para ProducciÃ³n )

* Ruta de logs de cada Execution Group
/var/mqsi/components/BCOLQMGR_BROKER/<UUID>/ ( Donde para saber el valor del UUID ejecutan ps -fea | grep <Execution_Group> )
/var/mqsi/components/BCOLQMGR_BROKER/13d99063-3201-0000-0080-f92214f27c0a

* Administrar certificados
keytool -genkey -alias ibmwebspheremqcnxqqdes -keyalg RSA -sigalg SHA1withRSA -keysize 2048 -keystore /tmp/tmppcc.jks -v
keytool -certreq -alias ibmwebspheremqcnxqqdes -sigalg SHA1withRSA -file /tmp/ibmwebspheremqcnxqqdes.csr -keystore /tmp/tmppcc.jks -v
keytool -import -alias ibmwebspheremqcnxqqdes -file /home/jdaristi/Downloads/ibmwebspheremqcnxqqdes.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiarootca -file /home/jdaristi/Downloads/bancolombiarootca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiapolicynetca -file /home/jdaristi/Downloads/bancolombiapolicynetca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiaissuing1ca -file /home/jdaristi/Downloads/bancolombiaissuing1ca.cer -keystore /tmp/tmppcc.jks -v

* ConfiguraciÃ³n de una conexiÃ³n JDBC Oracle
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o ORACLE_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"
* ConfiguraciÃ³n de una conexiÃ³n JDBC DB2
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,connectionUrlFormatAttr1,databaseName,databaseType,jarsURL,portNumber,securityIdentity,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1],EQUIVDDB,EQUIVDDB,Oracle,/home/wasencio/jars/oracle,1521,SI_PEQUIV,10.4.33.26,oracle.jdbc.xa.client.OracleXADataSource,oracle.jdbc.OracleDriver"
* ConfiguraciÃ³n de una conexiÃ³n ODBC
Editar el archivo odbc.ini. En la variable $ODBCINI se encuentra la ruta completa del archivo.
* ConfiguraciÃ³n de una conexiÃ³n SFTP
mqsicreateconfigurableservice BCOLQMGR_BROKER -c FtpServer -o ftpSENTRANSACCIONAL -n accountInfo,protocol,scanDelay,securityIdentity,serverName -v usersftp,SFTP,120,secIdFtpSENTRANSACCIONAL,172.30.224.194:10022

* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::ICRSecurityIdentity -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::SI_PEQUIV -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso ODBC
mqsisetdbparms BCOLQMGR_BROKER -n MRXINHOUSE -u CNXBRKVAR -p *****
* Configurar el usuario y clave para un recurso SFTP ( Correspondiente al ejemplo anterior )
mqsisetdbparms PCOLQMGR_BROKER -n sftp::secIdFtpBancolombia -u CNXCUSEB -p *****

* Revisar propiedades de configuraciÃ³n:

mqsireportproperties BCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c FtpServer -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c ServiceRegistries -o AllReportableEntityNames -r

* Revisar configuraciÃ³n de almacenes de certificados
mqsireportproperties BCOLQMGR_BROKER -o BrokerRegistry -r

* Revisar configuraciÃ³n del HTTPListener
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPListener -a

* Revisar configuraciÃ³n del HTTPSConector
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPSConnector -a

* Revisar configuraciÃ³n del HTTPConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPConnector -r

* Revisar configuraciÃ³n del HTTPSConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPSConnector -r

* Activar estadisticas y monitoreos, esto es lo mÃ¡s complejo pero mÃ¡s efectivo para realizar una revisiÃ³n sobre algun flujo

- Se crean las siguientes colas para estadisticas
define qlocal(STATS.Servicio.WhoIsWhoCRMFlow)
define qlocal(STATS.parametrizador.ia.AI_PEQFlow)
define qlocal(STATS.icr.IA_ICRFlow)
define qlocal(STATS.listaDeControl.standar.MQListaDeControl)

- Se crean las siguientes subscripciones para recolectar estadisticas
define sub(SUB.STATS.Servicio.WhoIsWhoCRMFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/Servicio.WhoIsWhoCRMFlow') DEST(STATS.Servicio.WhoIsWhoCRMFlow)
define sub(SUB.STATS.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ALL_COMMON/parametrizador.ia.AI_PEQFlow') DEST(STATS.parametrizador.ia.AI_PEQFlow)
define sub(SUB.STATS.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ICR/icr.IA_ICRFlow') DEST(STATS.icr.IA_ICRFlow)
define sub(SUB.STATS.listaDeControl.standar.MQListaDeControl) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/listaDeControl.standar.MQListaDeControl') DEST(STATS.listaDeControl.standar.MQListaDeControl)

- Se activan las estadisticas
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f Servicio.WhoIsWhoCRMFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f listaDeControl.standar.MQListaDeControl -a -n advanced -o xml -c inactive

- Se crean las siguientes colas para monitoreo
define qlocal(MON.parametrizador.ia.AI_PEQFlow)
define qlocal(MON.icr.IA_ICRFlow)

- Se crean las siguientes subscripciones para recolectar monitoreo
define sub(SUB.MON.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ALL_COMMON/parametrizador.ia.AI_PEQFlow') dest(MON.parametrizador.ia.AI_PEQFlow)
define sub(SUB.MON.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ICR/icr.IA_ICRFlow') dest(MON.icr.IA_ICRFlow)

- Se crean los siguientes servicios configurables para generar perfiles de monitoreo
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR

- Se exportan los perfiles de monitoreo desde desarrollo
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f parametrizador.ia.AI_PEQFlow -x -p /tmp/monitoreo_AI_PEQ.xml
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f icr.IA_ICRFlow -x -p /tmp/monitoreo_AI_ICR.xml

- Se importan los perfles de monitoreo en producciÃ³n
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ -n profileProperties -p /tmp/monitoreo_AI_PEQ.xml
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR -n profileProperties -p /tmp/monitoreo_AI_ICR.xml

- Se asocian los perfiles de monitoreo al flujo
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -m AI_PEQ
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -m AI_ICR

- Se activan los monitoreos
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -c inactive
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -c inactive

* Extraer mensajes de las colas sin borrar el mensaje
q -m PCOLQMGR -i INT_PEQ_INT.QL.RES
* Extraer mensajes de las colas borrando el mensaje
q -m PCOLQMGR -I INT_PEQ_INT.QL.RES
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -o INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -O INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt

2019-11-06 16:53:45,935 - INFO - Indexing file: PTR_continuidad_banismo_v2.docx
2019-11-06 16:53:45,962 - DEBUG - ---

2019-11-06 16:53:45,968 - DEBUG - ---

2019-11-06 16:53:45,969 - DEBUG - ---

2019-11-06 16:53:45,972 - DEBUG - ---

2019-11-06 16:53:45,973 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 16:53:45,974 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 16:53:45,975 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 16:53:45,976 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 16:53:45,977 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 16:53:45,978 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 16:53:45,979 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 16:53:45,980 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20 - SBBANBCE07v
2019-11-06 16:53:45,981 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21 - SBBANBCE08v
2019-11-06 16:53:45,984 - DEBUG - ---INFORMACIÓN SERVIDORES DE APLICACIONES (APLICACIÓN CEI)
2019-11-06 16:53:45,987 - DEBUG - ---<MáquinaAppServerBanistmoCEI>: Corresponde a la IP o nombre de la máquina APP Server donde esta alojada la aplicación CEI de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 16:53:45,990 - DEBUG - ---<MáquinaAppServerBanistmo[1]> = 10.5.134.68 - SBBANBCE01v
2019-11-06 16:53:45,993 - DEBUG - ---<MáquinaAppServerBanistmo[2]> = 10.5.134.69 - SBBANBCE02v
2019-11-06 16:53:45,995 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 16:53:45,998 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 16:53:46,000 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 16:53:46,001 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 16:53:46,003 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 16:53:46,004 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 16:53:46,005 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 16:53:46,006 - DEBUG - ---<NombreCanal> = PPAA.PDBDMF01
2019-11-06 16:53:46,009 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 16:53:46,010 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 16:53:46,011 - DEBUG - ---COMANDOS BAJAR HTTPSERVERS (IHS)
2019-11-06 16:53:46,012 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.20 HOSTNAME SBBANBCE07v
2019-11-06 16:53:46,013 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 16:53:46,014 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 16:53:46,015 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 16:53:46,016 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 16:53:46,018 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 16:53:46,022 - DEBUG - ---BAJAR APP SERVERS (CEI) PARA BANISTMO
2019-11-06 16:53:46,023 - DEBUG - ---El procedimiento para detener e iniciar los servidores de aplicaciones donde esta alojada la aplicación CEI  de Banistmo   es el siguiente (en el orden indicado):
2019-11-06 16:53:46,026 - DEBUG - ---COMANDOS APP SERVERS (CEI)
2019-11-06 16:53:46,027 - DEBUG - ---CONECTAR APP SERVER DE BANISTMO 10.5.134.68 HOSTNAME SBBANBCE01v
2019-11-06 16:53:46,028 - DEBUG - ---Conectarse a la máquina 10.5.134.68 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 16:53:46,030 - DEBUG - ---3.1.2 CONECTAR APP SERVER DE BANISTMO 10.5.134.69 HOSTNAME SBBANBCE02v
2019-11-06 16:53:46,031 - DEBUG - ---	
2019-11-06 16:53:46,034 - DEBUG - ---3.SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 16:53:46,036 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 16:53:46,039 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 16:53:46,040 - DEBUG - ---CONECTAR A GESTOR DE COLAS 10.5.132.12 HOSTNAME SBBANBLMQ01V
2019-11-06 16:53:46,042 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 16:53:46,044 - DEBUG - ---Aplicar 
2019-11-06 16:53:46,046 - DEBUG - ---sudo su - mqm
2019-11-06 16:53:46,048 - DEBUG - ---	
2019-11-06 16:53:46,052 - INFO - Indexing file: PTR_continuidad_banismo(1).docx
2019-11-06 16:53:46,077 - DEBUG - ---

2019-11-06 16:53:46,082 - DEBUG - ---

2019-11-06 16:53:46,082 - DEBUG - ---

2019-11-06 16:53:46,085 - DEBUG - ---

2019-11-06 16:53:46,088 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 16:53:46,090 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 16:53:46,091 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 16:53:46,092 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 16:53:46,093 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 16:53:46,094 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 16:53:46,096 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 16:53:46,099 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20
2019-11-06 16:53:46,101 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21
2019-11-06 16:53:46,103 - DEBUG - ---<NombreWebServer>: Nombre del web server.
2019-11-06 16:53:46,104 - DEBUG - ---<NombreWebServer[1]> = server1
2019-11-06 16:53:46,105 - DEBUG - ---<NombreWebServer[2]> = server1
2019-11-06 16:53:46,107 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 16:53:46,110 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 16:53:46,112 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 16:53:46,115 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 16:53:46,118 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 16:53:46,121 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 16:53:46,123 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 16:53:46,125 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 16:53:46,128 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 16:53:46,131 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 16:53:46,132 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.134.20 HOSTNAME SBBANBCE07v
2019-11-06 16:53:46,133 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 16:53:46,135 - DEBUG - ---BAJAR WEB SERVER WebServer1
2019-11-06 16:53:46,136 - DEBUG - ---          Ubicarse en la ruta   /opt/IBM/HTTPServer/bin
2019-11-06 16:53:46,139 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 16:53:46,140 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 16:53:46,142 - DEBUG - ---BAJAR WEB SERVER WEBSERVER1
2019-11-06 16:53:46,143 - DEBUG - ---Ubicarse en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 16:53:46,145 - DEBUG - ---SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 16:53:46,146 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 16:53:46,148 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 16:53:46,149 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 16:53:46,151 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 16:53:46,154 - INFO - Indexing file: TIPS-BROKER-MQ.txt
2019-11-06 16:53:46,156 - DEBUG - ---************************************************* Listar broker y puertos
 **************************************************
sdurier@pbmdeadmeb01(/home/sdurier)# ps -fea | grep runmqlsr

************************************************* Permisos sudo **************************************************

Cuando fallen los permisos sobre "su" se debe ejecutar la shell (sudo sh "su - mqm") por ejemplo

********************************************* ConfiguraciÃ³n Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n endpointAddress -v https://serviceregistry.bancolombia.corp/WSRR8_0/services/WSRRCoreSDOPort

******************************************** Verificacion Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsireportproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -r

********************************************* Repisado usuario registry ****************************************

mqsisetdbparms PBANQMGR_BROKER -n DefaultWSRR::WSRR -u CNXWPBBA

*********************************************Configuracion needCache ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n needCache -v false 

*********************************************Version Broker ****************************************
PBMDEADMEB01[mqsi7tes]/opk/IBM/mqsi/7.0/bin>mqsiservice -v


mqsiservice -v

*********************************************reiniciar grupo de ejecucion ****************************************

mqsistopmsgflow CPANQMGR -e FINACLE_SWIFT

mqsistopmsgflow -p 1414 -q PPANQMGR -b PPANQMGR_BROKER -e GD_COMMON


******************************************** Matar y reiniciar GE hilos grupos de ejecucion GE *********************************

mqsireload CPANQMGR_BROKER -e GEIAM_H01


******************************************** Refrescar seguridad MQ SSL *************************************

Paso 1: runmqsc CPANQMGR
Paso 2: REFRESH SECURITY TYPE(SSL)
esperas que termine y listo
si no funciona.. toca reiniciar el gestor de colas

******************************************** Usuarios MQ y Broker *********************************************

mqm/mqmb4nc0*
mqsiadm/mqsib4nc0*

********************************** Revisar un datasource de tipo ODBC ***************************************

mqsicvp CCOLQMGR_BROKER -n INDOCQDB

********************************* Reinciar Broker y el gestor *************************************************

mqsistop CPANQMGR_BROKER  -----  Con el usuario mqsiadm6
mqsistop CPANQMGR_CONFIG  -----  Con el usuario mqsiadm6
endmqm CPANQMGR ------  Con el usuario mqm


strmqm CPANQMGR  ------  Con el usuario mqm
mqsistart CPANQMGR_CONFIG -----  Con el usuario mqsiadm6
mqsistart CPANQMGR_BROKER -----  Con el usuario mqsiadm6


dspmq - Para verificar el estado del gestor (mqm)
mqsilist NOMBRE_BROKER (Esto debe listar todos los grupos de ejecuciÃ³n del broker con un nÃºmero de proceso por cada grupo)
ps -fe | grep bipbroker (Con esto lista todos los Broker)
ps -fea | grep lsr (Con esto lista usuario MQ)


***************************************** Inhibir y desinhibir colas *****************************************

dentro de la consola de comandos de MQ
runmqsc PPANQMGR
alter qlocal(INT_IAFINACLE_INT.QL.REQ) get(ENABLED) put(ENABLED)
alter qlocal(LA_COLA) get(ENABLED) put(ENABLED)

ALTER QLOCAL (IAM_CUSTOMERRESPONSE_INT.QL.RES) GET(ENABLED) PUT(ENABLED)


************************************** Permisos gestor y colas *********************************************

Permisos gestor

setmqaut -m BCOLQMGR -t qmgr -g grxqqswf +setall +setid +connect +inq +set

Validar Permisos Qmanager
estot
dspmqaut -m CCOLQMGR -t qmgr -g grxqqswf

Permisos colas

setmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb +inq +put +set


Validar Permisos Colas
dspmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb


Permisos Topicos

setmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Exception" -t topic q -g mqdpcnxd +setid +pub +sub

Validar Permisos Topicos

dspmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Info" -t top -g mqdpcnxd

****************************************** inyectar mensajes por consola ********************************
Usuario mqm

q -m CCOLQMGR -o INT_PEPSYS2CLS_INT.QL.CFG âF /tmp/INT_PEPSYS2CLS_INT.QL.CFG.txt

***************************************** Ver el consume de memoria de un proceso ***************************************

svmon -P 19923018 -O summary=basic,unit=MB

********************************** ruta donde estÃ¡ el log de java de un grupo de ejecuciÃ³n ********************************************

/var/mqsi/components/nombre-broker/+ codigo del GE 

PBMDEAPMEB01[sdurier]/home/sdurier>ps -fea | grep GEINT_H04
 mqsiadm 17563772  9633996   0 21:32:08      -  0:00 /bin/ksh /opk/IBM/mqsi/7.0/bin/startDataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 mqsiadm 19071054 17563772   1 21:32:08      - 90:44 DataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 sdurier 26607618 24838288   0 11:08:19 pts/12  0:00 grep GEINT_H04


/var/mqsi/components/nombre-broker8aec7593-3c01-0000-0080-8f3c80cf8deb


********************************** comrprimir el log de java de un grupo de ejecuciÃ³n ********************************************


tar cvf - stderr stdout  | gzip -c > /tmp/logs.tar.gz

******************************************* Ver los 10 procesos de mayor consumo ************************************************

ps auxw | sort -r +3 |head -10

******************************************* Creacion Colas .def **********************************************************************

runmqsc CCOLQMGR < QM-SAT25.def > QM-SAT25.def.txt

echo "define qlocal (SVE_NEGDIVISAS_INT.QL.RES)" | runmqsc CCOLQMGR
DEFINE QLOCAL (INT_TODO0062ERU_INT.QL.REQ)
DEFINE QALIAS(PCCALERENV) TARGQ(PCC_ALERTAS_ENVIADAS.QL.REQ) DESCR('Cola alias de la colaÂ  PCC_ALERTAS_ENVIADAS.QL.REQ') 

******************************************** Extraer y Eliminar una cantidad especifica de mensajes en una cola ***********************************

q -m PCOLQMGR -I INT_SINCCLIENTE_FIN.QL.REQ -L19 > /tmp/INT_SINCCLIENTE_FIN.QL.REQ1.txt (-L19 Cantidad a borrar)

**************************************** Extraer mensajes *****************************************************************

q -m PCOLQMGR -I GAF_INFOCIFIN.QL.RES > /tmp/GAF_INFOCIFIN.QL.RES.txt (Eliminando mensajes)


****************************************** Extraer de mensajes de una cola con encabezado *************************************************

q -m CBANQMGR -i FIN_OUTMENSAJEBAN_SWI.QL.ERR -dd3 > /tmp/FIN_OUTMENSAJEBAN_SWI.QL.ERR.txt  (Dejando copia)
donde MQ es el gestor, y Q el nombre de la cola

****************************************** Extraer de mensajes de una cola por mensaje (individual) *************************************************

/var/mqm/qload âm QMGR âi COLA âf /tmp/MENSAJES/mensaje%n.txt

/var/mqm/qload âm PBANQMGR âi FIN_OUTMENSAJEBAN_SWI.QL.ERR âf /tmp/MENSAJES/mensaje%n.txt

Extraer mensajes para reinyecciÃ³n posterior
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO%n
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO


********************************************* Copiar o mover mensajes entre Colas ******************************************************************

Move messages between Queues : q -m QueueManager -IQ1 -oQ2
Copy messages between Queues : q -m QueueManager -iQ1 -oQ2

q -m PPANQMGR -iFIN_FINACLE_INTEGR_SWIFTPA_QL_ERR -oFIN_OUTMENSAJEPA_SWI.QL.RES

******************************************** Conocer el puerto de un broker *****************************************************************************

ps -fea | grep runmqlsr

******************************************  Sobreescribir una variable en un .bar ***********************************************************

mqsiapplybaroverride -b archivo.bar -m "Variable=Valor"

mqsiapplybaroverride -b TOD0052_SCT.bar -m "Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS" 

TambiÃ©n se puede sobrescribir una variable a partir de un archivo

En el archivo solo escribe 

Variable=Valor
Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS

Se guarda el archivo con extensiÃ³n .properties

Y luego en consola se ingresa el siguiente comando

mqsiapplybaroverride -b archivo.bar -p archivo.properties

mqsiapplybaroverride -b CM_HUB-RecuperarCliente_SC.bar -p CM_HUB-RecuperarCliente_SC.properties

Para generar un nuevo bar con los valores que se sobre escribieron.

mqsiapplybaroverride -b SAT99_RecaudoTarjetaCredito.bar -p CM_HUB-RecuperarCliente_SC.properties -o SAT99_RecaudoTarjetaCredito_QA.bar

*************************************** Desplegar un .bar *****************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e ALL_COMMONS -a TODO1ConsumerAdapter.bar


**************************************** Desinstalar un flujo **************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e CRM_SINCFE_GEN -d com.bancolombia.client.CopyOriginalMsg_Agg.cmf

**************************************** Validar propiedades de un flujo **************************************************


mqsilist CPANQMGR_BROKER -e GEINT_M02 -r -d2 

**************************************** Habilitar eventos monitoreo ********************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "ErrorAdapterV2.0.terminal.in" -i enable

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "LoggingAdapterV2.0.terminal.in" -i enable


***************************************** Activar monitoreo en flujos ******************************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -c active

******************************************* Activar y desactivar estadisticas GE **************************************

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c active -o xml -n basic

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c inactive -o xml -n basic


**************************************** Creacion grupo ejecucion *************************************************

mqsicreateexecutiongroup CPANQMGR_BROKER -e GEINT_H02

*************************************** Reiniciar Flujos ************************************************************

mqsistopmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

mqsistartmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

****************************************** Ingreso password datasource (repisar) ***************************************

mqsisetdbparms broker -n Nombre del Datasource -u Usuario

mqsisetdbparms PPANQMGR_BROKER -n INDOCPDB -u CATALOGO

******************************************* Ingreso password SFTP *************************************************

mqsisetdbparms broker -n sftp:nombre de la conexiÃ³n SFTP -u usuario 

mqsisetdbparms CCOLQMGR_BROKER -n sftp::secIdFtpSenTrans -u usersftp -p Azsx.4123

********************************************** Ruta - Revision Datasources creados y SFTP *************************************

/var/mqsi/registry/CPANQMGR_BROKER/CurrentVersion/DSN

RUTA PARA VERIFICAR LOS ODBC EXISTENTES

 /odbc64.ini Ruta para verificar los ODBC existentes

 Para ver que .ini se esta utilizando echo $ODBCINI
 
 vi /home/mqsiadm/odbc64.ini
 
*********************************************** Reporte general de Configuracion Broker ******************************************

mqsireportproperties CPANQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r


*************************************************** Verificar el config Manager ************************************************

ps -fea | grep PPANQMGR_CONF

*********************************** INFORME DE PUERTO HTTP O HTTPS Y WEBSERVICES PERTENECIENTES A UN GRUPO DE EJECUCIÃN*********************************

Puerto HTTPS

mqsireportproperties BCOLQMGR2_BROKER -e Adaptadores -o HTTPConnector -r
mqsireportproperties CPANQMGR_BROKER -b httplistener -o HTTPSListener -a 

Puerto HTTP

mqsireportproperties PCOLQMGR_BROKER -e SAP_ERP_PROVEEDORES -o HTTPSConnector -r
mqsireportproperties PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -o HTTPSConnector -r
mqsireportproperties CPANQMGR_BROKER -e FINACLE_CRM -o HTTPSConnector -r

************************************************ PUERTOS HTTP Y HTTPS PARA CADA BROKER ***********************************************

mqsireportproperties BCOLQMGR2_BROKER -b httplistener -o HTTPConnector -a

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPListener -n enableSSLConnector -v true

mqsireportproperties CPANQMGR_BROKER -b httplistener -o AllReportableEntityNames -a 

**************************************************ASIGNACIÃN DE PUERTO ***************************************************************

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPSConnector -n port -v 7480 


**************************************************** LOG DE ERRORES *****************************************************************

var/mqm/errors/user.log 
/opk/IBM/mqsi/user.log PPANQMGR
/var/mqsi/common/log
var/mqm/qmgrs/BCOLQMGR2/errors


************************************************** Creacion canal *********************************************************

define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

****************************************************** CREACIÃN DE UN JDBC *******************************************************

mqsicreateconfigurableservice BCOLQMGR3_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"

mqsisetdbparms PPANQMGR_BROKER -n jdbc::HUBOPE_SecurityIdentity -u CNXBRKOPEFE

UBOPE_DS 
    connectionUrlFormat='jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1]'
    connectionUrlFormatAttr1='OPEFEQDB'
    connectionUrlFormatAttr2=''
    connectionUrlFormatAttr3=''
    connectionUrlFormatAttr4=''
    connectionUrlFormatAttr5=''
    databaseName='OPEFEQDB'
    databaseType='Oracle'
    databaseVersion='default_Database_Version'
    description='default_Description'
    environmentParms='default_none'
    jarsURL='/opk/mqsiadm/drivers/oracle'
    portNumber='1523'
    securityIdentity='HUBOPE_SecurityIdentity'
    serverName='PBMDEAQHUB01'
    type4DatasourceClassName='oracle.jdbc.xa.client.OracleXADataSource'
    type4DriverClassName='oracle.jdbc.OracleDriver'



****************************************************** CAMBIAR PROPIEDADES DE UN JDBC ****************************************************

mqsichangeproperties BCOLQMGR_BROKER -c JDBCProviders -o DS_TRACING -n databaseName -v TRACEDDB

-n --NombrePropiedad-- -v --ValorPropiedad- -o NombreJDBC

****************************************************** LISTAR TODOS LOS JDBC ****************************************************

mqsireportproperties PCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r 

************************************************** ExtracciÃ³n de Certificados ******************************************************************

keytool -export -keystore BrokerKeystore.jks -alias brokerdesarrollo -file Cert_Desarrollo.cert


display channel(MUREX.SVRCONN) all


***************************************************** OBTENCIÃN DE CERTIFICADOS MQ ******************************************************************

gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary>

gsk7cmd -cert -extract -db key_pcolqmgr.kdb -pw key_pcolqmgr -type cms -label ibmwebspheremqpcolqmgr -target /tmp/cert_pcolqmgr.arm -format ascii


***************************************************** Certificados *****************************************************************
gsk7cmd -cert -add -db BCOLQMGR2.kdb -pw BCOLQMGR2 -label ibmwebspheremqcnxqdmpt -format ascii -trust enable -file /tmp/ibmwebspheremqcnxqdmpt.cer (Cuando envian un certificado y deseo agregarlo a mi truestore en el caso de mq keystore, usuario externeo ejemplo ibmwebspheremqcnxqdmpt)

gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename> (Cuando es un certificado personal, por lo Gral es add (Punto 1))


gsk7cmd -cert -list personal -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert personales)
gsk7cmd -cert -list all -db BCOLQMGR2.kdb -pw BCOLQMGR2 -type cms


gsk7cmd -cert -extract -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms -label ibmwebspheremqccolqmg2 -target /tmp/ibmwebspheremqccolqmg2.cer -format ascii 


gsk7cmd -cert -list CA -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert firmantes)


**************************************************** para validar recursos en broker SMTP ******************************************************

mqsireportproperties CCOLQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r

para modificar un recurso en broker SMTP

mqsichangeproperties CCOLQMGR_BROKER -c SMTP -o BancolombiaSMTPService -n serverName -v Exchange.bancolombia.corp


**************************************************** Limpiar un log **************************************************

> user.log

**************************************************** Hacer un cambio a una propiedad *******************************************

mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsichangeproperties PPANQMGR_BROKER -c Aggregation -o HeaderESBXML_FINACLE -n timeoutSeconds -v 60
BIP8071I: Successful command completion.
mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsireportproperties PPANQMGR_BROKER -c Aggregation -o AllReportableEntityNames -r

Aggregation
  HeaderESBXML_FINACLE
    queuePrefix=''
    timeoutSeconds='60'
  IntAdap_Aggregate
    queuePrefix=''
    timeoutSeconds='20'

BIP8071I: Successful command completion.

******************************************************* Cambiar el numero de instancias en un flujo **********************************

1. Hacer un mqsireadbar al .bar y sacarlo a un .txt
2. En el archivo buscar el parametro por ejm (IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances)
3. a este parametro se le hace un mqsiapplybaroverride igualandolo al valor que indiquen ejm (mqsiapplybaroverride -b IA_FINACLE.bar -m "IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances=4")
4. desplegamos el bar y verificamos en la evidencia.

::::::::::::::::::::::::::::::::::

5.
Canales
--------------------------------------------------------------------------------------------------------------------------------
(listar las conexiones de un canal y su estado)
echo "display chstatus(NOMBRE_CANAL) status" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(OPTIONAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit y SSL)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(REQUIRED) sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)')" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente con SSL)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)') sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER
/var/mqm/qmgrs/[QUEUE_MANAGER]/@ipcc

(eliminar canal SVRCONN y CLNTCONN)
echo "delete channel(NOMBRE_CANAL)" | runmqsc PPANQMGR
echo "delete channel(NOMBRE_CANAL) CHLTABLE(CLNTTBL)" | runmqsc PPANQMGR

(detener/iniciar un canal)
echo "stop chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "start chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(refrescar canal)
echo "refresh qmgr type(CONFIGEV) name(NOMBRE_CANAL) object(CHANNEL)" | runmqsc NOMBRE_QUEUE_MANAGER

(inactivar un canal de manera controlada y de manera forzada, respectivamente)
echo "stop chl(NOMBRE_CANAL) mode(quiesce) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "stop chl(NOMBRE_CANAL) mode(force) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER





Activar
mqsichangetrace PCOLQMGR_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l debug -r -c 1048576


Desactivar
mqsichangetrace NOMBRE_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l none  



Convertir log                              
mqsireadlog NOMBRE_BROKER -u -e GETES_M01 -o log.xml
mqsiformatlog -i log.xml -o log_flujo.log 


********************************* mirar la dead letter queue de un gestor **************************************

mqm@pbmdeaqprs01(/var/mqm)# runmqsc CPANQMGR
5724-H72 (C) Copyright IBM Corp. 1994, 2009.  ALL RIGHTS RESERVED.
Starting MQSC for queue manager CPANQMGR.


dis qmgr all
     1 : dis qmgr all
AMQ8408: Display Queue Manager details.
   QMNAME(CPANQMGR)                        ACCTCONO(DISABLED)
   ACCTINT(1800)                           ACCTMQI(OFF)
   ACCTQ(OFF)                              ACTIVREC(MSG)
   ALTDATE(2013-05-23)                     ALTTIME(14.35.39)
   AUTHOREV(ENABLED)                       CCSID(819)
   CHAD(DISABLED)                          CHADEV(DISABLED)
   CHADEXIT( )                             CHLEV(ENABLED)
   CLWLDATA( )                             CLWLEXIT( )
   CLWLLEN(100)                            CLWLMRUC(999999999)
   CLWLUSEQ(LOCAL)                         CMDEV(ENABLED)
   CMDLEVEL(701)                           COMMANDQ(SYSTEM.ADMIN.COMMAND.QUEUE)
   CONFIGEV(ENABLED)                       CRDATE(2013-03-08)
   CRTIME(11.09.26)                        DEADQ(CPANQMGR.DEAD.LETTER.QUEUE)
   DEFXMITQ( )                             DESCR( )
   DISTL(YES)                              INHIBTEV(DISABLED)
   IPADDRV(IPV4)                           LOCALEV(DISABLED)
   LOGGEREV(DISABLED)                      MARKINT(5000)
   MAXHANDS(256)                           MAXMSGL(104857600)
   MAXPROPL(NOLIMIT)                       MAXPRTY(9)
   MAXUMSGS(10000)                         MONACLS(QMGR)
   MONCHL(OFF)                             MONQ(OFF)
   PARENT( )                               PERFMEV(ENABLED)
   PLATFORM(UNIX)                          PSRTYCNT(5)
   PSNPMSG(DISCARD)                        PSNPRES(NORMAL)
   PSSYNCPT(IFPER)                         QMID(CPANQMGR_2013-03-08_11.09.26)
   PSMODE(ENABLED)                         REMOTEEV(DISABLED)
   REPOS( )                                REPOSNL( )
   ROUTEREC(MSG)                           SCHINIT(QMGR)
   SCMDSERV(QMGR)                          SSLCRLNL( )
   SSLCRYP( )                              SSLEV(ENABLED)
   SSLFIPS(NO)
   SSLKEYR(/var/mqm/qmgrs/CPANQMGR/ssl/key_cpanqmgr)
   SSLRKEYC(0)                             STATACLS(QMGR)
   STATCHL(OFF)                            STATINT(1800)
   STATMQI(OFF)                            STATQ(OFF)
   STRSTPEV(ENABLED)                       SYNCPT
   TREELIFE(1800)                          TRIGINT(999999999)


*********Determinar nÃºmero de mensajes en la cola, y si aÃºn no han sido aplicados (COMMIT) *********

DISPLAY QSTATUS(REC_QRINOTCLI_RIN.QL.REQ) CURDEPTH UNCOM
DISPLAY QSTATUS(REC_QRINUNE_RIN.QL.REQ) CURDEPTH UNCOM

********************* Crear grupo de ejecucion ************************++

mqsicreateexecutiongroup CCOLQMGR_BROKER -e GE_GEN_01

************************* Activar monitoreo de flujos ******************+

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "ErrorAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoError_flujo.txt

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "LoggingAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoLogin_flujo.txt
2019-11-06 16:53:46,170 - INFO - Indexing file: Reinicio de Intermedia.docx
2019-11-06 16:53:46,183 - DEBUG - ---Reinicio de Intermedia
2019-11-06 16:53:46,185 - DEBUG - ---A continuación se detallará el paso a paso para reiniciar Intermedia.
2019-11-06 16:53:46,187 - DEBUG - ---Ubicarse en la consola de servicios de Windows.  Se puede ingresar por Panel de Control -> Herramientas Administrativas -> Servicios (como se ve en la imagen de abajo).
2019-11-06 16:53:46,188 - DEBUG - ---También se puede ingresar digitando en la ventana Ejecutar (Run) “services.msc” (como se ve en la imagen de abajo):
2019-11-06 16:53:46,189 - DEBUG - ---Luego, ubicarse en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “stop”:
2019-11-06 16:53:46,190 - DEBUG - ---En la ventana que aparece a continuación “Stop Other Services”, dar clic en el botón “Yes”.
2019-11-06 16:53:46,190 - DEBUG - ---Los servicios “beasvc valores_domain_IntermediaServer” y “beasvc valores_domain_ReportesIntServer” deben estar detenidos:
2019-11-06 16:53:46,191 - DEBUG - ---Luego, estando ubicado en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “Start”
2019-11-06 16:53:46,192 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 16:53:46,194 - DEBUG - ---El servicio “beasvc valores_domain_IntermediaServer” debe aparecer en estado Started.
2019-11-06 16:53:46,196 - DEBUG - ---Luego, iniciar el servicio “beasvc valores_domain_ReportesIntServer”, dando clic derecho sobre él y seleccionar “Start”:
2019-11-06 16:53:46,197 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 16:53:46,199 - DEBUG - ---El servicio “beasvc valores_domain_ReportesIntServer”, debe aparecer en estado Started.
2019-11-06 16:53:46,200 - INFO - Indexing file: PTR_ACT - LDAP - Subir servicios WAS sbbanbld01v .docx
2019-11-06 16:53:46,238 - DEBUG - ---

2019-11-06 16:53:46,239 - DEBUG - ---Control de Versiones
2019-11-06 16:53:46,240 - DEBUG - ---

2019-11-06 16:53:46,241 - DEBUG - ---Nombre del PTR
2019-11-06 16:53:46,242 - DEBUG - ---Consideraciones previas
2019-11-06 16:53:46,243 - DEBUG - ---Validar que el área de trabajo sea el DR utilizando el comando uptime:
2019-11-06 16:53:46,244 - DEBUG - ---Para las pruebas en el DR es posible que la dirección IP del controlador de dominio destinado sea diferente al configurado en WAS por lo que es necesario en primer lugar validar dicha configuración. Si se da este caso entonces es necesario proceder a actualizar la configuración de la celda WAS para que apunte al nuevo servidor. Después de realizar este cambio es necesario reiniciar la celda completa. De igual  manera proceder a ingresar por la consola web de WAS para validar que la autenticación se exitosa.
2019-11-06 16:53:46,245 - DEBUG - ---Ingresar al archivo LDAP_DMGR/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 16:53:46,253 - DEBUG - ---Ingresar al archivo LDAP_AppSrv01/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 16:53:46,257 - DEBUG - ---Validar en la celda que servidores de aplicación se encuentran iniciados. Para esto es necesario ingresar a la consola WEB y validar el estado de los Appserver.
2019-11-06 16:53:46,258 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 16:53:46,263 - DEBUG - ---También se puede realizar esta validación ingresando por una sesión SSH y validar los proceso java que se estén ejecutando en el servidor.
2019-11-06 16:53:46,265 - DEBUG - ---Para esto es necesario ingresar a los dos servidores donde se encuentra LDAP y validar que el dmgr, node y AppeServer se encuentran en estado de ejecución. 
2019-11-06 16:53:46,266 - DEBUG - ---SBBANBLD01v
2019-11-06 16:53:46,268 - DEBUG - ---SBBANBLD02v
2019-11-06 16:53:46,270 - DEBUG - ---Por último es necesario validar que la Shell que inicia y detiene servicios se encuentre en el home del usuario de servicio de WAS. Esto lo encontramos en la siguiente ruta.
2019-11-06 16:53:46,272 - DEBUG - ---wassvc01@SBBANBLD01v:~>
2019-11-06 16:53:46,273 - DEBUG - ---wassvc01@SBBANBLD02v:~>
2019-11-06 16:53:46,276 - DEBUG - ---Descripción de las actividades
2019-11-06 16:53:46,278 - DEBUG - ---Detener servicios del LDAP en WAS
2019-11-06 16:53:46,280 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 16:53:46,283 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 16:53:46,286 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 16:53:46,288 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 16:53:46,291 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 16:53:46,293 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 16:53:46,294 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 16:53:46,296 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 16:53:46,300 - DEBUG - ---Iniciar servicios del LDAP en WAS
2019-11-06 16:53:46,303 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 16:53:46,304 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 16:53:46,305 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 16:53:46,307 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 16:53:46,310 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 16:53:46,311 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 16:53:46,313 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 16:53:46,315 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 16:53:46,317 - DEBUG - ---Para finalizar se ingresa a la consola para validar que todo los servicios se encuentran en estado runin.
2019-11-06 16:53:46,320 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 16:53:46,321 - INFO - Indexing file: Bibliotecas Compartidas.docx
2019-11-06 16:53:46,330 - DEBUG - ---Bibliotecas Compartidas
2019-11-06 16:53:46,331 - DEBUG - ---Las bibliotecas compartidas permiten configurar los jar que serán usados por la aplicación. En el banco encontramos tres tipos de bibliotecas compartidas:
2019-11-06 16:53:46,332 - DEBUG - ---De uso común: Transversal a muchas aplicaciones. Hacen parte del framework de Bancolombia y están agrupadas por las tareas que ejecutan. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen. No se deben referenciar directorios. 
2019-11-06 16:53:46,333 - DEBUG - ---Bibliotecas de Uso Común
2019-11-06 16:53:46,334 - DEBUG - ---Biblioteca de Encripción
2019-11-06 16:53:46,335 - DEBUG - ---Bibliotecas de Transformación de Mensajería
2019-11-06 16:53:46,336 - DEBUG - ---Biblioteca Seguridad
2019-11-06 16:53:46,337 - DEBUG - ---Biblioteca Web Services
2019-11-06 16:53:46,337 - DEBUG - ---De framewors de terceros: En este caso se debe tener presente la versión referenciada en la biblioteca. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios.
2019-11-06 16:53:46,338 - DEBUG - ---Hibernate
2019-11-06 16:53:46,339 - DEBUG - ---Spring
2019-11-06 16:53:46,340 - DEBUG - ---De uso específico de la aplicación: También existen bibliotecas con jars específicos de la aplicación. Sin embargo, se aclara que en NINGÚN caso deben referenciar cualquiera de los siguientes jars: 
2019-11-06 16:53:46,341 - DEBUG - ---servlet.jar
2019-11-06 16:53:46,341 - DEBUG - ---jstl.jar
2019-11-06 16:53:46,343 - DEBUG - ---mail.jar
2019-11-06 16:53:46,344 - DEBUG - ---activation.jar
2019-11-06 16:53:46,344 - DEBUG - ---junit.jar
2019-11-06 16:53:46,345 - DEBUG - ---xercesImpl.jar
2019-11-06 16:53:46,346 - DEBUG - ---xml-apis.jar
2019-11-06 16:53:46,347 - DEBUG - ---el-api.jar
2019-11-06 16:53:46,347 - DEBUG - ---el-impl.jar
2019-11-06 16:53:46,348 - DEBUG - ---Su classpath es /wrkdirr/xxxdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios. Las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 16:53:46,348 - DEBUG - ---
Configuración del alcance (scope):
2019-11-06 16:53:46,349 - DEBUG - ---Al encontrarnos en una configuración Network Deployment tenemos la posibilidad de crear la biblioteca en los siguientes alcances:
2019-11-06 16:53:46,350 - DEBUG - ---Celda (Cell): Se debe seleccionar para las bibliotecas compartidas de uso común.
2019-11-06 16:53:46,351 - DEBUG - ---Grupo de servidores (Cluster): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en cluster.
2019-11-06 16:53:46,351 - DEBUG - ---Nodo (Node): No se debe usar.
2019-11-06 16:53:46,352 - DEBUG - ---Servidor (Server): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en un solo servidor de aplicaciones.
2019-11-06 16:53:46,353 - DEBUG - ---Excepciones: 
2019-11-06 16:53:46,353 - DEBUG - ---Si una aplicación desea referenciar un nuevo JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 16:53:46,354 - DEBUG - ---El JAR no afecta el correcto funcionamiento de las aplicaciones que actualmente usan dicha biblioteca compartida.
2019-11-06 16:53:46,354 - DEBUG - ---El JAR si es de uso común y no es especifico de la aplicación.
2019-11-06 16:53:46,355 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida solo con el (los) nuevos JAR’s, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 16:53:46,356 - DEBUG - ---Si una aplicación desea referenciar una versión diferente del JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 16:53:46,356 - DEBUG - ---¿Es una nueva versión? 
2019-11-06 16:53:46,357 - DEBUG - ---¿Es compatible con versiones anteriores, con el fin de no afectar aplicaciones que usen una versión anterior?
2019-11-06 16:53:46,357 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida con los JAR’s que usara la aplicación, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 16:53:46,358 - INFO - Indexing file: Archivos_Configuracion_y_Log.docx
2019-11-06 16:53:46,363 - DEBUG - ---Archivos de Configuración y Log
2019-11-06 16:53:46,363 - DEBUG - ---La idea es que el despliegue de las aplicaciones web se realice con base en un archivo de configuración inicial en formato XML. En este archivo se definen las propiedades que requiere el aplicativo de forma estática y que cambian de acuerdo al ambiente.
2019-11-06 16:53:46,364 - DEBUG - --- 
2019-11-06 16:53:46,364 - DEBUG - ---Propiedades como usuarios de conexión, passwords encriptados, rutas en el sistema de archivos, endpoints para acceder web services, nombres de librerías, nombres de dataqueues (en el caso de la plataforma ISeries), etc, deberán definirse en este archivo. El nombre de este XML de configuración, debe ser: xxx-conf.xml, donde las tres (3) X corresponden al nombre asignado al aplicativo. Ejemplos: tac-conf.xml, pcc-conf.xml, tmx-conf.xml, cae-conf.xml. 
2019-11-06 16:53:46,365 - DEBUG - ---Este archivo deberá ubicarse en una ruta creada para tal efecto y cuyo estándar es el siguiente: /wrkdir/xxxdir. Las tres (3) X corresponden a la sigla asignada al aplicativo. Como ejemplos tenemos: /wrkdirr/tacdirr, /wrkdirr/pccdirr, /wrkdirr/tmxdirr, /wrkdirr/caedirr. 
2019-11-06 16:53:46,366 - DEBUG - ---En este directorio se deben ubicar todos los componentes que hacen parte de la aplicación y que no hacen parte del EAR. Por ejemplo:
2019-11-06 16:53:46,368 - DEBUG - ---JAR’s propios de la aplicación.
2019-11-06 16:53:46,370 - DEBUG - ---Almacenes de certificados (KeyStore)
2019-11-06 16:53:46,371 - DEBUG - ---Archivos de configuración como el ya mencionado xxx-conf.xml
2019-11-06 16:53:46,372 - DEBUG - ---Para que la aplicación pueda acceder a estos archivos, la idea es crear una propiedad personalizada a nivel de la máquina virtual del servidor. El estándar para nombrar esta propiedad será: co.com.grporg.bancolombia.entappxxx.configfile, donde las tres (3) X corresponden a la sigla que identifica cada aplicativo. Dentro del archivo de configuración, debe hacerse referencia a una propiedad en la cual se parametriza la ruta en la que se localiza el archivo de configuración de log. Dicha propiedad en el ejemplo, se llama NombreArchivoLog. El estándar para el nombre de este archivo es xxx-log.xml, donde las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 16:53:46,375 - DEBUG - ---En este archivo se definen los niveles y tipos de archivo de log que debe generar el aplicativo. La idea es que se generen dos archivos: XXXInfo.log y XXXError.log. Nuevamente las tres (3) X corresponden a la sigla asignada al aplicativo. En el ejemplo tenemos TMXInfo.log y TMXError.log. Con ello, se previene que la aplicación escriba en la consola, práctica que debe ser erradicada en ambientes de producción. El insumo para estos archivos es la existencia de una ruta denominada /logdir/xxxdir. De nuevo, las tres (3) X identifican el aplicativo. Como ejemplo, tenemos /logdirr/tmxdirr.
2019-11-06 16:53:46,378 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-06 16:53:46,409 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 16:53:46,411 - DEBUG - ---Gerencia de infraestructura banistmo
2019-11-06 16:53:46,415 - DEBUG - ---SUCURSAL VIRTUAL PERSONAS 
2019-11-06 16:53:46,417 - DEBUG - ---BANISTMO
2019-11-06 16:53:46,419 - DEBUG - ---

2019-11-06 16:53:46,421 - DEBUG - ---Control del Documento
2019-11-06 16:53:46,423 - DEBUG - ---

2019-11-06 16:53:46,425 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 16:53:46,431 - DEBUG - ---

2019-11-06 16:53:46,433 - DEBUG - ---DIAGRAMA DE COMPONENTES DEL DISEÑO SEGÚN LA PLATAFORMA
2019-11-06 16:53:46,435 - DEBUG - ---Producción
2019-11-06 16:53:46,436 - DEBUG - ---

2019-11-06 16:53:46,436 - DEBUG - ---Diagrama E2E
2019-11-06 16:53:46,438 - DEBUG - ---DESCRIPCIÓN DETALLADA DE CADA COMPONENTE EN LA PLATAFORMA BANCO 
2019-11-06 16:53:46,439 - DEBUG - ---PRODUCCIÓN
2019-11-06 16:53:46,440 - DEBUG - ---SECURITY GATEWAY:
2019-11-06 16:53:46,440 - DEBUG - ---El aplicativo Security Gateway cumple el rol de mediador entre el Front-End y los sistemas externos Integrador (ESB), DetectID y Directorio Activo, ADM.
2019-11-06 16:53:46,441 - DEBUG - ---ADM:
2019-11-06 16:53:46,442 - DEBUG - ---Administración de Usuarios. 
2019-11-06 16:53:46,444 - DEBUG - ---Es la aplicación de administración de usuarios, se valida existencia del usuario que está ingresando a la SVP.
2019-11-06 16:53:46,445 - DEBUG - ---DETECT ID
2019-11-06 16:53:46,446 - DEBUG - ---Aplicación que centraliza parte de la seguridad de la nueva Sucursal Virtual Personas (Autenticación, pregunta y respuesta secreta, creación de usuario y contraseña, imagen etc.).
2019-11-06 16:53:46,448 - DEBUG - ---BUS DE INTEGRACION
2019-11-06 16:53:46,449 - DEBUG - ---INTERMEDIARIO
2019-11-06 16:53:46,450 - DEBUG - ---Servidor De Aplicaciones:
2019-11-06 16:53:46,451 - DEBUG - ---Es un producto de la suite de websphere, que está diseñado para soportar sitios web dinámicos, aplicaciones y servicios web. De carácter integrador y multiplataforma (middleware), presta servicios de conectividad de bases de datos, conexión entre diferentes ESB, entre otras funcionalidades a base de código java.
2019-11-06 16:53:46,453 - DEBUG - ---DESCRIPCIÓN DETALLADA DEL DISEÑO EN LA PLATAFORMA
2019-11-06 16:53:46,454 - DEBUG - ---SERVIDOR DE APLICACIONES:
2019-11-06 16:53:46,455 - DEBUG - ---PRODUCCION – UAT – DESARROLLO
2019-11-06 16:53:46,457 - DEBUG - ---Lista De Chequeo recomendado para diagnostico  
2019-11-06 16:53:46,458 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 16:53:46,459 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 16:53:46,460 - DEBUG - ---Ej: https://10.5.161.169:9043/admin
2019-11-06 16:53:46,461 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación y validar los logs del App Server systemerr y systemout
2019-11-06 16:53:46,462 - DEBUG - ---Comprobar el ‘estado de salud’ de la máquina. Lo más importante es identificar el consumo de memoria y disco.
2019-11-06 16:53:46,463 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones. 
2019-11-06 16:53:46,464 - DEBUG - ---Contingencia de Infraestructura  Asociadas al servicio
2019-11-06 16:53:46,464 - DEBUG - ---Los procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 16:53:46,465 - DEBUG - ---El servidor de aplicaciones se encuentra instalado en dos máquinas distintas (Power HA) de modo activo – activo. En las mismas maquinas también está instalado el WebServer y este debe permanecer con el esquema activo – pasivo y con este se determina cuál de las dos máquinas se encuentra atendiendo el servicio.
2019-11-06 16:53:46,469 - DEBUG - ---

2019-11-06 16:53:46,470 - DEBUG - ---Errores conocidos de la Infraestructura
2019-11-06 16:53:46,473 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 16:53:46,474 - DEBUG - ---A Nivel De Was
2019-11-06 16:53:46,476 - DEBUG - ---A Nivel De La Aplicación
2019-11-06 16:53:46,479 - INFO - Indexing file: SAS ALM REINICIO SERVICIOS AML APP - PRODUCCION.txt
2019-11-06 16:53:46,481 - DEBUG - ---REINICIO DE SERVICIOS ALD - PRODUCCION - APP Y WEB - nuevos
--------------------------------------------------------------------------------------------------

OJO: PARA DETENER PRIMERO TODO LO DEL WAS Y LUEGO TODO EL SERVIDOR DE APLICACIONES.
PARA INICIAR, PRIMERO TODO EL SERVIDOR APLICACIONES Y LUEGO EL SERVIDOR WEB

				DETENCION DE SERVICIOS
               		------------------------------------------
SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------

1. DETENCION SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Autenticarse con el usuario wassvc en el servidor 10.4.80.25 y ejecutar:

DETENCION DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopManager.sh" -profileName "WAS01DMGRAML"

Se debe garantizar que no quede ningun proceso asociado al DMGR, al perfil ni tampoco a los application servers, para ello, en putty, ejecutar

ps -fea |grep WAS01AMLAS4
ps -fea |grep WAS01AMLAS3
ps -fea |grep WAS01AMLAS2
ps -fea |grep WAS01AMLAS1
ps -fea |grep WAS01AMLPF
ps -fea |grep WAS01DMGRAML

No nos deberia devolver procesos asociados, en caso contrario matarlos con kill -9

2. DETENCION SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP

Para garantizar que no quede ningun proceso asociado al puerto 5095 (remote services) se debe ejecutar por putty el comando:

netstat -Aan | grep 5095

Lo cual devuelve un resultado como:

f100070001028bb0 tcp4       0      0  *.5095            *.*      LISTEN     para el puerto 5095
valor de ejemplo


con este dato, ejecutamos en consola el comando: 

rmsock f100070001028bb0 tcpcb    donde el valor de la mitad es a modo de ejemplo y se obtiene de la validación inicial del puerto

el resultado de este comando nos da el numero del proceso asociado al puerto que está LISTEN, nos da un resultado como:


The socket 0x1028808 is being held by proccess  (java).
          Valor ejemplo  

Con lo cual podríamos hacer un 

Kill -9 nro proceso   ejemplo: kill -9 766076



SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

3. DETENCION SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP


	                           INICIO DE SERVICIOS
               		------------------------------------------	

Para iniciar servicios:

SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

1. INICIO SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------

Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------
2. INICIO SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------

ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

3. INICIO DE SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC
--------------------------------------------------------------------------------------------------

INICIO DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/startManager.sh" -profileName "WAS01DMGRAML"
"/was7/IBM/WebSphere/AppServer/bin/startNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"


VALIDACION URL'S
--------------------------------------------------------------------------------------------------

Consola Administracion de WAS por puerto no seguro: http://pbmdeapwas01.bancolombia.corp:51400/ibm/console/unsecureLogon.jsp

SAS Stored Process Web Application:    		http://pbmdeapwas01.bancolombia.corp:51450/SASStoredProcess/do
SAS Web Administration Console:        		http://pbmdeapwas01.bancolombia.corp:51450/SASAdmin
SAS Web Report Studio:		       		http://pbmdeapwas01.bancolombia.corp:51500/SASWebReportStudio
SAS Information Delivery Portal        		http://pbmdeapwas01.bancolombia.corp:51450/SASPortal
SAS BI Dashboard		       		http://pbmdeapwas01.bancolombia.corp:51450/SASBIDashboard
SAS Flex Application Themes:           		http://pbmdeapwas01.bancolombia.corp:51450/SASThemeDesignerForFlex. 
SAS Enterprise Case Management Mid-tier: 	http://pbmdeapwas01.bancolombia.corp:51550/SASEntCaseManagement
SAS Help Viewer for Midtier Applications: 	http://pbmdeapwas01.bancolombia.corp:51500/SASWebDoc
SAS Anti-Money Laundering Investigation UI 5.1: http://pbmdeapwas01.bancolombia.corp:51550/AntiMoneyLaunderingInvestUI_BusinessUnit
pdnwsaml
pbmdeapwas01








2019-11-06 16:53:46,487 - INFO - Indexing file: Datos ECM - Arquitectura PSeries.docx
2019-11-06 16:53:46,565 - DEBUG - ---Las urls de Capacitación son: 
2019-11-06 16:53:46,566 - DEBUG - ---WAS: 
2019-11-06 16:53:46,567 - INFO - Indexing file: Datos ECM - Arquitectura Windows.docx
2019-11-06 16:53:46,580 - INFO - Indexing file: Pasos Instalacion TLSv1-2 RSA.docx
2019-11-06 16:53:46,589 - DEBUG - ---Ingresar al dmgr de calidad
2019-11-06 16:53:46,591 - DEBUG - ---Ir a security a la opción de la imagen a continuación.
2019-11-06 16:53:46,592 - DEBUG - ---Clic en NodeDefaultSSLSettings del nodo de calidad
2019-11-06 16:53:46,593 - DEBUG - ---Seleccionar TLSv1.2, dar clic en OK y finalmente reinciar el CLUSTER de RAS de forma escalonada.
2019-11-06 16:53:46,594 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 16:53:46,618 - DEBUG - ---Manual de Operaciones
2019-11-06 16:53:46,619 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 16:53:46,630 - DEBUG - ---IBM de Colombia S.A
2019-11-06 16:53:46,635 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 16:53:46,648 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 16:53:46,650 - DEBUG - ---DESARROLLO
2019-11-06 16:53:46,653 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:46,656 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,660 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:46,662 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 16:53:46,664 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:46,666 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 16:53:46,669 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:46,672 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:46,674 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,677 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:46,678 - DEBUG - ---

2019-11-06 16:53:46,679 - DEBUG - ---CERTIFICACIÓN
2019-11-06 16:53:46,681 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:46,683 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,687 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:46,688 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 16:53:46,688 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:46,690 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 16:53:46,691 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:46,694 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:46,697 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,700 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:46,703 - DEBUG - ---

2019-11-06 16:53:46,705 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 16:53:46,707 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:46,708 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 16:53:46,711 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:46,712 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 16:53:46,712 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:46,713 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 16:53:46,715 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:46,721 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:46,725 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,727 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:46,731 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 16:53:46,733 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:46,736 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,739 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 16:53:46,740 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:46,740 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 16:53:46,741 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 16:53:46,742 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:46,743 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 16:53:46,744 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 16:53:46,745 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:46,746 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 16:53:46,746 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 16:53:46,755 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:46,756 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 16:53:46,757 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 16:53:46,758 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 16:53:46,760 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 16:53:46,761 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:46,764 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:46,766 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,769 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:46,771 - DEBUG - ---

2019-11-06 16:53:46,772 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 16:53:46,773 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:46,775 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,777 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 16:53:46,778 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 16:53:46,779 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 16:53:46,780 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 16:53:46,782 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 16:53:46,784 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 16:53:46,786 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 16:53:46,788 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 16:53:46,789 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 16:53:46,790 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 16:53:46,791 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 16:53:46,792 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:46,795 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:46,797 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:46,800 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:46,802 - DEBUG - ---

2019-11-06 16:53:46,803 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 16:53:46,804 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 16:53:46,806 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 16:53:46,806 - DEBUG - ---AW0939
2019-11-06 16:53:46,807 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 16:53:46,808 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 16:53:46,809 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 16:53:46,809 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 16:53:46,810 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 16:53:46,812 - DEBUG - ---PASOS
2019-11-06 16:53:46,812 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 16:53:46,815 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 16:53:46,818 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 16:53:46,822 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 16:53:46,824 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 16:53:46,827 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 16:53:46,830 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 16:53:46,832 - DEBUG - ---

2019-11-06 16:53:46,834 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 16:53:46,837 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 16:53:46,840 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 16:53:46,842 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 16:53:46,844 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 16:53:46,855 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 16:53:46,856 - INFO - Indexing file: Configuración Activation specifications.docx
2019-11-06 16:53:46,872 - DEBUG - ---Activation Specifications
2019-11-06 16:53:46,873 - DEBUG - ---Seleccionar el scope respectivo, luego > NewLlenar los siguientes campos, nombre del recurso JMS 
2019-11-06 16:53:46,874 - DEBUG - ---Nombre de recurso asociado a la cola:
2019-11-06 16:53:46,874 - DEBUG - ---Nombre del gestor de colas:
2019-11-06 16:53:46,875 - DEBUG - ---Transporte: cliente, en el campo Connection name list se deben colocar las máquinas con el respectivo puerto del gestor, separadas por , 
2019-11-06 16:53:46,875 - DEBUG - ---El Test Connection en was siempre da fallido, esto no significa que la conexión no se vaya a realizar o este mal parametrizada:
2019-11-06 16:53:46,876 - DEBUG - ---

2019-11-06 16:53:46,876 - DEBUG - ---Luego de creado el activation specification se debe acceder a el para terminar de realizar las configuraciones:
2019-11-06 16:53:46,877 - DEBUG - ---Configurar SSL para canal seguro:
2019-11-06 16:53:46,877 - DEBUG - ---

2019-11-06 16:53:46,878 - DEBUG - ---Creación de colas:
2019-11-06 16:53:46,878 - DEBUG - ---

2019-11-06 16:53:46,879 - DEBUG - ---

2019-11-06 16:53:46,879 - DEBUG - ---Para activar la configuration
2019-11-06 16:53:46,879 - DEBUG - ---Se debe exportar la aplicación fsbmdb.ear
2019-11-06 16:53:46,880 - DEBUG - ---Luego se debe redesplegar una nueva aplicación fsbmdb con un nuevo nombre
2019-11-06 16:53:46,881 - DEBUG - ---Cambiar el nombre de la aplicación, relacionándolo con el nuevo recurso JMS
2019-11-06 16:53:46,881 - DEBUG - ---Seleccionar al módulo asociado los servidores y/o clusters relacionados:
2019-11-06 16:53:46,882 - DEBUG - ---Relacionar con el recurso jms creado (Activation Specification):
2019-11-06 16:53:46,883 - DEBUG - ---Luego activar la aplicación fsbmdb_HA01
2019-11-06 16:53:46,883 - INFO - Indexing file: test.docx
2019-11-06 16:53:46,887 - DEBUG - ---Documento de prueba
2019-11-06 16:53:46,887 - DEBUG - ---parrafa 1 ok
2019-11-06 16:53:46,887 - DEBUG - ---parrafa 2 ok
2019-11-06 16:53:46,888 - DEBUG - ---parrafa 3 ok
2019-11-06 16:53:46,888 - DEBUG - ---parrafa 4 ok
2019-11-06 16:53:46,888 - INFO - Indexing file: test.txt
2019-11-06 16:53:46,889 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-06 16:53:46,890 - INFO - Indexing file: portal.txt
2019-11-06 16:53:46,891 - DEBUG - ---
home bancolombia --> intergrupo
home banitsmo    ------> nosotros

arquitecrua
---------------------------------------------
dallas nodo 1, dmgr
washington nodo 2
server 1 ihs y ventas digitales banitsmo
server 2 ihs y ventas digitales banitsmo
db 1  en HADR
db 2  en HADR
balanceadores de carga (con redes)

la db apunta a un nodo en particular, si hay contigencia se debe apuntar a mano

el producto portal utiliza el usuario 'portal'
los WAS usand el usuario 'portal'
los ihs usan 'wasadmin'

todo estÃ¡ en un keepass  -------> conseguir

para probar cargar www.banitsmo.com

esructuras
--------------------
dllo y QA son administrador por intergrupo
el XML de estructura se exporta desde ahi y se importa en producciÃ³n con XMLAccess


contenidos
--------------------
automatico a las 1pm y 6pm
puede hacerse manual con la consola web
tambien hay script que tiene intergrupo

dentro de WAS la aplicaciÃ³n
------------------------------
las urls de DMGR estÃ¡n en el manual
http://10.209.17.3:9443|9043/ibm/console

los datasources wp ...   son del portal
tienen un duplicado wp ... _DR que apunte al nodo de DB de contingencia
eso no funciona

los 2 nodos espejan bien pero ante una contingencia hay que apuntar los DS (los normales sin DR) manualmente al nodo activo.

las aplicaciones web que administramos en el portal son las que se llaman '*anitsmo'. Las otras forman parte del producto.
las aplicaciones Banitsmo son el theme del portal
las aplicaciones banitsmo_dtd_* son de contenido como tal

consola de portal
----------------------------
portal contenet --> suscribers
sindicacion de contenido por consola web - suscribers, donde se configura que el contenido viene desde QA
probar conexion con el proveedor de contenido, primer icono
sindicaciÃ³n manual, segun Ã­cono
editar suscripcion, tercer icono

monitoreo
---------------
new relic
xrbc --> bancolombia
xrvi --> banitsmo

dudas
---------------
usuarios de DMGR
usuarios de consola de portal
keepass
contraseÃ±a de wasadmin
cer si mi usuario de softlayer funciona o no con esto
pedir usuario de new relic


2019-11-06 16:53:46,893 - INFO - Indexing file: Instalacion_WinScp.docx
2019-11-06 16:53:46,903 - DEBUG - ---Instalación y uso de la herramienta WinScp
2019-11-06 16:53:46,904 - DEBUG - ---Se ejecuta el instalador  y clic en aceptar.
2019-11-06 16:53:46,905 - DEBUG - --- 
2019-11-06 16:53:46,905 - DEBUG - ---Clic en siguiente
2019-11-06 16:53:46,906 - DEBUG - ---Clic en aceptar
2019-11-06 16:53:46,906 - DEBUG - ---Clic en siguiente
2019-11-06 16:53:46,907 - DEBUG - ---

2019-11-06 16:53:46,907 - DEBUG - ---Clic en siguiente
2019-11-06 16:53:46,908 - DEBUG - ---Clic en instalar
2019-11-06 16:53:46,908 - DEBUG - ---                
2019-11-06 16:53:46,908 - DEBUG - ---Clic en finalizar
2019-11-06 16:53:46,909 - DEBUG - ---

2019-11-06 16:53:46,909 - DEBUG - ---Para realizar copias de archivos de servidores a PC de escritorio y viceversa se efectúa de la siguiente manera:
2019-11-06 16:53:46,910 - DEBUG - ---Ingresar a Password Safe e ingresar a un servidor (En este caso Linux) y antes de abrir una sesión SSH copiar todo el contenido de la sección “Username/IP”:
2019-11-06 16:53:46,910 - DEBUG - ---Abrir preferiblemente un internet explorer y en el campo de texto de la dirección URL pegar la línea copiada y agregar al principio “sftp://” y al final (:4422) como se ve en la imagen:
2019-11-06 16:53:46,911 - DEBUG - ---

2019-11-06 16:53:46,911 - DEBUG - ---Dar enter e inmediatamente se ejecuta la herramienta winScp:
2019-11-06 16:53:46,912 - DEBUG - ---Ya con esto se pueden realizar copias entre PC y servidor.
2019-11-06 16:53:46,912 - DEBUG - ---Nota: es preferible realizar las copias inicialmente al directorio “/tmp”, ya después por sesión ssh a través del putty hacer las operaciones requeridas con los archivos copiados.
2019-11-06 16:53:46,913 - INFO - Indexing file: ConfigurarPutty.txt
2019-11-06 16:53:46,913 - DEBUG - ---ÿþW i n d o w s   R e g i s t r y   E d i t o r   V e r s i o n   5 . 0 0 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h ] 
 
 @ = " U R L : S e c u r e   S h e l l   P r o t o c o l " 
 
 " U R L   P r o t o c o l " = " " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ D e f a u l t I c o n ] 
 
 @ = " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n \ c o m m a n d ] 
 
 @ = " c m d   / V : O N   / s   / c   @ e c h o   o f f   & &   s e t   u r l = % 1   & &   f o r   / f   \ " t o k e n s = 1 , 2 , 3   d e l i m s = : /   \ "   % % a   i n   ( \ " ! u r l ! \ " )   d o   s e t   p r o t o c o l = % % a & s e t   h o s t = % % b & s e t   p o r t = % % c   & &   s t a r t   \ " \ "   \ " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e \ "   - P   ! p o r t !   ! h o s t ! " 
 
 
 
 
2019-11-06 16:53:46,914 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 16:53:46,915 - DEBUG - ---ï»¿WAS iSeries
--------------------
crear perfil (/qibm/proddata/websphere/appserver/v85/nd/bin)
./manageprofiles -create -profileName WAS01PFCSV02 -templatePath managed -nodeName WASSV1_WAS01PFCSV02 -hostname WASSV1.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL01PFCSV02 -templatePath managed -nodeName WASNLSV1_WNL01PFCSV02 -hostname WASNLSV1.BANCOLOMBIA.COM
./manageprofiles -create -profileName WAS02PFCSV02 -templatePath managed -nodeName WASSV2_WAS02PFCSV02 -hostname WASSV2.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL02PFCSV02 -templatePath managed -nodeName WASNLSV2_WNL02PFCSV02 -hostname WASNLSV2.BANCOLOMBIA.COM 

./manageprofiles -delete -profileName WNL01PFCSV02

habilitar java 7 (/qibm/proddata/websphere/appserver/v85/nd/bin)
./managesdk -enableProfile -profileName WAS01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WAS02PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL02PFCSV02 -sdkname 1.7_64 -enableServers

federar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
#./addNode 10.8.3.174 49503 -username mgazzola -password ************
#./addNode 10.8.3.174 49503 -username svcwps01 -password W3v$p1*Er9
./addNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM

sincronizar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
./stopNode
 -username wassvc -password C0nf1d3nci@lECM
./syncNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM
./startNode

resultado
system administration - node agents - aparece el nuevo nodo

WAS pSeries
-----------------
crear perfiles dmgr y managed
./manageprofiles.sh -create -profileName DMGR85LIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBDMGRLIVEBPDNA01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/management/
./manageprofiles.sh -create -profileName DWEBLIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBLIVEBPDNODE01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/managed/

habilitar java
./managesdk.sh -enableProfileAll -sdkname 1.7_64 -enableServers

borrar perfiles
bin ./manageprofiles.sh -delete -profileName DWEB85RECMIGPF01
bin ./manageprofiles.sh -delete -profileName DWEBLIVEBPDPF01


parachado de WAS
------------------

PARA ACTUALIZAR WAS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/WAS_85/IBM/WebSphere/AppServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

PARA ACTUALZIAR PLUGIN
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/Plugins -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress -properties user.wasjava=java6

PARA ACTUALIZAR IHS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/HTTPServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

VERIFICAR LOS MEDIOS INSTALADOS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl  listInstalledPackages -long



2019-11-06 16:53:46,916 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 16:53:46,940 - DEBUG - ---

2019-11-06 16:53:46,941 - DEBUG - ---

2019-11-06 16:53:46,944 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 16:53:46,945 - DEBUG - ---Nota
2019-11-06 16:53:46,946 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 16:53:46,946 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 16:53:46,947 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 16:53:46,948 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 16:53:46,950 - DEBUG - ---Nota
2019-11-06 16:53:46,950 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 16:53:46,951 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 16:53:46,952 - DEBUG - ---a.
2019-11-06 16:53:46,953 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 16:53:46,954 - DEBUG - ---b.
2019-11-06 16:53:46,954 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 16:53:46,955 - DEBUG - ---f.
2019-11-06 16:53:46,955 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 16:53:46,957 - DEBUG - ---

2019-11-06 16:53:46,958 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 16:53:46,959 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 16:53:46,960 - DEBUG - ---Recordar:
2019-11-06 16:53:46,960 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 16:53:46,961 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 16:53:46,961 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 16:53:46,963 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 16:53:46,964 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 16:53:46,965 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 16:53:46,966 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 16:53:46,967 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 16:53:46,968 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 16:53:46,968 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 16:53:46,969 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 16:53:46,970 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 16:53:46,971 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 16:53:46,972 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 16:53:46,973 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 16:53:46,974 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 16:53:46,974 - DEBUG - --- 
2019-11-06 16:53:46,975 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 16:53:46,976 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 16:53:46,977 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 16:53:46,978 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 16:53:46,979 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 16:53:46,980 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 16:53:46,981 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 16:53:46,982 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 16:53:46,984 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 16:53:46,985 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 16:53:46,986 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 16:53:46,987 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 16:53:46,988 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 16:53:46,989 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 16:53:46,989 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 16:53:46,990 - INFO - Indexing file: pass.txt
2019-11-06 16:53:46,991 - DEBUG - ---WSZA855C3S
2019-11-06 16:53:46,991 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-06 16:53:47,002 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 16:53:47,003 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 16:53:47,004 - DEBUG - ---Elaborado para
2019-11-06 16:53:47,005 - DEBUG - ---Administradores Bancolombia
2019-11-06 16:53:47,006 - DEBUG - ---Elaborado por
2019-11-06 16:53:47,006 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 16:53:47,007 - DEBUG - ---Fecha
2019-11-06 16:53:47,007 - DEBUG - ---1 de Julio de 2016
2019-11-06 16:53:47,009 - DEBUG - ---Objetivo
2019-11-06 16:53:47,009 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 16:53:47,010 - DEBUG - ---Rotación de servicios
2019-11-06 16:53:47,010 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 16:53:47,011 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 16:53:47,017 - DEBUG - ---Menú iSeries
2019-11-06 16:53:47,019 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 16:53:47,020 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 16:53:47,021 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 16:53:47,021 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 16:53:47,022 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 16:53:47,022 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 16:53:47,023 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 16:53:47,024 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 16:53:47,026 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 16:53:47,026 - DEBUG - ---Opciones del menú
2019-11-06 16:53:47,027 - DEBUG - ---Contingencia Medellín
2019-11-06 16:53:47,028 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 16:53:47,030 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 16:53:47,030 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 16:53:47,031 - DEBUG - ---Regresar
2019-11-06 16:53:47,031 - DEBUG - ---Salir
2019-11-06 16:53:47,032 - DEBUG - ---Rotación servicios
2019-11-06 16:53:47,032 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 16:53:47,033 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 16:53:47,034 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 16:53:47,035 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 16:53:47,036 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 16:53:47,037 - DEBUG - ---Actividades IPL
2019-11-06 16:53:47,038 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 16:53:47,039 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 16:53:47,039 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 16:53:47,040 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 16:53:47,040 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 16:53:47,041 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 16:53:47,041 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 16:53:47,042 - INFO - Indexing file: Actualizar_certificado_celda_WAS.docx
2019-11-06 16:53:47,056 - DEBUG - ---TERCERIZACIÓN DE LOS SERVICIOS DE ADMINISTRACIÓN DE LA PLATAFORMA SOA
2019-11-06 16:53:47,056 - DEBUG - ---PARA BANCOLOMBIA
2019-11-06 16:53:47,058 - DEBUG - ---Procedimiento
2019-11-06 16:53:47,058 - DEBUG - ---Actualizar Certificado Personal en una Celda WAS
2019-11-06 16:53:47,059 - DEBUG - ---Elaborado para
2019-11-06 16:53:47,059 - DEBUG - ---Bancolombia
2019-11-06 16:53:47,060 - DEBUG - ---Elaborado por:
2019-11-06 16:53:47,060 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 16:53:47,061 - DEBUG - ---Fecha: agosto de 2016
2019-11-06 16:53:47,062 - DEBUG - ---Contenido
2019-11-06 16:53:47,067 - DEBUG - ---INTRODUCCION
2019-11-06 16:53:47,069 - DEBUG - ---Este documento describe el procedimiento para actualizar el certificado personal de una celda de WebSphere Application Server.
2019-11-06 16:53:47,070 - DEBUG - ---Datos Generales
2019-11-06 16:53:47,072 - DEBUG - ---Descripción Procedimiento
2019-11-06 16:53:47,072 - DEBUG - ---Con el objetivo de generar menos impacto se sugiere generar un nuevo certificado y luego indicarle a la celda cual certificado debe usar.
2019-11-06 16:53:47,074 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 16:53:47,075 - DEBUG - ---Ir a la opción solicitud de certificados personales y hacer clic en New.
2019-11-06 16:53:47,076 - DEBUG - ---

2019-11-06 16:53:47,077 - DEBUG - ---Diligenciar el formulario tal como lo muestra la imagen y hacer clic en OK.
2019-11-06 16:53:47,078 - DEBUG - ---

2019-11-06 16:53:47,079 - DEBUG - ---Validar que la solicitud de certificado se haya creado. Descargar el certificado de la ruta indicada en el paso dos y enviarlo al área de seguridades de Bancolombia para su firma. 
2019-11-06 16:53:47,081 - DEBUG - ---

2019-11-06 16:53:47,082 - DEBUG - ---Recibir certificado firmado
2019-11-06 16:53:47,085 - DEBUG - ---Importar los certificados que conforman la cadena de confianza del certificado firmado en el almacén de certificados personales de la celda (CellDefaultKeystore) en la opción de certificados de confianza (Signer certificates). 
2019-11-06 16:53:47,088 - DEBUG - ---Ir a la opción de certificados personales y hacer clic en el botón de recibir de una autoridad de certificados (Receive from a certificate authority)
2019-11-06 16:53:47,090 - DEBUG - ---Ingresar la ruta donde se encuentra el certificado enviado por el área de seguridades de Bancolombia.
2019-11-06 16:53:47,092 - DEBUG - ---Validar que el certificado haya sido recibido correctamente.
2019-11-06 16:53:47,093 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 16:53:47,094 - DEBUG - ---Se debe importar el certificado público en los siguientes almacenes:
2019-11-06 16:53:47,095 - DEBUG - ---CMSKeyStore para cada uno de los web servers.
2019-11-06 16:53:47,095 - DEBUG - ---CellDefaultTrustStore
2019-11-06 16:53:47,096 - DEBUG - ---NodeDefaultTrustStore para cada uno de nodos.
2019-11-06 16:53:47,097 - DEBUG - ---

2019-11-06 16:53:47,097 - DEBUG - ---Extraer el certificado público de la celda
2019-11-06 16:53:47,098 - DEBUG - ---Indicar la ruta donde se debe exportar el certificado público
2019-11-06 16:53:47,099 - DEBUG - ---

2019-11-06 16:53:47,100 - DEBUG - ---Ir a cada almacén y añadir el certificado público.
2019-11-06 16:53:47,102 - DEBUG - ---Configurar la celda para que use el nuevo certificado
2019-11-06 16:53:47,102 - DEBUG - ---Validar los endpoints y donde se encuentre el certificado anterior asociar el nuevo certificado.
2019-11-06 16:53:47,104 - DEBUG - ---

2019-11-06 16:53:47,104 - DEBUG - ---Asociar el nuevo certificado en la configuración SSL de la celda.
2019-11-06 16:53:47,105 - DEBUG - ---Reinicio de la celda
2019-11-06 16:53:47,106 - DEBUG - ---Sincronizar los nodos usando la opción de sincronización completa.
2019-11-06 16:53:47,107 - DEBUG - ---Una vez sincronizados podemos reiniciar los servicios usando la consola en la opción de reiniciar todos los servidores de aplicación para el nodo seleccionado. Se debe esperar a que dicho reinicio termine para continuar con otro nodo.
2019-11-06 16:53:47,108 - DEBUG - ---Una vez reiniciado todos los servidores de aplicación y nodos se reinician el deployment manager (dmgr).
2019-11-06 16:53:47,109 - DEBUG - ---Consideraciones y Recomendaciones
2019-11-06 16:53:47,110 - DEBUG - ---Las siguientes actividades pueden ejecutarse previo a la ventana de mantenimiento:
2019-11-06 16:53:47,111 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 16:53:47,111 - DEBUG - ---Recibir certificado firmado
2019-11-06 16:53:47,112 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 16:53:47,112 - INFO - Indexing file: Aplicar reglas a Proxy Server.docx
2019-11-06 16:53:47,118 - DEBUG - ---Aplicar reglas a Proxy Server
2019-11-06 16:53:47,119 - DEBUG - ---Ingresar al cluster de proxy server al cual se le desea aplicar la regla.
2019-11-06 16:53:47,119 - DEBUG - ---Seleccionar la opción Proxy actions, que se encuentra dentro del menú Proxy virtual host configuration.
2019-11-06 16:53:47,120 - DEBUG - ---Ir a Routing Actions y seleccionar New,  y luego dar click en Fail Route…
2019-11-06 16:53:47,120 - DEBUG - ---Se configura el nombre y el código que se desea retorne ante esa acción. 
2019-11-06 16:53:47,121 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy rule expressions.
2019-11-06 16:53:47,121 - DEBUG - ---Dar click en New 
2019-11-06 16:53:47,122 - DEBUG - ---Colocar el nombre que se desea colocar a la expresión, luego presionar en el botón Subexpresion Builder, luego seleccionar en Operand la opción Module. Luego en Module seleccionar el modulo war que se desea restringir, por último se da click en el botón Generate subexpression. Adicional en la parte inferior en los Routing Actions seleccionar la acción que se creo previamente. 
2019-11-06 16:53:47,123 - DEBUG - ---                                                     dar click en el botón OK, y luego en Preview, asegurándose de sincronizar todos los nodos.
2019-11-06 16:53:47,123 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy virtual hosts.
2019-11-06 16:53:47,123 - DEBUG - ---Se da click en el botón New para generar una nueva configuración.
2019-11-06 16:53:47,124 - DEBUG - ---En la casilla Virtual host name, se deja el valor *, en la casilla Virtual host port, se debe indicar el puerto al que se desea aplicar la regla, luego seleccionar la expresión previamente creada, quedando así: se presiona en OK y luego Review y asegurarse de sincronizar los nodos.
2019-11-06 16:53:47,125 - DEBUG - ---Se deben reiniciar los Clusters de Proxy Servers.
2019-11-06 16:53:47,125 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 16:53:47,143 - DEBUG - ---Creación Proxy Servers en WAS 8.5
2019-11-06 16:53:47,146 - DEBUG - ---Change log
2019-11-06 16:53:47,146 - DEBUG - ---Audiencia
2019-11-06 16:53:47,147 - DEBUG - ---Administradores de productos de capa media IBM.
2019-11-06 16:53:47,147 - DEBUG - ---Abstract
2019-11-06 16:53:47,148 - DEBUG - ---Un proxy servers permite direccionar tráfico http y gestionar archivos estáticos como lo hace un servidor web Apache o un IHS. Sin embargo, no es un producto separado. Un proxy es un pequeño servidor WAS basado en un template diferente que es más sencillo de administrar que un IHS.
2019-11-06 16:53:47,148 - DEBUG - ---Los proxy servers pueden funcionar independientemente o en forma de cluster, en este instructivo se explicará cómo crearlos de ambas maneras y las configuraciones adicionales que la celda necesita para hacer que las aplicaciones se expongan a través de los proxy.
2019-11-06 16:53:47,149 - DEBUG - ---Creación de un proxy server
2019-11-06 16:53:47,150 - DEBUG - ---A continuación se especifican los pasos para la creación de un nuevo Websphere Proxy Server en WAS 8.5.
2019-11-06 16:53:47,151 - DEBUG - ---1. Desde la consola del DMGR, ubicarnos en tipos de servidores y dar clic en Websphere proxy servers.
2019-11-06 16:53:47,152 - DEBUG - ---2. Dar clic en nuevo.
2019-11-06 16:53:47,153 - DEBUG - ---3. Se debe ingresar el nombre que se aprovisionara al nuevo proxy server.
2019-11-06 16:53:47,154 - DEBUG - ---4. Utilizar las opciones seleccionadas a continuación para un aprovisionamiento estándar.
2019-11-06 16:53:47,155 - DEBUG - ---5. Se utiliza la plantilla de proxy_server_foundation.
2019-11-06 16:53:47,156 - DEBUG - ---6. Finalmente se debe revisar el resumen de las configuraciones realizadas sean las deseadas.
2019-11-06 16:53:47,156 - DEBUG - ---Y dar clic en “Finish”.
2019-11-06 16:53:47,158 - DEBUG - ---7. Guardar las configuraciones.
2019-11-06 16:53:47,159 - DEBUG - ---8. Se verifica que el proxy server nuevo creado aparece ya en la consola de WAS para su administración.
2019-11-06 16:53:47,159 - DEBUG - ---Una vez hecho esto se puede validar el inicio del nuevo proxy server.
2019-11-06 16:53:47,162 - DEBUG - ---Creación de cluster de proxy servers
2019-11-06 16:53:47,162 - DEBUG - ---1. click en el menú izquierdo
2019-11-06 16:53:47,163 - DEBUG - ---Servers  clusters  proxy Server clusters  new
2019-11-06 16:53:47,164 - DEBUG - ---2. colocar un nombre
2019-11-06 16:53:47,164 - DEBUG - ---Se acepta la convensión CLPS[aplicación][numero], ejemplo CLPSPSE01.
2019-11-06 16:53:47,165 - DEBUG - ---Dejar el resto de los campos con el valor por defecto.
2019-11-06 16:53:47,166 - DEBUG - ---3. agregar miembros del cluster
2019-11-06 16:53:47,167 - DEBUG - ---a. nombre del miembro, se acepta la convensión PS[aplicación][numero]
2019-11-06 16:53:47,167 - DEBUG - ---b. seleccionar el nodo al que el miembro quedará asociado (pueden ser diferentes miembros asociados a diferentes nodos)
2019-11-06 16:53:47,168 - DEBUG - ---4. crear miembros adicionales
2019-11-06 16:53:47,169 - DEBUG - ---Colocar el nombre del miembro y seleccionar el nodo asociados, luego click en Add member
2019-11-06 16:53:47,170 - DEBUG - ---5. repetir el paso 4 por cada miembro adicional hasta completar los miembros.
2019-11-06 16:53:47,170 - DEBUG - ---Luego click en ‘Next’
2019-11-06 16:53:47,171 - DEBUG - ---6. Sumary
2019-11-06 16:53:47,171 - DEBUG - ---Click en Finish
2019-11-06 16:53:47,172 - DEBUG - ---Grabar los cambios.
2019-11-06 16:53:47,172 - DEBUG - ---Configuraciones adicionales
2019-11-06 16:53:47,173 - DEBUG - ---1. Se debe validar que los puertos a utilizar por el nuevo proxy server, server deben estar abiertos en el la maquina donde esta instalado el producto
2019-11-06 16:53:47,173 - DEBUG - ---Para el caso de maquinas Pseries se puede validar con el comando
2019-11-06 16:53:47,174 - DEBUG - ---netstat –Aan | grep #puerto
2019-11-06 16:53:47,174 - DEBUG - ---Para validar cuales son los puertos configurados en el proxy server vamos a la siguiente ubicación.
2019-11-06 16:53:47,175 - DEBUG - ---Donde se pueden observar los puertos y realizar los cambios según se requiera.
2019-11-06 16:53:47,178 - DEBUG - ---2. Las aplicaciones tienen por default habilitada la opción “Enable Proxy” de tal forma que el servicio se resuelva desde el proxy server. Debemos garantizar que la aplicación que va a utilizar proxy server ten la opción habilitada como se muestra en el ejemplo a continuación.
2019-11-06 16:53:47,180 - DEBUG - --- 
2019-11-06 16:53:47,189 - DEBUG - ---3. Se deben configurar los puertos en que van a utilizar las aplicaciones desde “Enviroment”, y desde el Virtual Host deseado se debe agregar los puertos requeridos en la consideración #1. 
2019-11-06 16:53:47,191 - DEBUG - ---Opcionalmente, como buena practica, se puede crear un nuevo virtual host particular para configurar los puertos que exclusivamente vaya a utilizar una aplicación y mapear desde la misma app el virtual host creado desde la siguiente ubicación, como se muestra en el ejemplo a continuación.
2019-11-06 16:53:47,192 - DEBUG - ---NOTA: Una vez se realice cualquier cambio de los anteriores mencionados en las consideraciones, debemos realizar reinicio del proxy server.
2019-11-06 16:53:47,193 - DEBUG - ---Configuraciones adicionales para was en iSeries
2019-11-06 16:53:47,194 - DEBUG - ---Además de las configuraciones mencionadas en el apartado anterior, para los WAS instalados en plataformas iSeries que utilicen proxy servers en combinación en el appliance F5 como balanceador de carga se necesita aplicar la siguiente configuración:
2019-11-06 16:53:47,194 - DEBUG - ---Matricular en los Virtual Host de WAS, el nombre (DNS) con el cual se consume el servicio por F5 y el puerto por el cual se expone el servicio en los Proxy Server.
2019-11-06 16:53:47,195 - DEBUG - ---1. ingresar a la configuración del proxy servers a configurar, y en la sección Ports, buscar los puertos con los que se expone el servicio
2019-11-06 16:53:47,196 - DEBUG - ---PROXY_HTTP_ADDRESS
2019-11-06 16:53:47,196 - DEBUG - ---PROXY_HTTPS_ADDRESS
2019-11-06 16:53:47,197 - DEBUG - ---2. crear en la sección Virtual Hosts > default_host > Host Aliases dos nuevos aliases con la combinación de los puertos de los proyx servers y el DNS provisto por F5 para la aplicación a exponer:
2019-11-06 16:53:47,197 - DEBUG - ---3. reiniciar los proxy servers
2019-11-06 16:53:47,199 - INFO - Indexing file: test.txt
2019-11-06 16:53:47,199 - DEBUG - ---WASX7209I: Connected to process "dmgr" on node QWEBDMGR using SOAP connector;  The type of process is: DeploymentManager
2017-12-11 14:50:02,571 [INFO] using WDR (https://wdr.github.io/WDR/) version 0.8.2
2017-12-11 14:50:02,598 [INFO] the client is connected to host localhost:10403 using SOAP connector
2017-12-11 14:50:02,604 [INFO] the target process is CeldaJuanFWAS85/QWEBDMGR/dmgr
 Lista Aplicaciones en la celda :
['DynaCacheEsi', 'Dynamic Cache Monitor', 'query']

2019-11-06 16:53:47,200 - INFO - Indexing file: ReadMe.txt
2019-11-06 16:53:47,201 - DEBUG - ---${WAS_85_INSTALL_ROOT}/bin/wsadmin.sh
-lang jython
-connType SOAP
-username user
-password pwd
-f /wrkdirr/ibmdirr/wsadminUtils/main.py [options]
    -m or --mode, Script mode: createCluster
    -w or --workdir, Script work space, required because is a script inside wsadmin environment
    -cl or --cluster, Cluster name. Used in createCluster
    -n1 or --node1, Node name. Used in createCluster
    -n2 or --node2, Node name. Used in createCluster
    -s1 or --server1, Server name. Used in createCluster
    -s2 or --server2, Server name. Used in createCluster
    -h1 or --host1, Host name. Used in createCluster
    -h2 or --host2, Host name. Used in createCluster
    -p1 or --port1, Initial port. Used in createCluster
    -p2 or --port2, Initial port. Used in createCluster
    -ih1 or --initialHeap1, Initial heap size. Used in createCluster
    -ih2 or --initialHeap2, Initial heap size. Used in createCluster
    -mh1 or --maxHeap1, Max heap size. Used in createCluster
    -mh2 or --maxHeap2, Max heap size. Used in createCluster
Example:
/opt/IBM/WebSphere/AppServer85/profiles/ProfileDmgr01/bin/wsadmin.sh -lang jython -connType SOAP -f /wrkdirr/ibmdirr/wsadminUtils/main.py -m createCluster -w /wrkdirr/ibmdirr/ -s1 ServerMng04 -s2 ServerMng05 -n1 NodeMng01 -n2 NodeMng02 -h1 localhost -h2 localhost -p1 6000 -p2 6100 -ih1 128 -mh1 512 -ih2 128 -mh2 512 -cl CLMNG02
2019-11-06 16:53:47,202 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 16:53:47,219 - DEBUG - ---

2019-11-06 16:53:47,223 - DEBUG - ---

2019-11-06 16:53:47,224 - DEBUG - ---

2019-11-06 16:53:47,225 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 16:53:47,226 - DEBUG - ---Nota
2019-11-06 16:53:47,227 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 16:53:47,228 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 16:53:47,229 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 16:53:47,229 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 16:53:47,230 - DEBUG - ---Nota
2019-11-06 16:53:47,231 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 16:53:47,232 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 16:53:47,233 - DEBUG - ---a.
2019-11-06 16:53:47,234 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 16:53:47,235 - DEBUG - ---b.
2019-11-06 16:53:47,235 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 16:53:47,236 - DEBUG - ---f.
2019-11-06 16:53:47,237 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 16:53:47,238 - DEBUG - ---

2019-11-06 16:53:47,239 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 16:53:47,240 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 16:53:47,241 - DEBUG - ---Recordar:
2019-11-06 16:53:47,241 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 16:53:47,242 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 16:53:47,242 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 16:53:47,244 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 16:53:47,244 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 16:53:47,246 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 16:53:47,246 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 16:53:47,247 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 16:53:47,248 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 16:53:47,249 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 16:53:47,249 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 16:53:47,251 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 16:53:47,252 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 16:53:47,253 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 16:53:47,254 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 16:53:47,254 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 16:53:47,255 - DEBUG - --- 
2019-11-06 16:53:47,256 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 16:53:47,257 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 16:53:47,258 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 16:53:47,259 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 16:53:47,260 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 16:53:47,261 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 16:53:47,263 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 16:53:47,264 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 16:53:47,265 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 16:53:47,267 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 16:53:47,269 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 16:53:47,270 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 16:53:47,271 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 16:53:47,272 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 16:53:47,272 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 16:53:47,273 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 16:53:47,298 - DEBUG - ---

2019-11-06 16:53:47,299 - DEBUG - ---

2019-11-06 16:53:47,300 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 16:53:47,302 - DEBUG - ---Nota
2019-11-06 16:53:47,302 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 16:53:47,303 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 16:53:47,304 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 16:53:47,305 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 16:53:47,306 - DEBUG - ---Nota
2019-11-06 16:53:47,307 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 16:53:47,308 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 16:53:47,309 - DEBUG - ---a.
2019-11-06 16:53:47,309 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 16:53:47,310 - DEBUG - ---b.
2019-11-06 16:53:47,311 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 16:53:47,311 - DEBUG - ---f.
2019-11-06 16:53:47,312 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 16:53:47,314 - DEBUG - ---

2019-11-06 16:53:47,315 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 16:53:47,316 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 16:53:47,317 - DEBUG - ---Recordar:
2019-11-06 16:53:47,318 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 16:53:47,318 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 16:53:47,319 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 16:53:47,320 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 16:53:47,321 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 16:53:47,322 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 16:53:47,323 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 16:53:47,324 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 16:53:47,325 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 16:53:47,326 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 16:53:47,326 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 16:53:47,327 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 16:53:47,328 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 16:53:47,329 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 16:53:47,330 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 16:53:47,331 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 16:53:47,331 - DEBUG - --- 
2019-11-06 16:53:47,332 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 16:53:47,334 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 16:53:47,335 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 16:53:47,336 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 16:53:47,337 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 16:53:47,338 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 16:53:47,340 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 16:53:47,340 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 16:53:47,342 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 16:53:47,343 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 16:53:47,344 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 16:53:47,345 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 16:53:47,345 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 16:53:47,346 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 16:53:47,347 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 16:53:47,348 - INFO - Indexing file: Manual_Menu_iSeries(2).docx
2019-11-06 16:53:47,362 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 16:53:47,363 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 16:53:47,364 - DEBUG - ---Elaborado para
2019-11-06 16:53:47,364 - DEBUG - ---Administradores Bancolombia
2019-11-06 16:53:47,365 - DEBUG - ---Elaborado por
2019-11-06 16:53:47,366 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 16:53:47,367 - DEBUG - ---Fecha
2019-11-06 16:53:47,368 - DEBUG - ---1 de Julio de 2016
2019-11-06 16:53:47,372 - DEBUG - ---Objetivo
2019-11-06 16:53:47,374 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 16:53:47,375 - DEBUG - ---Rotación de servicios
2019-11-06 16:53:47,377 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 16:53:47,378 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 16:53:47,386 - DEBUG - ---Menú iSeries
2019-11-06 16:53:47,386 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 16:53:47,387 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 16:53:47,388 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 16:53:47,388 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 16:53:47,389 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 16:53:47,389 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 16:53:47,389 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 16:53:47,390 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 16:53:47,391 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 16:53:47,391 - DEBUG - ---Opciones del menú
2019-11-06 16:53:47,392 - DEBUG - ---Contingencia Medellín
2019-11-06 16:53:47,392 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 16:53:47,393 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 16:53:47,394 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 16:53:47,394 - DEBUG - ---Regresar
2019-11-06 16:53:47,395 - DEBUG - ---Salir
2019-11-06 16:53:47,396 - DEBUG - ---Rotación servicios
2019-11-06 16:53:47,397 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 16:53:47,397 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 16:53:47,398 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 16:53:47,399 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 16:53:47,400 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 16:53:47,401 - DEBUG - ---Actividades IPL
2019-11-06 16:53:47,403 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 16:53:47,405 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 16:53:47,407 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 16:53:47,408 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 16:53:47,410 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 16:53:47,411 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 16:53:47,412 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 16:53:47,414 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 16:53:47,437 - DEBUG - ---

2019-11-06 16:53:47,438 - DEBUG - ---Control de Versiones
2019-11-06 16:53:47,439 - DEBUG - ---

2019-11-06 16:53:47,440 - DEBUG - ---VERIFICAR INTERFACES CORRESPONDIENTES A CADA SERVIDOR DE APLICACION EN AMBAS MAQUINAS ( WAS y WASNL) Y TOMAR EVIDENCIAS DE ELLO
2019-11-06 16:53:47,441 - DEBUG - ---Se deben tomar evidencias de las interfaces correspondientes a cada aplicativo en ambas máquinas. 
2019-11-06 16:53:47,448 - DEBUG - ---Ingresamos a WAS y ejecutamos el comando CFGTCP
2019-11-06 16:53:47,451 - DEBUG - ---Luego seleccionamos la opción 1 del menú (Trabajar con interfaces  TCP/IP)
2019-11-06 16:53:47,453 - DEBUG - ---Nos aparecerá la pantalla con las interfaces.
2019-11-06 16:53:47,455 - DEBUG - ---En la pantalla de las interfaces, presionamos la tecla F11 para ver los estados de las interfaces y la pantalla quedaría así:
2019-11-06 16:53:47,457 - DEBUG - ---Para generar un respaldo podemos usar la opción F6 que llevara la información a nuestro spool el cual podrá ser descargado posteriormente como un archivo de texto.
2019-11-06 16:53:47,458 - DEBUG - ---NOTA: LOS MISMOS PASOS ANTERIORES APLICAN PARA LA MAQUINA DE WASNL
2019-11-06 16:53:47,459 - DEBUG - ---CAMBIAR EL PARÁMETRO  DE INICIO AUTOSTAR  A LAS INTERFACES CORRESPONDIENTES A CADA APLICATIVO.
2019-11-06 16:53:47,460 - DEBUG - ---Se debe ingresar a las máquinas (WAS y WASNL). Luego ejecutamos el siguiente comando donde debemos cambiar el valor del parámetro de AUTOINICIO a *NO donde se requiere que permanezca abajo la interfaz al momento de un IPL y *YES a las interfaces que se requiere que permanezcan activas en la máquina una vez se haga un IPL; esto depende de en qué máquina se dejarán los servicios operando.
2019-11-06 16:53:47,462 - DEBUG - ---Ejemplos:
2019-11-06 16:53:47,463 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*NO)
2019-11-06 16:53:47,463 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*YES)
2019-11-06 16:53:47,464 - DEBUG - ---PTR detener servicios WAS Contingencia Medellin - MEDHA
2019-11-06 16:53:47,465 - DEBUG - ---Consideraciones previas
2019-11-06 16:53:47,466 - DEBUG - ---[Si aplica: premisas, riesgos]
2019-11-06 16:53:47,468 - DEBUG - ---Descripción de las actividades
2019-11-06 16:53:47,469 - DEBUG - ---PTR detener servicios Contingencia Medellin - MEDHA 
2019-11-06 16:53:47,470 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 16:53:47,473 - DEBUG - ---ACTIVIDADES PREVIAS
2019-11-06 16:53:47,474 - DEBUG - ---Tomar pantallas de las interfaces (Punto 1 de este PTR), servidores de aplicaciones y web servers en WAS y WASNL como se indica a continuación:
2019-11-06 16:53:47,475 - DEBUG - ---Validar estado de subsistemas WAS y servidores de aplicaciones websphere:
2019-11-06 16:53:47,476 - DEBUG - ---wrkactjob sbs(QWAS8)
2019-11-06 16:53:47,476 - DEBUG - ---wrkactjob sbs(QWAS85)
2019-11-06 16:53:47,477 - DEBUG - ---Validar estado de subsistema QHTTPSVR y sus webservers:
2019-11-06 16:53:47,478 - DEBUG - ---wrkactjob sbs(QHTTPSVR)
2019-11-06 16:53:47,478 - DEBUG - ---Ejemplo pantallazo subsistema QWAS85:
2019-11-06 16:53:47,480 - DEBUG - ---ACTIVIDADES DURANTE LA CONTINGENCIA
2019-11-06 16:53:47,481 - DEBUG - ---3.1 Detener servidores web y servidores de aplicaciones
2019-11-06 16:53:47,482 - DEBUG - ---Cuando bajen los servicios y se dé la señal, se debe bajar el subsistema QHTTPSVR y una vez esté completamente detenido, proceder a bajar los servidores de aplicación que  tengan conexiones a la máquina MEDELLINET01.
2019-11-06 16:53:47,483 - DEBUG - ---Comandos 
2019-11-06 16:53:47,484 - DEBUG - ---DETENER SERVIDORES WEB:
2019-11-06 16:53:47,485 - DEBUG - ---ENDTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 16:53:47,486 - DEBUG - ---Se valida que todos los web server estén detenidos con el siguiente comando:
2019-11-06 16:53:47,486 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 16:53:47,487 - DEBUG - ---DETENER SERVIDORES DE APLICACIONES:
2019-11-06 16:53:47,488 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 16:53:47,489 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 16:53:47,491 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 16:53:47,491 - DEBUG - ---ASADM01
2019-11-06 16:53:47,492 - DEBUG - ---ASADM02
2019-11-06 16:53:47,493 - DEBUG - ---ASADM03
2019-11-06 16:53:47,493 - DEBUG - ---ASADM04
2019-11-06 16:53:47,494 - DEBUG - ---ASADM05
2019-11-06 16:53:47,495 - DEBUG - ---ASADM06
2019-11-06 16:53:47,495 - DEBUG - ---ASALM01
2019-11-06 16:53:47,496 - DEBUG - ---ASALM02
2019-11-06 16:53:47,497 - DEBUG - ---ASBTS01
2019-11-06 16:53:47,497 - DEBUG - ---ASBTS02
2019-11-06 16:53:47,498 - DEBUG - ---ASCAN01
2019-11-06 16:53:47,499 - DEBUG - ---ASCAN02
2019-11-06 16:53:47,500 - DEBUG - ---ASCAN03
2019-11-06 16:53:47,501 - DEBUG - ---ASCAN04
2019-11-06 16:53:47,502 - DEBUG - ---ASMRP01
2019-11-06 16:53:47,503 - DEBUG - ---ASMRP02
2019-11-06 16:53:47,504 - DEBUG - ---ASPAC01
2019-11-06 16:53:47,504 - DEBUG - ---ASPAC02
2019-11-06 16:53:47,505 - DEBUG - ---ASRIN01
2019-11-06 16:53:47,506 - DEBUG - ---ASRIN02
2019-11-06 16:53:47,506 - DEBUG - ---ASRSA01
2019-11-06 16:53:47,507 - DEBUG - ---ASRSA02
2019-11-06 16:53:47,508 - DEBUG - ---ASTAC01
2019-11-06 16:53:47,509 - DEBUG - ---ASTAC02
2019-11-06 16:53:47,509 - DEBUG - ---ASWAP01
2019-11-06 16:53:47,510 - DEBUG - ---ASWAP02
2019-11-06 16:53:47,511 - DEBUG - ---ASWSE01
2019-11-06 16:53:47,511 - DEBUG - ---ASWSE02
2019-11-06 16:53:47,512 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 16:53:47,513 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 16:53:47,514 - DEBUG - ---ASAPP01
2019-11-06 16:53:47,515 - DEBUG - ---ASAPP02
2019-11-06 16:53:47,515 - DEBUG - ---ASAPP03
2019-11-06 16:53:47,517 - DEBUG - ---ASAPP04
2019-11-06 16:53:47,517 - DEBUG - ---ASSVP01
2019-11-06 16:53:47,518 - DEBUG - ---ASSVP02
2019-11-06 16:53:47,519 - DEBUG - ---ASSVP03
2019-11-06 16:53:47,520 - DEBUG - ---ASSVP04
2019-11-06 16:53:47,521 - DEBUG - ---ASSVE01
2019-11-06 16:53:47,521 - DEBUG - ---ASSVE02
2019-11-06 16:53:47,522 - DEBUG - ---ASSVE03
2019-11-06 16:53:47,523 - DEBUG - ---ASSVE04
2019-11-06 16:53:47,523 - DEBUG - ---Luego, se debe verificar que todos los web server queden detenidos, con el siguiente comando:
2019-11-06 16:53:47,524 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 16:53:47,525 - DEBUG - ---NOTA: No deben de aparecer trabajos en el subsistema, como aparece en la imagen, una vez los web server queden detenidos.
2019-11-06 16:53:47,526 - DEBUG - ---PTR activar servicios WAS Contingencia Medellin - MEDHA
2019-11-06 16:53:47,527 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 16:53:47,529 - DEBUG - ---4.1 Iniciar servicios
2019-11-06 16:53:47,530 - DEBUG - ---PASO 1 SUBIR SERVIDORES DE APLICACIONES:
2019-11-06 16:53:47,531 - DEBUG - ---Cuando comience a subir y se dé la señal, se deben iniciar los servidores de aplicaciones 
2019-11-06 16:53:47,532 - DEBUG - ---Comandos 
2019-11-06 16:53:47,534 - DEBUG - ---INICIAR SERVIDORES DE APLICACIONES:
2019-11-06 16:53:47,535 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 16:53:47,537 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 16:53:47,538 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 16:53:47,538 - DEBUG - ---ASADM01
2019-11-06 16:53:47,539 - DEBUG - ---ASADM02
2019-11-06 16:53:47,540 - DEBUG - ---ASADM03
2019-11-06 16:53:47,540 - DEBUG - ---ASADM04
2019-11-06 16:53:47,541 - DEBUG - ---ASADM05
2019-11-06 16:53:47,542 - DEBUG - ---ASADM06
2019-11-06 16:53:47,542 - DEBUG - ---ASALM01
2019-11-06 16:53:47,543 - DEBUG - ---ASALM02
2019-11-06 16:53:47,543 - DEBUG - ---ASBTS01
2019-11-06 16:53:47,544 - DEBUG - ---ASBTS02
2019-11-06 16:53:47,545 - DEBUG - ---ASCAN01
2019-11-06 16:53:47,546 - DEBUG - ---ASCAN02
2019-11-06 16:53:47,546 - DEBUG - ---ASCAN03
2019-11-06 16:53:47,547 - DEBUG - ---ASCAN04
2019-11-06 16:53:47,547 - DEBUG - ---ASMRP01
2019-11-06 16:53:47,548 - DEBUG - ---ASMRP02
2019-11-06 16:53:47,549 - DEBUG - ---ASPAC01
2019-11-06 16:53:47,550 - DEBUG - ---ASPAC02
2019-11-06 16:53:47,551 - DEBUG - ---ASRIN01
2019-11-06 16:53:47,552 - DEBUG - ---ASRIN02
2019-11-06 16:53:47,553 - DEBUG - ---ASRSA01
2019-11-06 16:53:47,554 - DEBUG - ---ASRSA02
2019-11-06 16:53:47,555 - DEBUG - ---ASTAC01
2019-11-06 16:53:47,556 - DEBUG - ---ASTAC02
2019-11-06 16:53:47,557 - DEBUG - ---ASWAP01
2019-11-06 16:53:47,558 - DEBUG - ---ASWAP02
2019-11-06 16:53:47,558 - DEBUG - ---ASWSE01
2019-11-06 16:53:47,559 - DEBUG - ---ASWSE02
2019-11-06 16:53:47,560 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 16:53:47,561 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 16:53:47,561 - DEBUG - ---ASAPP01
2019-11-06 16:53:47,562 - DEBUG - ---ASAPP02
2019-11-06 16:53:47,563 - DEBUG - ---ASAPP03
2019-11-06 16:53:47,563 - DEBUG - ---ASAPP04
2019-11-06 16:53:47,564 - DEBUG - ---ASSVP01
2019-11-06 16:53:47,565 - DEBUG - ---ASSVP02
2019-11-06 16:53:47,567 - DEBUG - ---ASSVP03
2019-11-06 16:53:47,569 - DEBUG - ---ASSVP04
2019-11-06 16:53:47,570 - DEBUG - ---ASSVE01
2019-11-06 16:53:47,571 - DEBUG - ---ASSVE02
2019-11-06 16:53:47,571 - DEBUG - ---ASSVE03
2019-11-06 16:53:47,572 - DEBUG - ---ASSVE04
2019-11-06 16:53:47,574 - DEBUG - ---Validar que las interfaces suban donde deben subir en WAS y WASNL (Luego de que se ejecute la activación por iSeries).
2019-11-06 16:53:47,575 - DEBUG - ---Validar que los app server suban bien
2019-11-06 16:53:47,575 - DEBUG - ---Revisar los logs para garantizar que los servidores subieron bien y no colgaron hebras o no subieron (validar errores o hebras colgadas “hung”).
2019-11-06 16:53:47,576 - DEBUG - ---Debe aparecer Mensaje: open for e-business
2019-11-06 16:53:47,577 - DEBUG - ---Hacer estas verificaciones en el orden de prioridad de la tabla que se encuentra al final del documento (PRIORIDAD DE LOS SERVICIOS)
2019-11-06 16:53:47,578 - DEBUG - ---Es necesario iniciar RSA primero para que sincronice los token con BOLE.
2019-11-06 16:53:47,580 - DEBUG - ---APLICACIONES
2019-11-06 16:53:47,580 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 16:53:47,581 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 16:53:47,582 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 16:53:47,584 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 16:53:47,588 - DEBUG - ---PASO 2 SUBIR QHTTPSVR (NO PROCEDER HASTA QUE SUBAN SERVICIOS EN ISERIES, QWAS8 y QWAS85 ARRIBA):
2019-11-06 16:53:47,590 - DEBUG - ---QHTTPSERVER - Luego de que hayan subido, mínimo los servidores de aplicaciones de SVE, SVP y APP (para no encolar)
2019-11-06 16:53:47,591 - DEBUG - ---Para subir los servidores web (HTTP server) se tiene el comando 
2019-11-06 16:53:47,592 - DEBUG - ---STRTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 16:53:47,592 - DEBUG - ---Validar con las pantallas tomadas inicialmente que si queden activos los que deben quedar. Los que no, detenerlos (4, F4)
2019-11-06 16:53:47,593 - DEBUG - ---IMPORTANTE: Revisar que no suba el IWADFT, APACHEDFT para que no cree conflicto con el puerto 80 para el web Server ADMWS21180.
2019-11-06 16:53:47,594 - DEBUG - ---PRIORIDAD DE LOS SERVICIOS
2019-11-06 16:53:47,595 - DEBUG - ---RSA
2019-11-06 16:53:47,596 - DEBUG - ---SVE
2019-11-06 16:53:47,596 - DEBUG - ---SVP
2019-11-06 16:53:47,597 - DEBUG - ---APP
2019-11-06 16:53:47,598 - DEBUG - ---FCN y PSE
2019-11-06 16:53:47,598 - DEBUG - ---WAP
2019-11-06 16:53:47,600 - DEBUG - ---RIN
2019-11-06 16:53:47,602 - DEBUG - ---PAC
2019-11-06 16:53:47,603 - DEBUG - ---TAC
2019-11-06 16:53:47,604 - DEBUG - ---PCC
2019-11-06 16:53:47,605 - DEBUG - ---SVS
2019-11-06 16:53:47,606 - DEBUG - ---Resto de servicios.
2019-11-06 16:53:47,607 - DEBUG - ---La documentación la encontramos en el archivo catalogo_WAS_iSeries.xlsx
2019-11-06 16:53:47,609 - INFO - Indexing file: Banistmo PTR_WAS SBBANBSM01V.docx
2019-11-06 16:53:47,621 - DEBUG - ---

2019-11-06 16:53:47,621 - DEBUG - ---Control de Versiones
2019-11-06 16:53:47,622 - DEBUG - ---

2019-11-06 16:53:47,622 - DEBUG - ---Nombre del PTR
2019-11-06 16:53:47,623 - DEBUG - ---Consideraciones previas
2019-11-06 16:53:47,623 - DEBUG - ---La máquina Windows inicia el servidor de aplicaciones por medio de un servicio, sin embargo, el servidor de aplicaciones tiene la seguridad habilitada y el controlador de dominio (LDAP) al que apunta es de Producción, el cual es diferente al DR.
2019-11-06 16:53:47,624 - DEBUG - ---Se deben ejecutar algunas acciones para modificar esta configuración. 
2019-11-06 16:53:47,625 - DEBUG - ---Descripción de las actividades
2019-11-06 16:53:47,625 - DEBUG - ---Terminar el servicio de WAS
2019-11-06 16:53:47,625 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 16:53:47,626 - DEBUG - ---Finalizar el servicio de WAS, si se intenta detener por medio del administrador de servicios este se quedará en el estado stopping.
2019-11-06 16:53:47,627 - DEBUG - ---Por lo tanto, es necesario terminar el proceso. Se abre el task manager, clic en Show process from all users.
2019-11-06 16:53:47,627 - DEBUG - ---Se buscan los procesos WASService.exe y java.exe y clic en End Process
2019-11-06 16:53:47,629 - DEBUG - ---Actualizar el controlador de dominio.
2019-11-06 16:53:47,629 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 16:53:47,630 - DEBUG - ---Sacar un respaldo del archivo security.xml
2019-11-06 16:53:47,630 - DEBUG - ---Editar el archivo security.xml ubicado en la ruta:
2019-11-06 16:53:47,630 - DEBUG - ---C:\IBM\WebSphere\AppServer\profiles\SMG3\config\cells\SBBANBSM01VNode02Cell\
2019-11-06 16:53:47,631 - DEBUG - ---Se debe reemplazar la IP 10.5.133.4 por 10.61.178.10
2019-11-06 16:53:47,632 - DEBUG - ---Iniciar los servicios de WAS
2019-11-06 16:53:47,633 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 16:53:47,635 - DEBUG - ---Iniciar el servicio IBM WebSphere Application Server V8.5 - SBBANBSM01VNode02
2019-11-06 16:53:47,636 - DEBUG - ---Ingresar a la consola administrativa para verificar que los servicios se encuentren iniciados. 
2019-11-06 16:53:47,637 - INFO - Indexing file: Paso a paso Start-Stop FATCA-jar.docx
2019-11-06 16:53:47,642 - DEBUG - ---PASO A PASO START-STOP FATCA - JAR
2019-11-06 16:53:47,643 - DEBUG - ---Inicio del aplicativo MonitorFATCA_JOB
2019-11-06 16:53:47,644 - DEBUG - ---Ejecución del aplicativo MonitorFATCA_JOB
2019-11-06 16:53:47,645 - DEBUG - ---Consideraciones
2019-11-06 16:53:47,646 - DEBUG - ---Ruta Base
2019-11-06 16:53:47,647 - DEBUG - ---

2019-11-06 16:53:47,647 - DEBUG - ---Para iniciar la aplicación se debe ejecutar el archivo .SH encargado de iniciar la aplicación. Para esto nos ubicamos en la ruta:
2019-11-06 16:53:47,647 - DEBUG - ---/nas/htsl-fat512/bin/
2019-11-06 16:53:47,648 - DEBUG - ---Luego, se debe ejecutar la siguiente línea de comando:
2019-11-06 16:53:47,648 - DEBUG - ---./start_fatca.sh
2019-11-06 16:53:47,649 - DEBUG - ---Para validar si la aplicación JOB se está ejecutando, se puede ejecutar el siguiente comando en la consola:
2019-11-06 16:53:47,650 - DEBUG - ---ps -ef | grep co.com.tata.MonitorStartJob
2019-11-06 16:53:47,651 - DEBUG - ---Si no se está ejecutando el aplicativo, se muestra un mensaje parecido al siguiente:
2019-11-06 16:53:47,652 - DEBUG - ---Si el programa está arriba, se debe ver un mensaje parecido al siguiente:
2019-11-06 16:53:47,653 - DEBUG - ---

2019-11-06 16:53:47,654 - DEBUG - ---Detener el aplicativo MonitorFATCA_JOB
2019-11-06 16:53:47,655 - DEBUG - ---Datos varios
2019-11-06 16:53:47,656 - DEBUG - ---Para detener el aplicativo FATCA_JOB.jar, debemos ingresar a la ruta:
2019-11-06 16:53:47,657 - DEBUG - ---/nas/htsl-fat512/bin/flag/
2019-11-06 16:53:47,657 - DEBUG - ---En esta ruta, se debe encontrar el archivo KILLME.txt. 
2019-11-06 16:53:47,658 - DEBUG - ---Este archivo debe ser eliminado por completo del FileSystem.
2019-11-06 16:53:47,658 - DEBUG - ---Para eliminar el archivo, se debe ejecutar la siguiente línea de comando:
2019-11-06 16:53:47,659 - DEBUG - ---rm KILLME.txt
2019-11-06 16:53:47,659 - DEBUG - ---Debemos esperar al menos 2 minutos mientras el programa cierra todos los hilos de ejecución que se encuentren arriba.
2019-11-06 16:53:47,660 - DEBUG - ---Contacto: Diana Lopez Parra (dilparr@bancolombia.com.co)
2019-11-06 16:53:47,660 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 16:53:47,683 - DEBUG - ---Manual de Operaciones
2019-11-06 16:53:47,684 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 16:53:47,687 - DEBUG - ---IBM de Colombia S.A
2019-11-06 16:53:47,691 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 16:53:47,694 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 16:53:47,695 - DEBUG - ---DESARROLLO
2019-11-06 16:53:47,697 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:47,698 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,702 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:47,703 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 16:53:47,705 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:47,710 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 16:53:47,716 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:47,724 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:47,727 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,730 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:47,732 - DEBUG - ---

2019-11-06 16:53:47,735 - DEBUG - ---CERTIFICACIÓN
2019-11-06 16:53:47,736 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:47,739 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,742 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:47,743 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 16:53:47,747 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:47,769 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 16:53:47,771 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:47,775 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:47,781 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,795 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:47,802 - DEBUG - ---

2019-11-06 16:53:47,805 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 16:53:47,807 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:47,809 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 16:53:47,811 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:47,812 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 16:53:47,813 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 16:53:47,814 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 16:53:47,815 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:47,821 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 16:53:47,825 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,829 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:47,834 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 16:53:47,835 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:47,837 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,839 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 16:53:47,840 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:47,841 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 16:53:47,841 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 16:53:47,842 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:47,843 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 16:53:47,844 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 16:53:47,845 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:47,846 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 16:53:47,846 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 16:53:47,847 - DEBUG - ---sudo su – wsrsvc
2019-11-06 16:53:47,848 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 16:53:47,850 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 16:53:47,852 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 16:53:47,854 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 16:53:47,855 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:47,860 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:47,864 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,867 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:47,869 - DEBUG - ---

2019-11-06 16:53:47,870 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 16:53:47,872 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:47,874 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,877 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 16:53:47,878 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 16:53:47,880 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 16:53:47,881 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 16:53:47,882 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 16:53:47,883 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 16:53:47,885 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 16:53:47,886 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 16:53:47,887 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 16:53:47,888 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 16:53:47,889 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 16:53:47,891 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 16:53:47,900 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 16:53:47,904 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 16:53:47,907 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 16:53:47,909 - DEBUG - ---

2019-11-06 16:53:47,911 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 16:53:47,912 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 16:53:47,914 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 16:53:47,915 - DEBUG - ---AW0939
2019-11-06 16:53:47,916 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 16:53:47,917 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 16:53:47,919 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 16:53:47,920 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 16:53:47,921 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 16:53:47,923 - DEBUG - ---PASOS
2019-11-06 16:53:47,924 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 16:53:47,928 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 16:53:47,930 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 16:53:47,934 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 16:53:47,937 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 16:53:47,942 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 16:53:47,945 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 16:53:47,947 - DEBUG - ---

2019-11-06 16:53:47,948 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 16:53:47,952 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 16:53:47,955 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 16:53:47,958 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 16:53:47,961 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 16:53:47,964 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 16:53:47,964 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER1.docx
2019-11-06 16:53:47,973 - DEBUG - ---Procedimiento para el reinicio CLUSTER1 Ventas Digitales Produccion
2019-11-06 16:53:47,974 - DEBUG - ---Cuando soliciten reinicio del CLUSTER1, Se deben ejecutar las siguientes actividades:
2019-11-06 16:53:47,974 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 16:53:47,975 - DEBUG - ---Detener  los APPSERVERs del CLUSTER1 
2019-11-06 16:53:47,976 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 16:53:47,976 - DEBUG - ---Ingresar a la ruta
2019-11-06 16:53:47,977 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 16:53:47,977 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 16:53:47,978 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 16:53:47,978 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 16:53:47,979 - DEBUG - ---disableAllApps()
2019-11-06 16:53:47,979 - DEBUG - ---save()
2019-11-06 16:53:47,980 - DEBUG - ---Subir los APPSERVERs del CLUSTER1
2019-11-06 16:53:47,980 - DEBUG - ---Subir la aplicacion
2019-11-06 16:53:47,981 - DEBUG - ---AW1128001_VTDAPI_COMMONMensajesError
2019-11-06 16:53:47,981 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 16:53:47,982 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 16:53:47,983 - DEBUG - ---Ingresar a la ruta
2019-11-06 16:53:47,984 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 16:53:47,986 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 16:53:47,986 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 16:53:47,987 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 16:53:47,987 - DEBUG - ---enableAllApps()
2019-11-06 16:53:47,988 - DEBUG - ---save()
2019-11-06 16:53:47,988 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER2.docx
2019-11-06 16:53:47,996 - DEBUG - ---Procedimiento para el reinicio CLUSTER2 Ventas Digitales Produccion
2019-11-06 16:53:47,996 - DEBUG - ---Cuando soliciten reinicio del CLUSTER2, Se deben ejecutar las siguientes actividades:
2019-11-06 16:53:47,997 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 16:53:47,997 - DEBUG - ---Detener  los APPSERVERs del CLUSTER2
2019-11-06 16:53:47,998 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 16:53:47,999 - DEBUG - ---Ingresar a la ruta
2019-11-06 16:53:47,999 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 16:53:48,000 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 16:53:48,002 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 16:53:48,003 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 16:53:48,004 - DEBUG - ---disableAllApps()
2019-11-06 16:53:48,005 - DEBUG - ---save()
2019-11-06 16:53:48,005 - DEBUG - ---Subir los APPSERVERs del CLUSTER2
2019-11-06 16:53:48,006 - DEBUG - ---Subir la aplicacion
2019-11-06 16:53:48,006 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 16:53:48,007 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 16:53:48,007 - DEBUG - ---AW0937001_VTDFrontAutenticacion
2019-11-06 16:53:48,008 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 16:53:48,008 - DEBUG - ---PMO27262_API_PreaprobadoTDC
2019-11-06 16:53:48,009 - DEBUG - ---PMO27262_API_InfoUsuario
2019-11-06 16:53:48,010 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 16:53:48,011 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 16:53:48,011 - DEBUG - ---Ingresar a la ruta
2019-11-06 16:53:48,012 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 16:53:48,013 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 16:53:48,014 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 16:53:48,015 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 16:53:48,015 - DEBUG - ---enableAllApps()
2019-11-06 16:53:48,016 - DEBUG - ---save()
2019-11-06 16:53:48,016 - INFO - Indexing file: TD_Arquitectura_Ventas_Digitales_v1.1.docx
2019-11-06 16:53:48,072 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 16:53:48,073 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 16:53:48,077 - DEBUG - ---Reto 3 – Ventas Digitales
2019-11-06 16:53:48,077 - DEBUG - ---PMO25445
2019-11-06 16:53:48,090 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 16:53:48,092 - DEBUG - ---Control del Documento	3
2019-11-06 16:53:48,093 - DEBUG - ---Referencias	4
2019-11-06 16:53:48,094 - DEBUG - ---1.	Contextualización y Alcance de la Solución	5
2019-11-06 16:53:48,095 - DEBUG - ---2.	Vista funcional de la solución	7
2019-11-06 16:53:48,095 - DEBUG - ---2.1.	Componentes de la solución y relaciones de uso	7
2019-11-06 16:53:48,096 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito	8
2019-11-06 16:53:48,114 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión	9
2019-11-06 16:53:48,115 - DEBUG - ---Release 3 – Créditos Online (Motor)	10
2019-11-06 16:53:48,117 - DEBUG - ---2.1.1.	Detalle de componentes involucrados en Reportería (Visualización)	11
2019-11-06 16:53:48,119 - DEBUG - ---2.1.2.	Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos	13
2019-11-06 16:53:48,120 - DEBUG - ---2.1.3.	Detalle de componentes involucrados en la solución para Precalculados	14
2019-11-06 16:53:48,121 - DEBUG - ---2.1.4.	Descomposición funcional	15
2019-11-06 16:53:48,123 - DEBUG - ---2.1.5.	Validación con Expertos de la VSTI	20
2019-11-06 16:53:48,124 - DEBUG - ---2.2.	Interacción de Componentes	20
2019-11-06 16:53:48,125 - DEBUG - ---2.3.	Interfaces de la solución	25
2019-11-06 16:53:48,126 - DEBUG - ---3.	Vista física de la solución	25
2019-11-06 16:53:48,127 - DEBUG - ---3.1.	Diagrama de componentes técnicos	25
2019-11-06 16:53:48,128 - DEBUG - ---3.2.	Continuidad Tecnológica	27
2019-11-06 16:53:48,129 - DEBUG - ---3.2.1.	Esquema de Disponibilidad Local	27
2019-11-06 16:53:48,130 - DEBUG - ---3.2.2.	Esquema de Disponibilidad Remota	28
2019-11-06 16:53:48,131 - DEBUG - ---3.3.	Monitoreo de la solución	28
2019-11-06 16:53:48,132 - DEBUG - ---4.	Decisiones de Arquitectura	29
2019-11-06 16:53:48,140 - DEBUG - ---	
2019-11-06 16:53:48,141 - DEBUG - ---
Control del Documento
2019-11-06 16:53:48,144 - DEBUG - ---

2019-11-06 16:53:48,144 - DEBUG - ---Referencias
2019-11-06 16:53:48,146 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 16:53:48,149 - DEBUG - ---

2019-11-06 16:53:48,151 - DEBUG - ---Contextualización y Alcance de la Solución
2019-11-06 16:53:48,153 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 16:53:48,155 - DEBUG - ---El tercer reto que se afrontará dentro del programa será el de Ventas Digitales, el cual en su primera fase, tiene el siguiente alcance:
2019-11-06 16:53:48,158 - DEBUG - ---Con este reto se pretende darle solución a dos necesidades macro que actualmente tiene el banco:
2019-11-06 16:53:48,159 - DEBUG - ---Crear un nuevo portal de ventas digitales que habilite una experiencia de usuario enriquecedora a nuestros clientes.
2019-11-06 16:53:48,160 - DEBUG - ---Habilitar el portal para ventas que sean 100% en línea, en donde nuestros clientes disfruten de una experiencia de principio a fin sin necesidad de desplazarse a una sucursal física.  
2019-11-06 16:53:48,162 - DEBUG - ---El presente documento contempla el siguiente alcance:
2019-11-06 16:53:48,164 - DEBUG - ---El alcance adicional se realizará de manera incremental e iterativa.
2019-11-06 16:53:48,166 - DEBUG - ---Nota aclaratoria: como decisión del proyecto, no se va a realizar la migración de las actuales pantallas de solicitud de productos (seguros, tarjeta de crédito y libre inversión) que existen en Bancolombia a un Clic.
2019-11-06 16:53:48,169 - DEBUG - ---Vista funcional de la solución  
2019-11-06 16:53:48,171 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 16:53:48,172 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso de acuerdo con los requisitos de negocio planteados para la solución
2019-11-06 16:53:48,174 - DEBUG - ---

2019-11-06 16:53:48,175 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito
2019-11-06 16:53:48,178 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión
2019-11-06 16:53:48,180 - DEBUG - ---Release 3 – Créditos Online (Motor)
2019-11-06 16:53:48,183 - DEBUG - ---A continuación se detallan por medio de diagramas de componentes algunas funcionalidades que se tienen en la solución:
2019-11-06 16:53:48,186 - DEBUG - ---Detalle de componentes involucrados en Reportería (Visualización)
2019-11-06 16:53:48,187 - DEBUG - ---Los siguientes diagramas muestran la solución objetivo y transitoria para la visualización de la información de la base de datos de ventas digitales. 
2019-11-06 16:53:48,188 - DEBUG - ---Se hace necesario un modelo transitorio debido a que en Bancolombia aun no contamos con la herramienta Flume con gobierno desde TI. Esto se espera suceda en la segunda mitad del 2018.
2019-11-06 16:53:48,190 - DEBUG - ---Objetivo: en esta solución se transportará la información desde la base de datos de ventas digitales directamente hacia la LZ, esto a través de unos procesos micro-batch con la herramienta Flume. 
2019-11-06 16:53:48,191 - DEBUG - ---La explotación de la información se puede hacer directamente en la LZ con alguna de sus herramientas o a través de SAS o SAS Web Report Studio.
2019-11-06 16:53:48,194 - DEBUG - ---Transitorio: en esta solución se hace necesario involucrar una base de datos intermedia que servirá para ir descargando la información (cada hora aproximadamente) y mediante un proceso batch se llevará el histórico a la LZ. 
2019-11-06 16:53:48,195 - DEBUG - ---La explotación de la información se realizará mediante las herramientas propias de la LZ, SAS, Modeler o para algunos usuarios que no cuentan con skill o licencia se construirá un reporte en SAP BO.
2019-11-06 16:53:48,198 - DEBUG - ---

2019-11-06 16:53:48,199 - DEBUG - ---Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos
2019-11-06 16:53:48,202 - DEBUG - ---Al ser una solución nueva para Bancolombia, el siguiente diagrama muestra los componentes involucrados en la solución para la administración de tasas para créditos.
2019-11-06 16:53:48,204 - DEBUG - ---

2019-11-06 16:53:48,205 - DEBUG - ---Detalle de componentes involucrados en la solución para Precalculados
2019-11-06 16:53:48,207 - DEBUG - ---El siguiente diagrama muestra los componentes involucrados en la solución de precalculados desde que se generan los preaprobados hasta que quedan disponibles para ser consultados o actualizados vía capa de integración.
2019-11-06 16:53:48,211 - DEBUG - ---

2019-11-06 16:53:48,212 - DEBUG - ---Descomposición funcional
2019-11-06 16:53:48,214 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 16:53:48,235 - DEBUG - ---Validación con Expertos de la VSTI
2019-11-06 16:53:48,237 - DEBUG - ---Interacción de Componentes 
2019-11-06 16:53:48,239 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 16:53:48,240 - DEBUG - ---

2019-11-06 16:53:48,241 - DEBUG - ---Autenticación de clientes
2019-11-06 16:53:48,242 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la autenticación de los clientes dentro del portal de ventas digitales. Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 16:53:48,245 - DEBUG - ---Consulta de preaprobados
2019-11-06 16:53:48,246 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la consulta de los productos preaprobados de un cliente por cualquiera de los canales habilitados (SVP, APP y Portal de Ventas).
2019-11-06 16:53:48,248 - DEBUG - ---Carga de preaprobados
2019-11-06 16:53:48,251 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la carga de la base de datos transaccional de precalculados.
2019-11-06 16:53:48,255 - DEBUG - ---Venta de preaprobados TDC
2019-11-06 16:53:48,258 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes cuando se vende un producto preaprobado de Tarjeta de Crédito.
2019-11-06 16:53:48,261 - DEBUG - ---Replicar Información Solicitudes
2019-11-06 16:53:48,263 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para la replicación de la información de solicitudes desde la base de datos en IBM Bluemix hasta la base de datos intermedia y su posterior histórico en la LZ.
2019-11-06 16:53:48,264 - DEBUG - ---Nota: la periodicidad de ejecución de este proceso se propone sea cada hora de 6 a.m. a 6 p.m.
2019-11-06 16:53:48,267 - DEBUG - ---SSO entre canales
2019-11-06 16:53:48,270 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar el single sign on de un cliente desde la SVP/APP hacia el portal de ventas.3 Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 16:53:48,274 - DEBUG - ---Venta de preaprobados de Libre Inversión y CrediAgil
2019-11-06 16:53:48,276 - DEBUG - ---Venta de créditos con aprobación en línea.
2019-11-06 16:53:48,278 - DEBUG - ---Interfaces de la solución
2019-11-06 16:53:48,280 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 16:53:48,281 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 16:53:48,283 - DEBUG - ---<Enlace>
2019-11-06 16:53:48,286 - DEBUG - ---Vista física de la solución  
2019-11-06 16:53:48,289 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 16:53:48,291 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 16:53:48,293 - DEBUG - --- 
2019-11-06 16:53:48,295 - DEBUG - ---

2019-11-06 16:53:48,298 - DEBUG - ---Continuidad Tecnológica
2019-11-06 16:53:48,300 - DEBUG - ---En esta sección se muestra el diseño de los esquemas de disponibilidad local y remota desde la perspectiva de la necesidad de la solución y únicamente para componentes nuevos dentro de la arquitectura del banco. Los componentes existentes ya cuentan con su esquema de continuidad definido.
2019-11-06 16:53:48,302 - DEBUG - --- Esquema de Disponibilidad Local
2019-11-06 16:53:48,303 - DEBUG - ---Aplicación Administración de Tasas para Créditos
2019-11-06 16:53:48,305 - DEBUG - ---Base de datos de Preaprobados
2019-11-06 16:53:48,308 - DEBUG - ---Autenticación, manejo de sesión y Tx de consulta de preaprobados para la SVP
2019-11-06 16:53:48,310 - DEBUG - ---Esquema de Disponibilidad Remota
2019-11-06 16:53:48,311 - DEBUG - ---De acuerdo a la definición entregada por Riesgos y Continuidad del negocio en donde se indica que el Portal de Ventas al ser un canal alterno no está incluido en el BIA y por lo tanto no se requiere tener un esquema de disponibilidad remota (DR).
2019-11-06 16:53:48,313 - DEBUG - ---Monitoreo de la solución
2019-11-06 16:53:48,314 - DEBUG - ---A continuación se describen de manera general, el monitoreo que deben tener los componentes que son nuevos dentro de la solución y que se encuentren en infraestructura nueva.
2019-11-06 16:53:48,317 - DEBUG - ---   
2019-11-06 16:53:48,319 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 16:53:48,322 - INFO - Indexing file: acceso.txt
2019-11-06 16:53:48,323 - DEBUG - ---Softlayer (Abrir con el internet explorer)
https://vpn.hou02.softlayer.com
Usuario:   ejbetanc     password:  Y6W6iY2&
Usuario : vcardona / Vcardona123*

Url consola was producción
https://10.121.219.153:10001/ibm/console/logon.jsp
user: 
wasadminb1    
pass:  
wasadminb1//* 


SSH
10.121.219.153
10.77.251.216

wasadmin
B1CAdminWAS
2019-11-06 16:53:48,323 - INFO - Indexing file: Procedimiento reinicio CLUSTER2 Ventas Digitales Produccion.docx
2019-11-06 16:53:48,330 - DEBUG - ---Instructivo para realizar reinicio CLUSTER2 de ventas Digitales
2019-11-06 16:53:48,331 - DEBUG - ---Detener las aplicaciones, para ello desde la consola WAS ir a la ruta Applications - Application Types - WebSphere enterprise applications y buscar las aplicaciones 
2019-11-06 16:53:48,331 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 16:53:48,332 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 16:53:48,334 - DEBUG - ---El Cluser2 está compuesto por los APPSERVER ASPDNB1C03 y ASPDNB1C04, para continuar con el proceso de reinicio se debe detener  primero el APPSERVER ASPDNB1C03
2019-11-06 16:53:48,336 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 16:53:48,336 - DEBUG - ---En el servidor 10.73.29.83 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 16:53:48,337 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C03 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 16:53:48,338 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C03
2019-11-06 16:53:48,339 - DEBUG - ---Despues de validar que suba el APPSERVER ASPDNB1C03, se procede a detener el APPSERVER ASPDNB1C04
2019-11-06 16:53:48,340 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 16:53:48,340 - DEBUG - ---En el servidor 10.170.187.21 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 16:53:48,341 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C04 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 16:53:48,342 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C04
2019-11-06 16:53:48,343 - INFO - Indexing file: TD_Arquitectura_Mercado_Libre_Divisas_Personas_v1.3.docx
2019-11-06 16:53:48,391 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 16:53:48,392 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 16:53:48,396 - DEBUG - ---Reto Mercado Libre de Divisas
2019-11-06 16:53:48,400 - DEBUG - ---	
2019-11-06 16:53:48,402 - DEBUG - ---

2019-11-06 16:53:48,404 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 16:53:48,406 - DEBUG - ---
Control del Documento
2019-11-06 16:53:48,408 - DEBUG - ---

2019-11-06 16:53:48,409 - DEBUG - ---Referencias
2019-11-06 16:53:48,411 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 16:53:48,413 - DEBUG - ---

2019-11-06 16:53:48,414 - DEBUG - ---Contextualización de la Solución
2019-11-06 16:53:48,415 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 16:53:48,420 - DEBUG - ---El primer reto que se afrontará dentro del programa será el de Mercado Libre de Divisas, el cual pretende digitalizar a través de la SVP el proceso de compra y venta de divisas (solo formulario cambiario cinco) para personas naturales y pymes, este proceso comúnmente llamado envío y recepción de giros interbancarios a hoy se realiza personalmente a través de la sucursal física o de la mesa de dinero (telefónicamente). A continuación se presenta un diagrama conceptual que ilustra a alto nivel el proceso actual desde el punto de vista del cliente:
2019-11-06 16:53:48,423 - DEBUG - ---Con la digitalización de este proceso se pretende darle solución básicamente a dos aspectos:
2019-11-06 16:53:48,425 - DEBUG - ---Necesidad de desplazamiento a la sucursal física y la firma de declaraciones de cambio: actualmente, independiente del canal de negociación, para realizar el cumplimiento de la operación, el cliente se debe desplazar hasta la sucursal y radicar los documentos declaración de cambio y carta de instrucciones.
2019-11-06 16:53:48,427 - DEBUG - ---Alta congestión de mesa de dinero: a hoy un alto porcentaje de las operaciones entran directamente a la mesa, bien sea porque los clientes se sienten mejor asesorados o porque desde las oficinas, por desconocimiento, los remiten a la mesa, ocasionando así que se pierdan muchas veces mejores negocios por lo tiempos de espera en la mesa.
2019-11-06 16:53:48,436 - DEBUG - ---Alcance de la solución
2019-11-06 16:53:48,443 - DEBUG - ---La presente solución tiene como alcance los siguientes aspectos:
2019-11-06 16:53:48,448 - DEBUG - ---Consulta de histórico de transferencias internacionales recibidas.
2019-11-06 16:53:48,450 - DEBUG - ---Transacción de recepción manual de transferencias internacionales por la SVP, con abono a cuenta de ahorros o corriente.
2019-11-06 16:53:48,453 - DEBUG - ---Administración de la inscripción al servicio de abono automático para las transferencias internacionales recibidas.
2019-11-06 16:53:48,456 - DEBUG - ---Modificación de rutina de abono automático con beneficio de tasa digital.
2019-11-06 16:53:48,458 - DEBUG - ---Consulta de condiciones de negociación y tasa digital.
2019-11-06 16:53:48,459 - DEBUG - ---Alertas de recepción de transferencias internacionales.
2019-11-06 16:53:48,460 - DEBUG - ---Inscripción y administración de cuentas en el exterior.
2019-11-06 16:53:48,461 - DEBUG - ---Transacción de envío de transferencias internacionales por la SVP, con debito a cuenta ahorros o corriente.
2019-11-06 16:53:48,462 - DEBUG - ---Alertas de recibo y envío de transferencias internacionales.
2019-11-06 16:53:48,464 - DEBUG - ---Relación de la solución con otras Iniciativas 
2019-11-06 16:53:48,469 - DEBUG - ---Restricciones
2019-11-06 16:53:48,471 - DEBUG - ---Las siguientes son las restricciones de negocio y técnicas consideradas en el diseño de la arquitectura de la solución:   
2019-11-06 16:53:48,473 - DEBUG - ---

2019-11-06 16:53:48,474 - DEBUG - ---Vista funcional de la solución  
2019-11-06 16:53:48,476 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 16:53:48,478 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso a un alto nivel de acuerdo con los requisitos de negocio planteados para la solución.
2019-11-06 16:53:48,480 - DEBUG - ---

2019-11-06 16:53:48,484 - DEBUG - ---Actores de la solución
2019-11-06 16:53:48,487 - DEBUG - ---Se relacionan los actores que interactúan con la solución y su descripción desde la perspectiva del rol que desempeña:
2019-11-06 16:53:48,490 - DEBUG - ---  Puntos de acceso   
2019-11-06 16:53:48,492 - DEBUG - ---Los medios a través de los cuales los actores acceden a las funcionalidades de la solución son relacionados en la siguiente tabla:
2019-11-06 16:53:48,494 - DEBUG - ---   
2019-11-06 16:53:48,495 - DEBUG - ---Descomposición funcional
2019-11-06 16:53:48,496 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, su estado y quien es el dueño de dicho elemento, al igual que la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 16:53:48,500 - DEBUG - ---Requisitos Técnicos (RT)
2019-11-06 16:53:48,503 - DEBUG - ---Para la presente solución no se requiere de requisitos técnicos adicionales a los planteados en las responsabilidades de cada uno de los componentes y en las historias de usuario creadas por los usuarios.
2019-11-06 16:53:48,505 - DEBUG - ---Interacción de Componentes (Escenarios de uso de la solución)
2019-11-06 16:53:48,507 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 16:53:48,508 - DEBUG - ---

2019-11-06 16:53:48,510 - DEBUG - ---Gestión Abono Automático
2019-11-06 16:53:48,511 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario  de gestión de abono automático (inscripción, modificación y retiro) y la interacción entre ellos: 
2019-11-06 16:53:48,513 - DEBUG - ---Transferencias recibidas desde el exterior
2019-11-06 16:53:48,515 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de recepción manual de una transferencia desde el exterior y la interacción entre ellos: 
2019-11-06 16:53:48,519 - DEBUG - ---Abono Automático
2019-11-06 16:53:48,522 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de la ejecución de la rutina de abono automático y la interacción entre ellos: 
2019-11-06 16:53:48,525 - DEBUG - ---Notificaciones desde CIB
2019-11-06 16:53:48,527 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para la migración de notificaciones de Faxmail a Alertas y Notificaciones: 
2019-11-06 16:53:48,531 - DEBUG - ---Transferencias hacia el exterior
2019-11-06 16:53:48,536 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para inscripción de cuentas y transferencias hacia el exterior: 
2019-11-06 16:53:48,538 - DEBUG - ---	
2019-11-06 16:53:48,544 - DEBUG - ---Consulta de Tasa
2019-11-06 16:53:48,547 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario para la consulta de tasa digital y la interacción entre ellos: 
2019-11-06 16:53:48,552 - DEBUG - ---Interfaces de la solución
2019-11-06 16:53:48,553 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 16:53:48,555 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 16:53:48,558 - DEBUG - ---Visualización y accesos 
2019-11-06 16:53:48,559 - DEBUG - ---Se presentan los principales reportes/informes o punto de acceso a la información, que se crean o se modifican de forma relevante en la solución:
2019-11-06 16:53:48,561 - DEBUG - ---Para obtener mayor información sobre los tipos de reportes y las herramientas corporativas para su implementación, puede referirse a la 
2019-11-06 16:53:48,562 - DEBUG - ---   
2019-11-06 16:53:48,563 - DEBUG - ---

2019-11-06 16:53:48,564 - DEBUG - ---Vista física de la solución  
2019-11-06 16:53:48,566 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 16:53:48,569 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 16:53:48,571 - DEBUG - ---

2019-11-06 16:53:48,572 - DEBUG - ---Cuadro resumen de componentes técnicos
2019-11-06 16:53:48,574 - DEBUG - ---Se ubican los componentes en capas  y se  relaciona  la información técnica asociada a cada componente, tipo,  plataforma, sistema operativo, tecnologías y ubicación geográfica:
2019-11-06 16:53:48,575 - DEBUG - ---Continuidad Tecnológica
2019-11-06 16:53:48,599 - DEBUG - ---En esta seacción se muestra el diseño de la contingencia local y remota para los siguientes componentes de infraestructura nuevos de la solución:
2019-11-06 16:53:48,602 - DEBUG - ---Front Mercado Libre
2019-11-06 16:53:48,604 - DEBUG - ---Los demás componentes de infraestructura son los existentes, por lo tanto la alta disponibilidad, contingencia remota, monitoreo y ambientes de ejecución serán los mismos que a hoy se tienen definidos.
2019-11-06 16:53:48,606 - DEBUG - --- Alta Disponibilidad  (High Availability- HA)
2019-11-06 16:53:48,607 - DEBUG - ---La alta disponibilidad se puede ver en la sección 5.6 del presente documento.
2019-11-06 16:53:48,609 - DEBUG - ---Contingencia Remota (Disaster Recovery - DR)
2019-11-06 16:53:48,610 - DEBUG - ---La contingencia remota es la misma que existe actualmente para la infraestructura de WAS de la SVP, a continuación una imagen que detalla el tema:
2019-11-06 16:53:48,612 - DEBUG - ---Monitoreo de la solución
2019-11-06 16:53:48,614 - DEBUG - ---Se debe implementar el mismo esquema de monitoreo que a hoy se tiene para los desarrollos de la SVP y el Framework Transaccional. Adicionalmente se deberán implementar mecanismos de monitoreo para garantizar que la aplicación del nuevo front este arriba, monitoreando el link y garantizando que la respuesta http sea correcta.
2019-11-06 16:53:48,619 - DEBUG - ---Ambientes de Ejecución
2019-11-06 16:53:48,621 - DEBUG - ---Se tendrán los siguientes ambientes para la solución:
2019-11-06 16:53:48,623 - DEBUG - ---Desarrollo
2019-11-06 16:53:48,625 - DEBUG - ---El ambiente de desarrollo será utilizando la infraestructura actual que tiene la SVP, para tal motivo se creará un nuevo servidor de aplicaciones para los desarrollos del front y otro servidor de aplicaciones para los desarrollos comunes del framework transaccional.
2019-11-06 16:53:48,626 - DEBUG - ---Certificación
2019-11-06 16:53:48,628 - DEBUG - ---El ambiente de certificación será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán dos nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros dos servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 16:53:48,632 - DEBUG - ---Producción
2019-11-06 16:53:48,633 - DEBUG - ---El ambiente de producción será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán cuatro nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros cuatro servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 16:53:48,639 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 16:53:48,640 - DEBUG - ---Las decisiones aplicativas, técnicas, de información y seguridad más relevantes con respecto a diversos aspectos de la arquitectura son relacionadas a continuación:
2019-11-06 16:53:48,647 - DEBUG - --- Riesgos y/o Alertas
2019-11-06 16:53:48,654 - DEBUG - ---En la siguiente tabla se relacionan los puntos relevantes generados a partir del diseño y de interés para certificación, desarrollo, gestión de la demanda e infraestructura: 
2019-11-06 16:53:48,664 - DEBUG - --- Estándares y definiciones
2019-11-06 16:53:48,668 - DEBUG - ---Se relacionan los estándares y definiciones que se consideraron para la elaboración del diseño de la arquitectura de la solución:
2019-11-06 16:53:48,675 - DEBUG - ---   
2019-11-06 16:53:48,678 - INFO - Indexing file: Tips OC 2154091.docx
2019-11-06 16:53:48,688 - DEBUG - ---Ejecucion OC 2154091
2019-11-06 16:53:48,689 - DEBUG - ----Se requiere subir archivo de monitoreo para ventas tajeta de credito y libre inversión
2019-11-06 16:53:48,690 - DEBUG - ---Solución:
2019-11-06 16:53:48,690 - DEBUG - ----Actualizar los siguientes war:
2019-11-06 16:53:48,691 - DEBUG - ---VIEW.Dashboard
2019-11-06 16:53:48,692 - DEBUG - ---VIEW.Tarjeta
2019-11-06 16:53:48,692 - DEBUG - ---VIEW.Creditos
2019-11-06 16:53:48,693 - DEBUG - ---Las aplicaciones a actualizar están desplegadas en el WAS CLUSTER2 apuntando a los IHS de Acceso digital y tienen los siguientes nombres:
2019-11-06 16:53:48,693 - DEBUG - ---PMO27262_VIEW_Dashboard
2019-11-06 16:53:48,694 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 16:53:48,694 - DEBUG - ---PMO27262_VIEW_Creditos
2019-11-06 16:53:48,695 - DEBUG - ---Una vez instales, reincias el CLUSTER2 para no generar afectación del servicio
2019-11-06 16:53:48,696 - DEBUG - ---Accesos de produccion
2019-11-06 16:53:48,697 - DEBUG - ---Softlayer (Abrir con el internet explorer)
2019-11-06 16:53:48,697 - DEBUG - ---Usuario:   ejbetanc     password:  Y6W6iY2&
2019-11-06 16:53:48,698 - DEBUG - ---Usuario : vcardona / Vcardona123*
2019-11-06 16:53:48,699 - DEBUG - ---Url consola was producción
2019-11-06 16:53:48,699 - DEBUG - ---user: 
2019-11-06 16:53:48,700 - DEBUG - ---wasadminb1    
2019-11-06 16:53:48,700 - DEBUG - ---pass:  
2019-11-06 16:53:48,701 - DEBUG - ---wasadminb1//* 
2019-11-06 16:53:48,702 - DEBUG - ---SSH
2019-11-06 16:53:48,702 - DEBUG - ---10.121.219.153
2019-11-06 16:53:48,703 - DEBUG - ---10.77.251.216
2019-11-06 16:53:48,703 - DEBUG - ---wasadmin
2019-11-06 16:53:48,704 - DEBUG - ---B1CAdminWAS
2019-11-06 16:53:48,705 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-06 16:53:48,779 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 16:53:48,781 - DEBUG - ---(PLATAFORMAS CENTRALES DE INTEGRACION)
2019-11-06 16:53:48,784 - DEBUG - ---Versión 1.0 
2019-11-06 16:53:48,786 - DEBUG - ---SVE, Facturanet, PSE
2019-11-06 16:53:48,788 - DEBUG - ---PMO17969
2019-11-06 16:53:48,789 - DEBUG - ---

2019-11-06 16:53:48,791 - DEBUG - ---Control del Documento
2019-11-06 16:53:48,793 - DEBUG - ---

2019-11-06 16:53:48,796 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 16:53:48,801 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 16:53:48,802 - DEBUG - ---Descripción detallada del diseño en la plataformac
2019-11-06 16:53:48,804 - DEBUG - ---Consideraciones especiales 
2019-11-06 16:53:48,805 - DEBUG - --- 
2019-11-06 16:53:48,823 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 16:53:48,824 - DEBUG - ---(Telecomunicaciones, plataformas centrales, bases de datos, Distribuidas, monitoreo)
2019-11-06 16:53:48,824 - DEBUG - ---Diagrama que contiene cada uno de los componentes de tecnología y su relación (hardware y software) 
2019-11-06 16:53:48,825 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 16:53:48,827 - DEBUG - ---AMBIENTE DE PRODUCCIÓN
2019-11-06 16:53:48,830 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 16:53:48,836 - DEBUG - ---AMBIENTE DE DESARROLLO
2019-11-06 16:53:48,842 - DEBUG - ---(Información de  Configuraciones especificas, reglas, direccionamiento, VLANs, 
2019-11-06 16:53:48,843 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 16:53:48,844 - DEBUG - ---A nivel de Servidor de aplicaciones WAS
2019-11-06 16:53:48,856 - DEBUG - ---Seguridad a Nivel de Sistema Operativo
2019-11-06 16:53:48,857 - DEBUG - ---Seguridad a Nivel de Datos
2019-11-06 16:53:48,859 - DEBUG - ---Esquema de depuración de la base de datos
2019-11-06 16:53:48,860 - DEBUG - ---Ambiente de Producción
2019-11-06 16:53:48,861 - DEBUG - ---Ambiente de Certificación
2019-11-06 16:53:48,861 - DEBUG - ---Ambiente de Integración
2019-11-06 16:53:48,863 - DEBUG - ---Servidores de Producción
2019-11-06 16:53:48,865 - DEBUG - ---Servidores Certificación:
2019-11-06 16:53:48,866 - DEBUG - ---Servidores Desarrollo:
2019-11-06 16:53:48,869 - DEBUG - ---Consideraciones especiales 
2019-11-06 16:53:48,869 - DEBUG - ---(Recomendaciones y procedimientos adicionales para la Implementación, soporte)
2019-11-06 16:53:48,870 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 16:53:48,872 - DEBUG - ---  
2019-11-06 16:53:48,873 - DEBUG - ---(Incluir desde la plataforma específica,  una lista de pasos recomendados para verificar el estado de la solución  y plasmarlo en  un diagrama  de flujo de decisión en cada paso mencionado)
2019-11-06 16:53:48,874 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 16:53:48,875 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 16:53:48,877 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 16:53:48,878 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación. 
2019-11-06 16:53:48,879 - DEBUG - ---Comprobar el estado del servidor web que recibe las peticiones para la aplicación.
2019-11-06 16:53:48,881 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones y del web server. 
2019-11-06 16:53:48,882 - DEBUG - ---  
2019-11-06 16:53:48,884 - DEBUG - ---Liste los  tipos de contingencia que tiene el servicio (de aplicación, de modo de operación, de infraestructura, etc)
2019-11-06 16:53:48,885 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 16:53:48,886 - DEBUG - ---Entrega el área que proporciona la contingencia
2019-11-06 16:53:48,887 - DEBUG - ---Los  procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 16:53:48,888 - DEBUG - ---Plataforma WAS
2019-11-06 16:53:48,889 - DEBUG - ---El servidor de aplicaciones cuenta con un esquema de disponibilidad ACTIVO/PASIVO; de esta manera la aplicación está disponible en uno de los servidores y tiene el otro como respaldo.
2019-11-06 16:53:48,890 - DEBUG - ---La plataforma también cuenta con DRP.
2019-11-06 16:53:48,892 - DEBUG - ---  
2019-11-06 16:53:48,893 - DEBUG - ---Errores funcionales del servicio, Errores Técnicos de aplicación, Errores de la Infraestructura, Errores en  Plataformas Centrales , Errores en  Plataformas Distribuidas, Errores en  Telecomunicaciones
2019-11-06 16:53:48,894 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 16:53:48,896 - DEBUG - ---Errores conocidos  
2019-11-06 16:53:48,897 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 16:53:48,898 - DEBUG - ---A nivel de WAS
2019-11-06 16:53:48,900 - DEBUG - ---.    Errores funcionales del servicio
2019-11-06 16:53:48,903 - DEBUG - --- 
2019-11-06 16:53:48,905 - INFO - Indexing file: Anexo 1 - Grafico de diseдo de arquitectura del cliente.docx
2019-11-06 16:53:48,913 - DEBUG - ---Grafico de diseño de arquitectura del cliente.
2019-11-06 16:53:48,913 - INFO - Indexing file: Hoja de datos WAS.docx
2019-11-06 16:53:48,920 - INFO - Indexing file: Hoja de datos Process server.docx
2019-11-06 16:53:48,924 - DEBUG - ---Hoja de datos Process server
2019-11-06 16:53:48,924 - INFO - Indexing file: Hoja de datos Datapower.docx
2019-11-06 16:53:48,929 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 16:53:48,929 - DEBUG - ---RIN – UNE (Servidor)
2019-11-06 16:53:48,930 - DEBUG - ---PMO16436
2019-11-06 16:53:48,930 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-06 16:53:48,943 - DEBUG - ---

2019-11-06 16:53:48,944 - DEBUG - ---PROCEDIMIENTO A REALIZAR
2019-11-06 16:53:48,945 - DEBUG - ---PEDIDOS QUE REALIZA PI
2019-11-06 16:53:48,946 - DEBUG - ---Solicitud del filesystem para el Proyecto 
2019-11-06 16:53:48,946 - DEBUG - ---Se solicita por medio de correo a nosotros con el nombre del proyecto y el Sizing del mismo.
2019-11-06 16:53:48,947 - DEBUG - ---Crear OC: 
2019-11-06 16:53:48,947 - DEBUG - ---Categoría: almacenamiento y creación de disco.
2019-11-06 16:53:48,948 - DEBUG - ---Adjuntar el formato (Solicitarlo a almacenamiento).
2019-11-06 16:53:48,949 - DEBUG - ---SOLICITAR AMPLIACIÓN - CREACIÓN - FILESYSTEM - DIRECTORIO - CARPETA oc'S:

2019-11-06 16:53:48,949 - DEBUG - ---Filesystem existente:
*orden de cambio ampliación - 456834
Categoría: Almacenamiento. Ampliación File Systems y presentación Discos SAN Plataformas Centrales 

2019-11-06 16:53:48,950 - DEBUG - ---Filesystem Nuevo:
*orden de cambio creación - 718604 
Categoría: Almacenamiento. Creación de Discos Nuevos Plataformas Centrales
2019-11-06 16:53:48,951 - DEBUG - ---PEDIDOS QUE REALIZA DESARROLLO
2019-11-06 16:53:48,951 - DEBUG - ---Creación de usuarios de red (AIX): Se solicita por USM, creación usuarios pSeries.
2019-11-06 16:53:48,952 - DEBUG - ---En caso de que el proveedor sea nuevo en el banco.
2019-11-06 16:53:48,953 - DEBUG - ---Pedidos USM a Control de Acceso
2019-11-06 16:53:48,953 - DEBUG - --- Se realiza la solicitud por medio de USM ().
2019-11-06 16:53:48,954 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 16:53:48,954 - DEBUG - ---Cuando tengan los nombres de los usuarios de red de cada desarrollador, deben solicitar la autorización por correo a GCIA PLATAFORMAS DE INTEGRACION  para la creación de los usuarios en la máquina 10.8.64.210 - PBMDEADDST04, para adjuntarlo al pedido. 
2019-11-06 16:53:48,955 - DEBUG - ---Con la aprobación realizan la solicitud para la creación de usuarios del SO para cada desarrollador y que pertenezcan al grupo “dstageXXX” (Fabrica) 
2019-11-06 16:53:48,956 - DEBUG - ---Servicios Especializados de TI (sólo para empleados VTI) -> Gestion de ambientes de pruebas y desarrollo -> Gestion de Ambientes - Administración control de Acceso -> Creación de usuarios Pseries -> Selecciona la opción de Creación de usuarios Pseries y descargamos el formato para diligenciarlo que se encuentra en la parte de abajo en letra roja, para luego adjuntarlo.
2019-11-06 16:53:48,957 - DEBUG - ---El usuario de red debe solicitarse para crear en el directorio activo de AMBIENTESBC para poderse conectar a través de las herramientas cliente (Designer, Director). Debe solicitarse con las siguientes características: 
2019-11-06 16:53:48,958 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 16:53:48,958 - DEBUG - ---La clave no puede expirar
2019-11-06 16:53:48,959 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 16:53:48,960 - DEBUG - ---Relación de confianza (SFTP): Aplica si utilizan conexión SFTP. 
2019-11-06 16:53:48,960 - DEBUG - ---Solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadmXXX y el de conexión creado previamente.
2019-11-06 16:53:48,961 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 16:53:48,962 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 16:53:48,963 - DEBUG - ---Solicitarse para crear en el directorio activo de AMBIENTESBC los usuarios de Tester (Certificadores). Debe solicitarse con las siguientes características:
2019-11-06 16:53:48,964 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 16:53:48,964 - DEBUG - ---La clave no puede expirar
2019-11-06 16:53:48,965 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 16:53:48,966 - DEBUG - ---AMBIENTE DE PRODUCCIÓN 
2019-11-06 16:53:48,967 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 16:53:48,968 - DEBUG - ---En éste ambiente no se crean usuarios de desarrollo por ser productivo.
2019-11-06 16:53:48,969 - DEBUG - ---Pedidos OC a nuestro grupo Plataformas de integración
2019-11-06 16:53:48,969 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 16:53:48,970 - DEBUG - ---Solicitan la creación del proyecto DESA_PROYECTO 
2019-11-06 16:53:48,971 - DEBUG - ---Solicitan matricular los usuarios de los desarrolladores creados en AMBIENTESBC y asociarlos al proyecto creado. (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx).
2019-11-06 16:53:48,971 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 16:53:48,972 - DEBUG - ---Ambiente
2019-11-06 16:53:48,972 - DEBUG - ---Nombre del proyecto.
2019-11-06 16:53:48,973 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 16:53:48,974 - DEBUG - ---IP de la máquina de la BD
2019-11-06 16:53:48,974 - DEBUG - ---Nombre de la BD
2019-11-06 16:53:48,975 - DEBUG - ---Tabla o esquema
2019-11-06 16:53:48,975 - DEBUG - ---Puerto 
2019-11-06 16:53:48,976 - DEBUG - ---Nombre del Datasource
2019-11-06 16:53:48,976 - DEBUG - ---DNS del servidor
2019-11-06 16:53:48,977 - DEBUG - ---AMBIENTE CERTIFICACIÓN
2019-11-06 16:53:48,978 - DEBUG - ---Solicitan la creación del proyecto, CERT_ PROYECTO 
2019-11-06 16:53:48,978 - DEBUG - ---Solicitan matricular los usuarios de los Tester y asociarlos al proyecto creado (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx)
2019-11-06 16:53:48,979 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 16:53:48,979 - DEBUG - ---Ambiente
2019-11-06 16:53:48,980 - DEBUG - ---Nombre del proyecto.
2019-11-06 16:53:48,980 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 16:53:48,981 - DEBUG - ---IP de la máquina de la BD
2019-11-06 16:53:48,981 - DEBUG - ---Nombre de la BD
2019-11-06 16:53:48,982 - DEBUG - ---Tabla o esquema
2019-11-06 16:53:48,983 - DEBUG - ---Puerto 
2019-11-06 16:53:48,983 - DEBUG - ---Nombre del Datasource
2019-11-06 16:53:48,984 - DEBUG - ---DNS del servidor
2019-11-06 16:53:48,985 - DEBUG - ---AMBIENTE PRODUCCIÓN
2019-11-06 16:53:48,986 - DEBUG - ---Solicitan la creación del proyecto PROD_ PROYECTOS 
2019-11-06 16:53:48,986 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 16:53:48,987 - DEBUG - ---Ambiente
2019-11-06 16:53:48,988 - DEBUG - ---Nombre del proyecto.
2019-11-06 16:53:48,988 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 16:53:48,989 - DEBUG - ---IP de la máquina de la BD
2019-11-06 16:53:48,989 - DEBUG - ---Nombre de la BD
2019-11-06 16:53:48,990 - DEBUG - ---Tabla o esquema
2019-11-06 16:53:48,990 - DEBUG - ---Puerto 
2019-11-06 16:53:48,991 - DEBUG - ---Nombre del Datasource
2019-11-06 16:53:48,991 - DEBUG - ---DNS del servidor
2019-11-06 16:53:48,992 - DEBUG - ---	
2019-11-06 16:53:48,992 - DEBUG - ---Otros temas a tener en cuenta:
2019-11-06 16:53:48,993 - DEBUG - ---El nombre del proyecto se define de la siguiente forma:
2019-11-06 16:53:48,993 - DEBUG - ---Desarrollo: DESA_PROYECTO
2019-11-06 16:53:48,994 - DEBUG - ---Certificación: CERT_PROYECTO
2019-11-06 16:53:48,994 - DEBUG - ---Producción: PROD_PROYECTO
2019-11-06 16:53:48,995 - DEBUG - ---Los usuarios de SO se crean en Desarrollo y Certificación en el Engine DataStage (Dllo: 10.8.64.210, Cert: 10.4.33.30).
2019-11-06 16:53:48,996 - DEBUG - ---Los usuarios de Desarrollo deben tener un cliente instalado en su máquina o conectarse a través de Citrix.
2019-11-06 16:53:48,996 - DEBUG - ---Información que se solicita al analista del proyecto: 
2019-11-06 16:53:48,997 - DEBUG - ---Nombre de la Fábrica
2019-11-06 16:53:48,998 - DEBUG - ---Sizing (Tamaño del filesystem en cada uno de los ambientes).
2019-11-06 16:53:48,998 - DEBUG - ---Si es una conexión ODBC se necesita un String de Conexión para lo cual se requiere saber:
2019-11-06 16:53:48,999 - DEBUG - ---Tipo base de datos
2019-11-06 16:53:48,999 - DEBUG - ---Nombre del Datasource
2019-11-06 16:53:49,000 - DEBUG - ---DNS del servidor
2019-11-06 16:53:49,000 - DEBUG - ---Nombre de base de datos
2019-11-06 16:53:49,001 - DEBUG - ---Puerto
2019-11-06 16:53:49,001 - DEBUG - ---Si es una conexión sftp se deben conocer los usuarios de conexión y las máquinas destino a las cuáles se conectan.
2019-11-06 16:53:49,002 - DEBUG - ---Usuario iSeries (CNXxxx).
2019-11-06 16:53:49,002 - INFO - Indexing file: Guia_Instalacion_CambioCertificadoDigital.docx
2019-11-06 16:53:49,016 - DEBUG - ---	
2019-11-06 16:53:49,017 - DEBUG - ---Cambio Certificado Digital 
2019-11-06 16:53:49,018 - DEBUG - ---CerFirmaCarvajal.cer
2019-11-06 16:53:49,018 - DEBUG - ---Guía de instalación
2019-11-06 16:53:49,019 - DEBUG - ---OC 2230886
2019-11-06 16:53:49,020 - DEBUG - ---Versión 1.0
2019-11-06 16:53:49,026 - DEBUG - ---Manual de instalación 
2019-11-06 16:53:49,027 - DEBUG - ---OC 2230886
2019-11-06 16:53:49,027 - DEBUG - ---Datos para la instalación
2019-11-06 16:53:49,028 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 16:53:49,029 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 16:53:49,029 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 16:53:49,030 - DEBUG - ---CEL: 3115332927 
2019-11-06 16:53:49,030 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 16:53:49,031 - DEBUG - ---  
2019-11-06 16:53:49,031 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 6
2019-11-06 16:53:49,031 - DEBUG - ---Acceso Datapower 
2019-11-06 16:53:49,032 - DEBUG - ---Ingresar a  y a  - Datapower 2   con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio PRODUCCIÓN
2019-11-06 16:53:49,033 - DEBUG - ---Nota: Instalar también en el DataPower del DRP
2019-11-06 16:53:49,034 - DEBUG - ---Instalación de los Certificados nombres CC_FIRMA_CARVAJAL, certificado CerFirmaCarvajal.cer
2019-11-06 16:53:49,034 - DEBUG - ---Descargar los archivos CerFirmaCarvajal.cer  que se encuentra adjunto en la OC.
2019-11-06 16:53:49,035 - DEBUG - ---Sobrescribir el archivo en la carpeta cert del dominio de producción, el certificado CerFirmaCarvajal.cer 
2019-11-06 16:53:49,035 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 16:53:49,040 - DEBUG - ---Manual de instalación 
2019-11-06 16:53:49,040 - DEBUG - ---OC 2230886
2019-11-06 16:53:49,041 - DEBUG - ---Datos para la instalación
2019-11-06 16:53:49,041 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 16:53:49,042 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 16:53:49,042 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 16:53:49,043 - DEBUG - ---CEL: 3115332927  
2019-11-06 16:53:49,043 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 16:53:49,044 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 7
2019-11-06 16:53:49,045 - DEBUG - ---Acceso Datapower 
2019-11-06 16:53:49,045 - DEBUG - ---Ingresar a  - Datapower1 y a  - Datapower 2 , con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio Default
2019-11-06 16:53:49,046 - DEBUG - ---Instalación de los Certificados Nombre CC_FIRMA_CARVAJAL certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 16:53:49,047 - DEBUG - ---Descargar los archivos CC_FIRMA_CARVAJAL.cer que se encuentra adjunto en la OC.
2019-11-06 16:53:49,048 - DEBUG - ---Sobrescribir los archivos en la carpeta sharedcert del dominio de Default, el certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 16:53:49,048 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate CC_FIRMA_CARVAJAL que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 16:53:49,049 - DEBUG - ---Por favor instalar las cadenas de confianza adjuntas (AC_SUB_CERTICAMARA.cer y AC_Raiz_Certicamara.cer) en la carpeta pubcert en el dominio Default
2019-11-06 16:53:49,051 - DEBUG - ---Ingresar a la URL
2019-11-06 16:53:49,051 - DEBUG - ---​
2019-11-06 16:53:49,052 - DEBUG - ---​
2019-11-06 16:53:49,052 - DEBUG - ---Y deshabilitar el componente que aparece​ a continuación:
2019-11-06 16:53:49,054 - INFO - Indexing file: Reinicio_Datastage (1).txt
2019-11-06 16:53:49,054 - DEBUG - ---
REINICIO - ENGINE
Con el usuario DSADM

cd /opk/IBM/InformationServer/Server/DSEngine/
. ./dsenv 
uv -admin -stop

REINICIO LOGGIN AGENT
/opk/IBM/InformationServer/ASBNode/bin
sudo ./NodeAgents.sh stop

version.xml - /opk/IBM/InformationServer

sudo /opk/IBM/InformationServer/Server/DSEngine/

sudo sh "chown -R dsadm:dstage /opk /dataset1 /dataset2 /scratch1 /scratch2 /proyectos /interfaces" 
cd $DSHOME/scripts 
sudo sh DSEenable_impersonation.sh 

/opk/IBM/InformationServer/Server/DSComponents/bin
./dscompinst -username ceaherre -password Banco2013* -install -force /tmp/CC_ORA_aix_installation.jar

ps -ef | grep osh
ps -ef | grep DSD.RUN
ps -ef | grep dsapi

2019-11-06 16:57:05,877 - DEBUG - performing search with criteria: sterling
2019-11-06 16:57:05,912 - DEBUG - results found: 0
2019-11-06 16:57:05,913 - DEBUG - performing search with criteria: terrible
2019-11-06 16:57:05,924 - DEBUG - results found: 1
2019-11-06 16:57:05,924 - DEBUG - performing search with criteria: parrafa
2019-11-06 16:57:05,930 - DEBUG - results found: 4
2019-11-06 16:57:26,199 - DEBUG - performing search with criteria: Sterling
2019-11-06 16:57:26,218 - DEBUG - results found: 0
2019-11-06 16:57:26,218 - DEBUG - performing search with criteria: terrible
2019-11-06 16:57:26,225 - DEBUG - results found: 1
2019-11-06 16:57:26,226 - DEBUG - performing search with criteria: parrafa
2019-11-06 16:57:26,230 - DEBUG - results found: 4
2019-11-06 16:58:32,642 - DEBUG - performing search with criteria: 2230886
2019-11-06 16:58:32,676 - DEBUG - results found: 3
2019-11-06 16:58:32,677 - DEBUG - performing search with criteria: terrible
2019-11-06 16:58:32,684 - DEBUG - results found: 1
2019-11-06 16:58:32,684 - DEBUG - performing search with criteria: parrafa
2019-11-06 16:58:32,689 - DEBUG - results found: 4
2019-11-06 16:59:19,759 - DEBUG - performing search with criteria: WAS
2019-11-06 16:59:19,783 - DEBUG - results found: 10
2019-11-06 16:59:19,784 - DEBUG - performing search with criteria: terrible
2019-11-06 16:59:19,795 - DEBUG - results found: 1
2019-11-06 16:59:19,795 - DEBUG - performing search with criteria: parrafa
2019-11-06 16:59:19,802 - DEBUG - results found: 4
2019-11-06 16:59:42,097 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 16:59:42,123 - DEBUG - results found: 7
2019-11-06 16:59:42,123 - DEBUG - performing search with criteria: terrible
2019-11-06 16:59:42,129 - DEBUG - results found: 1
2019-11-06 16:59:42,129 - DEBUG - performing search with criteria: parrafa
2019-11-06 16:59:42,135 - DEBUG - results found: 4
2019-11-06 20:28:01,964 - INFO - ------------------------------------------
2019-11-06 20:28:01,965 - INFO - -- Starting indexing process      --------
2019-11-06 20:28:01,965 - INFO - -- files path: /home/mgazzola/Documents/instructivos
2019-11-06 20:28:01,965 - INFO - ------------------------------------------
2019-11-06 20:28:02,004 - INFO - Indexing file: MANUAL DE OPERACIONES WSRR v.1.docx
2019-11-06 20:28:02,019 - DEBUG - ---GUÍA DE OPERACIONES WSRR v8.0
2019-11-06 20:28:02,019 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:28:02,020 - DEBUG - ---1. Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0:
2019-11-06 20:28:02,021 - DEBUG - ---AW0939
2019-11-06 20:28:02,021 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:28:02,022 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:28:02,022 - DEBUG - ---2. Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:28:02,023 - DEBUG - ---MQE_RecuperarDatosCliente (la versión 3.0 -->
2019-11-06 20:28:02,024 - DEBUG - ---http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0 [^]).
2019-11-06 20:28:02,026 - DEBUG - ---PASOS
2019-11-06 20:28:02,026 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:28:02,027 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:28:02,028 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:28:02,029 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:28:02,029 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:28:02,030 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:28:02,031 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:28:02,031 - DEBUG - ---

2019-11-06 20:28:02,032 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:28:02,032 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:28:02,033 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:28:02,034 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:28:02,034 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:28:02,035 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:28:02,035 - INFO - Indexing file: HOJA DE DATOS_WSP_RIN_ARGS(1).docx
2019-11-06 20:28:02,043 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:28:02,044 - DEBUG - ---RIN DOS VÍAS –Argos (Servidor)
2019-11-06 20:28:02,045 - DEBUG - ----Dummy
2019-11-06 20:28:02,045 - INFO - Indexing file: Tips Aristi.txt
2019-11-06 20:28:02,046 - DEBUG - ---Comandos Frecuentes WebSphere Message Queue

* Ruta de logs
/var/mqm/errors ( Logs del producto )
/var/mqm/qmgrs/BCOLQMGR/errors ( Logs de un Queue Manager )

* Ruta de almacenes de certificados
/var/mqm/qmgrs/BCOLQMGR/ssl

* Administrar certificados
gsk7cmd -keydb -create -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -expire <days> -stash
gsk7cmd -keydb -stashpw -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12>
gsk7cmd -certreq -create [-db <name>] [-crypto <module name> [-tokenlabel <token label>]|[-relativeSlotNumber <slot_number>]] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> [-san_ipaddr <ip addr>[,<ip addr>]] [-san_dnsname <dns name>[,<dns name>]] [-san_emailaddr <email addr>[,<email addr>]] [-usereasoncode] -dn <dist name> [-size <2048 | 1024 | 512>] -file <name>
gsk7cmd -certreq -recreate [-db <name>] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> -file <name>
gsk7cmd -cert -add -db <filename>.kdb -pw <password> -label <label> -format <ascii | binary> -trust <enable | disable> -file <filename>
gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary> 
gsk7cmd -cert -list <all | personal | CA | site> -db < dbname > -pw <password> -type <cms | jks |jceks | pkcs12> -expiry < days >
gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename>
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -details -db <filename>.kdb -pw <password> -label <label>

--Cambiar el label de un certificado personal
gsk7cmd -cert -export -db key.kdb -pw passw0rd -label friendlyName -type cms -target personal.p12 -target_pw target_password -target_type pkcs12
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -import -file personal.p12 -label friendlyName -new_label ibmwebspheremqqueuemanagername -type pkcs12 -pw passw0rd -target key.kdb -target_pw target_password

Ejemplo:
gsk7cmd -keydb -create -db ihskeystore.kdb -pw ihskeystore -type cms -stash
gsk7cmd -certreq -create -db ihskeystore.kdb -pw ihskeystore -type cms -label sasoprd -dn "CN=sasoprd.bancolombia.corp,OU=VICEPRESIDENCIA DE TECNOLOGIA,O=BANCOLOMBIA S.A.,L=MEDELLIN,ST=ANTIOQUIA,C=CO" -size 2048 -file sasoprd.arm -sig_alg sha1

gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAROOTCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAROOTCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAPOLICYNETCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAPOLICYNETCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAISSUING1CA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAISSUING1CA.cer

gsk7cmd -cert -receive -db ihskeystore.kdb -pw ihskeystore -format ascii -file /tmp/SASOpriskDesarrollo/sasoprd.bancolombia.corp.cer

* Administrar permisos sobre los objetos
dspmqaut -m BCOLQMGR -t qmgr -g cnmq
setmqaut -m BCOLQMGR -t qmgr -g cnmq +connect +inq
dspmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq
setmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq +browse +get +inq +put +set

* Ejemplo para conectar dos MQ Servers ( PanamÃ¡-Colombia )
PPANMQMGR

Cola transmisiÃ³n
define qlocal(PCOLQMGR) USAGE(XMITQ)

Colas remotas
define qremote(IBS_PAN.INT.REQ) RQMNAME(PCOLQMGR) RNAME(IBS_PAN.INT.REQ) XMITQ(PCOLQMGR)
define qremote(INT.SWIFTPA.SWIFT.QL.RES) RQMNAME(PCOLQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.RES) XMITQ(PCOLQMGR)

Colas locales
define qlocal(INT.SWIFTPA.SWIFT.QL.REQ)
define qlocal(LTC_INT_IBSPA.QL.REQ) MAXDEPTH(100000)

Canal SVRCONN
define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

Canal Receive
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Colombia-Panama')

Canal Sender
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Panama-Colombia') XMITQ(PCOLQMGR) CONNAME('PBMDEAPMEB01(1414)')

Canal Cliente
define channel(SWIFT.SVRCONN) CHLTYPE(CLNTCONN) CONNAME('PBPAMTPMEB01(1414)') QMNAME(PPANQMGR) SSLCIPH(TRIPLE_DES_SHA_US) DESCR('Swift channel client')

PCOLQMGR

Cola transmisiÃ³n
define qlocal(PPANMQGR) USAGE(XMITQ)

Colas remotas
define qremote(INT.SWIFTPA.SWIFT.QL.REQ) RQMNAME(PPANQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.REQ) XMITQ(PPANQMGR)
define qremote(LTC_INT_IBSPA.QL.REQ) RQMNAME(PPANQMGR) RNAME(LTC_INT_IBSPA.QL.REQ) XMITQ(PPANQMGR)

Colas locales
define qlocal(IBS_PAN.INT.REQ)
define qlocal(INT.SWIFTPA.SWIFT.QL.RES)

Canal Receive
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Panama-Colombia')

Canal Sender
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Colombia-Panama') XMITQ(PPANQMGR) CONNAME('PBPAMTPMEB01(1414)')

Comandos Frecuentes WebSphere Message Broker

* Ruta de logs de Broker
/opk/IBM/mqsi ( Para Desarrollo y QA )
/var/mqm/errors ( Para ProducciÃ³n )

* Ruta de logs de cada Execution Group
/var/mqsi/components/BCOLQMGR_BROKER/<UUID>/ ( Donde para saber el valor del UUID ejecutan ps -fea | grep <Execution_Group> )
/var/mqsi/components/BCOLQMGR_BROKER/13d99063-3201-0000-0080-f92214f27c0a

* Administrar certificados
keytool -genkey -alias ibmwebspheremqcnxqqdes -keyalg RSA -sigalg SHA1withRSA -keysize 2048 -keystore /tmp/tmppcc.jks -v
keytool -certreq -alias ibmwebspheremqcnxqqdes -sigalg SHA1withRSA -file /tmp/ibmwebspheremqcnxqqdes.csr -keystore /tmp/tmppcc.jks -v
keytool -import -alias ibmwebspheremqcnxqqdes -file /home/jdaristi/Downloads/ibmwebspheremqcnxqqdes.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiarootca -file /home/jdaristi/Downloads/bancolombiarootca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiapolicynetca -file /home/jdaristi/Downloads/bancolombiapolicynetca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiaissuing1ca -file /home/jdaristi/Downloads/bancolombiaissuing1ca.cer -keystore /tmp/tmppcc.jks -v

* ConfiguraciÃ³n de una conexiÃ³n JDBC Oracle
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o ORACLE_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"
* ConfiguraciÃ³n de una conexiÃ³n JDBC DB2
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,connectionUrlFormatAttr1,databaseName,databaseType,jarsURL,portNumber,securityIdentity,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1],EQUIVDDB,EQUIVDDB,Oracle,/home/wasencio/jars/oracle,1521,SI_PEQUIV,10.4.33.26,oracle.jdbc.xa.client.OracleXADataSource,oracle.jdbc.OracleDriver"
* ConfiguraciÃ³n de una conexiÃ³n ODBC
Editar el archivo odbc.ini. En la variable $ODBCINI se encuentra la ruta completa del archivo.
* ConfiguraciÃ³n de una conexiÃ³n SFTP
mqsicreateconfigurableservice BCOLQMGR_BROKER -c FtpServer -o ftpSENTRANSACCIONAL -n accountInfo,protocol,scanDelay,securityIdentity,serverName -v usersftp,SFTP,120,secIdFtpSENTRANSACCIONAL,172.30.224.194:10022

* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::ICRSecurityIdentity -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::SI_PEQUIV -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso ODBC
mqsisetdbparms BCOLQMGR_BROKER -n MRXINHOUSE -u CNXBRKVAR -p *****
* Configurar el usuario y clave para un recurso SFTP ( Correspondiente al ejemplo anterior )
mqsisetdbparms PCOLQMGR_BROKER -n sftp::secIdFtpBancolombia -u CNXCUSEB -p *****

* Revisar propiedades de configuraciÃ³n:

mqsireportproperties BCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c FtpServer -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c ServiceRegistries -o AllReportableEntityNames -r

* Revisar configuraciÃ³n de almacenes de certificados
mqsireportproperties BCOLQMGR_BROKER -o BrokerRegistry -r

* Revisar configuraciÃ³n del HTTPListener
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPListener -a

* Revisar configuraciÃ³n del HTTPSConector
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPSConnector -a

* Revisar configuraciÃ³n del HTTPConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPConnector -r

* Revisar configuraciÃ³n del HTTPSConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPSConnector -r

* Activar estadisticas y monitoreos, esto es lo mÃ¡s complejo pero mÃ¡s efectivo para realizar una revisiÃ³n sobre algun flujo

- Se crean las siguientes colas para estadisticas
define qlocal(STATS.Servicio.WhoIsWhoCRMFlow)
define qlocal(STATS.parametrizador.ia.AI_PEQFlow)
define qlocal(STATS.icr.IA_ICRFlow)
define qlocal(STATS.listaDeControl.standar.MQListaDeControl)

- Se crean las siguientes subscripciones para recolectar estadisticas
define sub(SUB.STATS.Servicio.WhoIsWhoCRMFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/Servicio.WhoIsWhoCRMFlow') DEST(STATS.Servicio.WhoIsWhoCRMFlow)
define sub(SUB.STATS.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ALL_COMMON/parametrizador.ia.AI_PEQFlow') DEST(STATS.parametrizador.ia.AI_PEQFlow)
define sub(SUB.STATS.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ICR/icr.IA_ICRFlow') DEST(STATS.icr.IA_ICRFlow)
define sub(SUB.STATS.listaDeControl.standar.MQListaDeControl) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/listaDeControl.standar.MQListaDeControl') DEST(STATS.listaDeControl.standar.MQListaDeControl)

- Se activan las estadisticas
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f Servicio.WhoIsWhoCRMFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f listaDeControl.standar.MQListaDeControl -a -n advanced -o xml -c inactive

- Se crean las siguientes colas para monitoreo
define qlocal(MON.parametrizador.ia.AI_PEQFlow)
define qlocal(MON.icr.IA_ICRFlow)

- Se crean las siguientes subscripciones para recolectar monitoreo
define sub(SUB.MON.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ALL_COMMON/parametrizador.ia.AI_PEQFlow') dest(MON.parametrizador.ia.AI_PEQFlow)
define sub(SUB.MON.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ICR/icr.IA_ICRFlow') dest(MON.icr.IA_ICRFlow)

- Se crean los siguientes servicios configurables para generar perfiles de monitoreo
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR

- Se exportan los perfiles de monitoreo desde desarrollo
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f parametrizador.ia.AI_PEQFlow -x -p /tmp/monitoreo_AI_PEQ.xml
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f icr.IA_ICRFlow -x -p /tmp/monitoreo_AI_ICR.xml

- Se importan los perfles de monitoreo en producciÃ³n
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ -n profileProperties -p /tmp/monitoreo_AI_PEQ.xml
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR -n profileProperties -p /tmp/monitoreo_AI_ICR.xml

- Se asocian los perfiles de monitoreo al flujo
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -m AI_PEQ
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -m AI_ICR

- Se activan los monitoreos
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -c inactive
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -c inactive

* Extraer mensajes de las colas sin borrar el mensaje
q -m PCOLQMGR -i INT_PEQ_INT.QL.RES
* Extraer mensajes de las colas borrando el mensaje
q -m PCOLQMGR -I INT_PEQ_INT.QL.RES
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -o INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -O INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt

2019-11-06 20:28:02,053 - INFO - Indexing file: PTR_continuidad_banismo_v2.docx
2019-11-06 20:28:02,078 - DEBUG - ---

2019-11-06 20:28:02,083 - DEBUG - ---

2019-11-06 20:28:02,084 - DEBUG - ---

2019-11-06 20:28:02,087 - DEBUG - ---

2019-11-06 20:28:02,088 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:28:02,089 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:28:02,092 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:28:02,093 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:28:02,094 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:28:02,095 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:28:02,096 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:28:02,097 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20 - SBBANBCE07v
2019-11-06 20:28:02,098 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21 - SBBANBCE08v
2019-11-06 20:28:02,099 - DEBUG - ---INFORMACIÓN SERVIDORES DE APLICACIONES (APLICACIÓN CEI)
2019-11-06 20:28:02,100 - DEBUG - ---<MáquinaAppServerBanistmoCEI>: Corresponde a la IP o nombre de la máquina APP Server donde esta alojada la aplicación CEI de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:28:02,101 - DEBUG - ---<MáquinaAppServerBanistmo[1]> = 10.5.134.68 - SBBANBCE01v
2019-11-06 20:28:02,101 - DEBUG - ---<MáquinaAppServerBanistmo[2]> = 10.5.134.69 - SBBANBCE02v
2019-11-06 20:28:02,103 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:28:02,103 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:28:02,104 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:28:02,105 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:28:02,107 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:28:02,109 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:28:02,109 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:28:02,110 - DEBUG - ---<NombreCanal> = PPAA.PDBDMF01
2019-11-06 20:28:02,112 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:28:02,113 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:28:02,114 - DEBUG - ---COMANDOS BAJAR HTTPSERVERS (IHS)
2019-11-06 20:28:02,115 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.20 HOSTNAME SBBANBCE07v
2019-11-06 20:28:02,116 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:02,117 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:28:02,118 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:28:02,119 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:02,120 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:28:02,122 - DEBUG - ---BAJAR APP SERVERS (CEI) PARA BANISTMO
2019-11-06 20:28:02,124 - DEBUG - ---El procedimiento para detener e iniciar los servidores de aplicaciones donde esta alojada la aplicación CEI  de Banistmo   es el siguiente (en el orden indicado):
2019-11-06 20:28:02,125 - DEBUG - ---COMANDOS APP SERVERS (CEI)
2019-11-06 20:28:02,126 - DEBUG - ---CONECTAR APP SERVER DE BANISTMO 10.5.134.68 HOSTNAME SBBANBCE01v
2019-11-06 20:28:02,127 - DEBUG - ---Conectarse a la máquina 10.5.134.68 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:02,129 - DEBUG - ---3.1.2 CONECTAR APP SERVER DE BANISTMO 10.5.134.69 HOSTNAME SBBANBCE02v
2019-11-06 20:28:02,130 - DEBUG - ---	
2019-11-06 20:28:02,132 - DEBUG - ---3.SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:28:02,133 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:28:02,134 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:28:02,135 - DEBUG - ---CONECTAR A GESTOR DE COLAS 10.5.132.12 HOSTNAME SBBANBLMQ01V
2019-11-06 20:28:02,135 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:28:02,136 - DEBUG - ---Aplicar 
2019-11-06 20:28:02,137 - DEBUG - ---sudo su - mqm
2019-11-06 20:28:02,137 - DEBUG - ---	
2019-11-06 20:28:02,139 - INFO - Indexing file: PTR_continuidad_banismo(1).docx
2019-11-06 20:28:02,159 - DEBUG - ---

2019-11-06 20:28:02,165 - DEBUG - ---

2019-11-06 20:28:02,166 - DEBUG - ---

2019-11-06 20:28:02,169 - DEBUG - ---

2019-11-06 20:28:02,179 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:28:02,180 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:28:02,182 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:28:02,184 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:28:02,185 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:28:02,186 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:28:02,188 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:28:02,189 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20
2019-11-06 20:28:02,190 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21
2019-11-06 20:28:02,191 - DEBUG - ---<NombreWebServer>: Nombre del web server.
2019-11-06 20:28:02,192 - DEBUG - ---<NombreWebServer[1]> = server1
2019-11-06 20:28:02,193 - DEBUG - ---<NombreWebServer[2]> = server1
2019-11-06 20:28:02,194 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:28:02,195 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:28:02,195 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:28:02,196 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:28:02,197 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:28:02,198 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:28:02,199 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:28:02,200 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:28:02,201 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:28:02,202 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:28:02,203 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.134.20 HOSTNAME SBBANBCE07v
2019-11-06 20:28:02,204 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:02,205 - DEBUG - ---BAJAR WEB SERVER WebServer1
2019-11-06 20:28:02,209 - DEBUG - ---          Ubicarse en la ruta   /opt/IBM/HTTPServer/bin
2019-11-06 20:28:02,212 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:28:02,214 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:02,215 - DEBUG - ---BAJAR WEB SERVER WEBSERVER1
2019-11-06 20:28:02,216 - DEBUG - ---Ubicarse en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:28:02,219 - DEBUG - ---SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:28:02,220 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:28:02,222 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:28:02,226 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:28:02,227 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:28:02,229 - INFO - Indexing file: TIPS-BROKER-MQ.txt
2019-11-06 20:28:02,230 - DEBUG - ---************************************************* Listar broker y puertos
 **************************************************
sdurier@pbmdeadmeb01(/home/sdurier)# ps -fea | grep runmqlsr

************************************************* Permisos sudo **************************************************

Cuando fallen los permisos sobre "su" se debe ejecutar la shell (sudo sh "su - mqm") por ejemplo

********************************************* ConfiguraciÃ³n Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n endpointAddress -v https://serviceregistry.bancolombia.corp/WSRR8_0/services/WSRRCoreSDOPort

******************************************** Verificacion Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsireportproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -r

********************************************* Repisado usuario registry ****************************************

mqsisetdbparms PBANQMGR_BROKER -n DefaultWSRR::WSRR -u CNXWPBBA

*********************************************Configuracion needCache ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n needCache -v false 

*********************************************Version Broker ****************************************
PBMDEADMEB01[mqsi7tes]/opk/IBM/mqsi/7.0/bin>mqsiservice -v


mqsiservice -v

*********************************************reiniciar grupo de ejecucion ****************************************

mqsistopmsgflow CPANQMGR -e FINACLE_SWIFT

mqsistopmsgflow -p 1414 -q PPANQMGR -b PPANQMGR_BROKER -e GD_COMMON


******************************************** Matar y reiniciar GE hilos grupos de ejecucion GE *********************************

mqsireload CPANQMGR_BROKER -e GEIAM_H01


******************************************** Refrescar seguridad MQ SSL *************************************

Paso 1: runmqsc CPANQMGR
Paso 2: REFRESH SECURITY TYPE(SSL)
esperas que termine y listo
si no funciona.. toca reiniciar el gestor de colas

******************************************** Usuarios MQ y Broker *********************************************

mqm/mqmb4nc0*
mqsiadm/mqsib4nc0*

********************************** Revisar un datasource de tipo ODBC ***************************************

mqsicvp CCOLQMGR_BROKER -n INDOCQDB

********************************* Reinciar Broker y el gestor *************************************************

mqsistop CPANQMGR_BROKER  -----  Con el usuario mqsiadm6
mqsistop CPANQMGR_CONFIG  -----  Con el usuario mqsiadm6
endmqm CPANQMGR ------  Con el usuario mqm


strmqm CPANQMGR  ------  Con el usuario mqm
mqsistart CPANQMGR_CONFIG -----  Con el usuario mqsiadm6
mqsistart CPANQMGR_BROKER -----  Con el usuario mqsiadm6


dspmq - Para verificar el estado del gestor (mqm)
mqsilist NOMBRE_BROKER (Esto debe listar todos los grupos de ejecuciÃ³n del broker con un nÃºmero de proceso por cada grupo)
ps -fe | grep bipbroker (Con esto lista todos los Broker)
ps -fea | grep lsr (Con esto lista usuario MQ)


***************************************** Inhibir y desinhibir colas *****************************************

dentro de la consola de comandos de MQ
runmqsc PPANQMGR
alter qlocal(INT_IAFINACLE_INT.QL.REQ) get(ENABLED) put(ENABLED)
alter qlocal(LA_COLA) get(ENABLED) put(ENABLED)

ALTER QLOCAL (IAM_CUSTOMERRESPONSE_INT.QL.RES) GET(ENABLED) PUT(ENABLED)


************************************** Permisos gestor y colas *********************************************

Permisos gestor

setmqaut -m BCOLQMGR -t qmgr -g grxqqswf +setall +setid +connect +inq +set

Validar Permisos Qmanager
estot
dspmqaut -m CCOLQMGR -t qmgr -g grxqqswf

Permisos colas

setmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb +inq +put +set


Validar Permisos Colas
dspmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb


Permisos Topicos

setmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Exception" -t topic q -g mqdpcnxd +setid +pub +sub

Validar Permisos Topicos

dspmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Info" -t top -g mqdpcnxd

****************************************** inyectar mensajes por consola ********************************
Usuario mqm

q -m CCOLQMGR -o INT_PEPSYS2CLS_INT.QL.CFG âF /tmp/INT_PEPSYS2CLS_INT.QL.CFG.txt

***************************************** Ver el consume de memoria de un proceso ***************************************

svmon -P 19923018 -O summary=basic,unit=MB

********************************** ruta donde estÃ¡ el log de java de un grupo de ejecuciÃ³n ********************************************

/var/mqsi/components/nombre-broker/+ codigo del GE 

PBMDEAPMEB01[sdurier]/home/sdurier>ps -fea | grep GEINT_H04
 mqsiadm 17563772  9633996   0 21:32:08      -  0:00 /bin/ksh /opk/IBM/mqsi/7.0/bin/startDataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 mqsiadm 19071054 17563772   1 21:32:08      - 90:44 DataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 sdurier 26607618 24838288   0 11:08:19 pts/12  0:00 grep GEINT_H04


/var/mqsi/components/nombre-broker8aec7593-3c01-0000-0080-8f3c80cf8deb


********************************** comrprimir el log de java de un grupo de ejecuciÃ³n ********************************************


tar cvf - stderr stdout  | gzip -c > /tmp/logs.tar.gz

******************************************* Ver los 10 procesos de mayor consumo ************************************************

ps auxw | sort -r +3 |head -10

******************************************* Creacion Colas .def **********************************************************************

runmqsc CCOLQMGR < QM-SAT25.def > QM-SAT25.def.txt

echo "define qlocal (SVE_NEGDIVISAS_INT.QL.RES)" | runmqsc CCOLQMGR
DEFINE QLOCAL (INT_TODO0062ERU_INT.QL.REQ)
DEFINE QALIAS(PCCALERENV) TARGQ(PCC_ALERTAS_ENVIADAS.QL.REQ) DESCR('Cola alias de la colaÂ  PCC_ALERTAS_ENVIADAS.QL.REQ') 

******************************************** Extraer y Eliminar una cantidad especifica de mensajes en una cola ***********************************

q -m PCOLQMGR -I INT_SINCCLIENTE_FIN.QL.REQ -L19 > /tmp/INT_SINCCLIENTE_FIN.QL.REQ1.txt (-L19 Cantidad a borrar)

**************************************** Extraer mensajes *****************************************************************

q -m PCOLQMGR -I GAF_INFOCIFIN.QL.RES > /tmp/GAF_INFOCIFIN.QL.RES.txt (Eliminando mensajes)


****************************************** Extraer de mensajes de una cola con encabezado *************************************************

q -m CBANQMGR -i FIN_OUTMENSAJEBAN_SWI.QL.ERR -dd3 > /tmp/FIN_OUTMENSAJEBAN_SWI.QL.ERR.txt  (Dejando copia)
donde MQ es el gestor, y Q el nombre de la cola

****************************************** Extraer de mensajes de una cola por mensaje (individual) *************************************************

/var/mqm/qload âm QMGR âi COLA âf /tmp/MENSAJES/mensaje%n.txt

/var/mqm/qload âm PBANQMGR âi FIN_OUTMENSAJEBAN_SWI.QL.ERR âf /tmp/MENSAJES/mensaje%n.txt

Extraer mensajes para reinyecciÃ³n posterior
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO%n
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO


********************************************* Copiar o mover mensajes entre Colas ******************************************************************

Move messages between Queues : q -m QueueManager -IQ1 -oQ2
Copy messages between Queues : q -m QueueManager -iQ1 -oQ2

q -m PPANQMGR -iFIN_FINACLE_INTEGR_SWIFTPA_QL_ERR -oFIN_OUTMENSAJEPA_SWI.QL.RES

******************************************** Conocer el puerto de un broker *****************************************************************************

ps -fea | grep runmqlsr

******************************************  Sobreescribir una variable en un .bar ***********************************************************

mqsiapplybaroverride -b archivo.bar -m "Variable=Valor"

mqsiapplybaroverride -b TOD0052_SCT.bar -m "Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS" 

TambiÃ©n se puede sobrescribir una variable a partir de un archivo

En el archivo solo escribe 

Variable=Valor
Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS

Se guarda el archivo con extensiÃ³n .properties

Y luego en consola se ingresa el siguiente comando

mqsiapplybaroverride -b archivo.bar -p archivo.properties

mqsiapplybaroverride -b CM_HUB-RecuperarCliente_SC.bar -p CM_HUB-RecuperarCliente_SC.properties

Para generar un nuevo bar con los valores que se sobre escribieron.

mqsiapplybaroverride -b SAT99_RecaudoTarjetaCredito.bar -p CM_HUB-RecuperarCliente_SC.properties -o SAT99_RecaudoTarjetaCredito_QA.bar

*************************************** Desplegar un .bar *****************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e ALL_COMMONS -a TODO1ConsumerAdapter.bar


**************************************** Desinstalar un flujo **************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e CRM_SINCFE_GEN -d com.bancolombia.client.CopyOriginalMsg_Agg.cmf

**************************************** Validar propiedades de un flujo **************************************************


mqsilist CPANQMGR_BROKER -e GEINT_M02 -r -d2 

**************************************** Habilitar eventos monitoreo ********************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "ErrorAdapterV2.0.terminal.in" -i enable

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "LoggingAdapterV2.0.terminal.in" -i enable


***************************************** Activar monitoreo en flujos ******************************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -c active

******************************************* Activar y desactivar estadisticas GE **************************************

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c active -o xml -n basic

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c inactive -o xml -n basic


**************************************** Creacion grupo ejecucion *************************************************

mqsicreateexecutiongroup CPANQMGR_BROKER -e GEINT_H02

*************************************** Reiniciar Flujos ************************************************************

mqsistopmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

mqsistartmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

****************************************** Ingreso password datasource (repisar) ***************************************

mqsisetdbparms broker -n Nombre del Datasource -u Usuario

mqsisetdbparms PPANQMGR_BROKER -n INDOCPDB -u CATALOGO

******************************************* Ingreso password SFTP *************************************************

mqsisetdbparms broker -n sftp:nombre de la conexiÃ³n SFTP -u usuario 

mqsisetdbparms CCOLQMGR_BROKER -n sftp::secIdFtpSenTrans -u usersftp -p Azsx.4123

********************************************** Ruta - Revision Datasources creados y SFTP *************************************

/var/mqsi/registry/CPANQMGR_BROKER/CurrentVersion/DSN

RUTA PARA VERIFICAR LOS ODBC EXISTENTES

 /odbc64.ini Ruta para verificar los ODBC existentes

 Para ver que .ini se esta utilizando echo $ODBCINI
 
 vi /home/mqsiadm/odbc64.ini
 
*********************************************** Reporte general de Configuracion Broker ******************************************

mqsireportproperties CPANQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r


*************************************************** Verificar el config Manager ************************************************

ps -fea | grep PPANQMGR_CONF

*********************************** INFORME DE PUERTO HTTP O HTTPS Y WEBSERVICES PERTENECIENTES A UN GRUPO DE EJECUCIÃN*********************************

Puerto HTTPS

mqsireportproperties BCOLQMGR2_BROKER -e Adaptadores -o HTTPConnector -r
mqsireportproperties CPANQMGR_BROKER -b httplistener -o HTTPSListener -a 

Puerto HTTP

mqsireportproperties PCOLQMGR_BROKER -e SAP_ERP_PROVEEDORES -o HTTPSConnector -r
mqsireportproperties PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -o HTTPSConnector -r
mqsireportproperties CPANQMGR_BROKER -e FINACLE_CRM -o HTTPSConnector -r

************************************************ PUERTOS HTTP Y HTTPS PARA CADA BROKER ***********************************************

mqsireportproperties BCOLQMGR2_BROKER -b httplistener -o HTTPConnector -a

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPListener -n enableSSLConnector -v true

mqsireportproperties CPANQMGR_BROKER -b httplistener -o AllReportableEntityNames -a 

**************************************************ASIGNACIÃN DE PUERTO ***************************************************************

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPSConnector -n port -v 7480 


**************************************************** LOG DE ERRORES *****************************************************************

var/mqm/errors/user.log 
/opk/IBM/mqsi/user.log PPANQMGR
/var/mqsi/common/log
var/mqm/qmgrs/BCOLQMGR2/errors


************************************************** Creacion canal *********************************************************

define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

****************************************************** CREACIÃN DE UN JDBC *******************************************************

mqsicreateconfigurableservice BCOLQMGR3_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"

mqsisetdbparms PPANQMGR_BROKER -n jdbc::HUBOPE_SecurityIdentity -u CNXBRKOPEFE

UBOPE_DS 
    connectionUrlFormat='jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1]'
    connectionUrlFormatAttr1='OPEFEQDB'
    connectionUrlFormatAttr2=''
    connectionUrlFormatAttr3=''
    connectionUrlFormatAttr4=''
    connectionUrlFormatAttr5=''
    databaseName='OPEFEQDB'
    databaseType='Oracle'
    databaseVersion='default_Database_Version'
    description='default_Description'
    environmentParms='default_none'
    jarsURL='/opk/mqsiadm/drivers/oracle'
    portNumber='1523'
    securityIdentity='HUBOPE_SecurityIdentity'
    serverName='PBMDEAQHUB01'
    type4DatasourceClassName='oracle.jdbc.xa.client.OracleXADataSource'
    type4DriverClassName='oracle.jdbc.OracleDriver'



****************************************************** CAMBIAR PROPIEDADES DE UN JDBC ****************************************************

mqsichangeproperties BCOLQMGR_BROKER -c JDBCProviders -o DS_TRACING -n databaseName -v TRACEDDB

-n --NombrePropiedad-- -v --ValorPropiedad- -o NombreJDBC

****************************************************** LISTAR TODOS LOS JDBC ****************************************************

mqsireportproperties PCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r 

************************************************** ExtracciÃ³n de Certificados ******************************************************************

keytool -export -keystore BrokerKeystore.jks -alias brokerdesarrollo -file Cert_Desarrollo.cert


display channel(MUREX.SVRCONN) all


***************************************************** OBTENCIÃN DE CERTIFICADOS MQ ******************************************************************

gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary>

gsk7cmd -cert -extract -db key_pcolqmgr.kdb -pw key_pcolqmgr -type cms -label ibmwebspheremqpcolqmgr -target /tmp/cert_pcolqmgr.arm -format ascii


***************************************************** Certificados *****************************************************************
gsk7cmd -cert -add -db BCOLQMGR2.kdb -pw BCOLQMGR2 -label ibmwebspheremqcnxqdmpt -format ascii -trust enable -file /tmp/ibmwebspheremqcnxqdmpt.cer (Cuando envian un certificado y deseo agregarlo a mi truestore en el caso de mq keystore, usuario externeo ejemplo ibmwebspheremqcnxqdmpt)

gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename> (Cuando es un certificado personal, por lo Gral es add (Punto 1))


gsk7cmd -cert -list personal -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert personales)
gsk7cmd -cert -list all -db BCOLQMGR2.kdb -pw BCOLQMGR2 -type cms


gsk7cmd -cert -extract -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms -label ibmwebspheremqccolqmg2 -target /tmp/ibmwebspheremqccolqmg2.cer -format ascii 


gsk7cmd -cert -list CA -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert firmantes)


**************************************************** para validar recursos en broker SMTP ******************************************************

mqsireportproperties CCOLQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r

para modificar un recurso en broker SMTP

mqsichangeproperties CCOLQMGR_BROKER -c SMTP -o BancolombiaSMTPService -n serverName -v Exchange.bancolombia.corp


**************************************************** Limpiar un log **************************************************

> user.log

**************************************************** Hacer un cambio a una propiedad *******************************************

mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsichangeproperties PPANQMGR_BROKER -c Aggregation -o HeaderESBXML_FINACLE -n timeoutSeconds -v 60
BIP8071I: Successful command completion.
mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsireportproperties PPANQMGR_BROKER -c Aggregation -o AllReportableEntityNames -r

Aggregation
  HeaderESBXML_FINACLE
    queuePrefix=''
    timeoutSeconds='60'
  IntAdap_Aggregate
    queuePrefix=''
    timeoutSeconds='20'

BIP8071I: Successful command completion.

******************************************************* Cambiar el numero de instancias en un flujo **********************************

1. Hacer un mqsireadbar al .bar y sacarlo a un .txt
2. En el archivo buscar el parametro por ejm (IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances)
3. a este parametro se le hace un mqsiapplybaroverride igualandolo al valor que indiquen ejm (mqsiapplybaroverride -b IA_FINACLE.bar -m "IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances=4")
4. desplegamos el bar y verificamos en la evidencia.

::::::::::::::::::::::::::::::::::

5.
Canales
--------------------------------------------------------------------------------------------------------------------------------
(listar las conexiones de un canal y su estado)
echo "display chstatus(NOMBRE_CANAL) status" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(OPTIONAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit y SSL)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(REQUIRED) sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)')" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente con SSL)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)') sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER
/var/mqm/qmgrs/[QUEUE_MANAGER]/@ipcc

(eliminar canal SVRCONN y CLNTCONN)
echo "delete channel(NOMBRE_CANAL)" | runmqsc PPANQMGR
echo "delete channel(NOMBRE_CANAL) CHLTABLE(CLNTTBL)" | runmqsc PPANQMGR

(detener/iniciar un canal)
echo "stop chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "start chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(refrescar canal)
echo "refresh qmgr type(CONFIGEV) name(NOMBRE_CANAL) object(CHANNEL)" | runmqsc NOMBRE_QUEUE_MANAGER

(inactivar un canal de manera controlada y de manera forzada, respectivamente)
echo "stop chl(NOMBRE_CANAL) mode(quiesce) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "stop chl(NOMBRE_CANAL) mode(force) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER





Activar
mqsichangetrace PCOLQMGR_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l debug -r -c 1048576


Desactivar
mqsichangetrace NOMBRE_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l none  



Convertir log                              
mqsireadlog NOMBRE_BROKER -u -e GETES_M01 -o log.xml
mqsiformatlog -i log.xml -o log_flujo.log 


********************************* mirar la dead letter queue de un gestor **************************************

mqm@pbmdeaqprs01(/var/mqm)# runmqsc CPANQMGR
5724-H72 (C) Copyright IBM Corp. 1994, 2009.  ALL RIGHTS RESERVED.
Starting MQSC for queue manager CPANQMGR.


dis qmgr all
     1 : dis qmgr all
AMQ8408: Display Queue Manager details.
   QMNAME(CPANQMGR)                        ACCTCONO(DISABLED)
   ACCTINT(1800)                           ACCTMQI(OFF)
   ACCTQ(OFF)                              ACTIVREC(MSG)
   ALTDATE(2013-05-23)                     ALTTIME(14.35.39)
   AUTHOREV(ENABLED)                       CCSID(819)
   CHAD(DISABLED)                          CHADEV(DISABLED)
   CHADEXIT( )                             CHLEV(ENABLED)
   CLWLDATA( )                             CLWLEXIT( )
   CLWLLEN(100)                            CLWLMRUC(999999999)
   CLWLUSEQ(LOCAL)                         CMDEV(ENABLED)
   CMDLEVEL(701)                           COMMANDQ(SYSTEM.ADMIN.COMMAND.QUEUE)
   CONFIGEV(ENABLED)                       CRDATE(2013-03-08)
   CRTIME(11.09.26)                        DEADQ(CPANQMGR.DEAD.LETTER.QUEUE)
   DEFXMITQ( )                             DESCR( )
   DISTL(YES)                              INHIBTEV(DISABLED)
   IPADDRV(IPV4)                           LOCALEV(DISABLED)
   LOGGEREV(DISABLED)                      MARKINT(5000)
   MAXHANDS(256)                           MAXMSGL(104857600)
   MAXPROPL(NOLIMIT)                       MAXPRTY(9)
   MAXUMSGS(10000)                         MONACLS(QMGR)
   MONCHL(OFF)                             MONQ(OFF)
   PARENT( )                               PERFMEV(ENABLED)
   PLATFORM(UNIX)                          PSRTYCNT(5)
   PSNPMSG(DISCARD)                        PSNPRES(NORMAL)
   PSSYNCPT(IFPER)                         QMID(CPANQMGR_2013-03-08_11.09.26)
   PSMODE(ENABLED)                         REMOTEEV(DISABLED)
   REPOS( )                                REPOSNL( )
   ROUTEREC(MSG)                           SCHINIT(QMGR)
   SCMDSERV(QMGR)                          SSLCRLNL( )
   SSLCRYP( )                              SSLEV(ENABLED)
   SSLFIPS(NO)
   SSLKEYR(/var/mqm/qmgrs/CPANQMGR/ssl/key_cpanqmgr)
   SSLRKEYC(0)                             STATACLS(QMGR)
   STATCHL(OFF)                            STATINT(1800)
   STATMQI(OFF)                            STATQ(OFF)
   STRSTPEV(ENABLED)                       SYNCPT
   TREELIFE(1800)                          TRIGINT(999999999)


*********Determinar nÃºmero de mensajes en la cola, y si aÃºn no han sido aplicados (COMMIT) *********

DISPLAY QSTATUS(REC_QRINOTCLI_RIN.QL.REQ) CURDEPTH UNCOM
DISPLAY QSTATUS(REC_QRINUNE_RIN.QL.REQ) CURDEPTH UNCOM

********************* Crear grupo de ejecucion ************************++

mqsicreateexecutiongroup CCOLQMGR_BROKER -e GE_GEN_01

************************* Activar monitoreo de flujos ******************+

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "ErrorAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoError_flujo.txt

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "LoggingAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoLogin_flujo.txt
2019-11-06 20:28:02,249 - INFO - Indexing file: Reinicio de Intermedia.docx
2019-11-06 20:28:02,262 - DEBUG - ---Reinicio de Intermedia
2019-11-06 20:28:02,263 - DEBUG - ---A continuación se detallará el paso a paso para reiniciar Intermedia.
2019-11-06 20:28:02,264 - DEBUG - ---Ubicarse en la consola de servicios de Windows.  Se puede ingresar por Panel de Control -> Herramientas Administrativas -> Servicios (como se ve en la imagen de abajo).
2019-11-06 20:28:02,265 - DEBUG - ---También se puede ingresar digitando en la ventana Ejecutar (Run) “services.msc” (como se ve en la imagen de abajo):
2019-11-06 20:28:02,267 - DEBUG - ---Luego, ubicarse en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “stop”:
2019-11-06 20:28:02,268 - DEBUG - ---En la ventana que aparece a continuación “Stop Other Services”, dar clic en el botón “Yes”.
2019-11-06 20:28:02,269 - DEBUG - ---Los servicios “beasvc valores_domain_IntermediaServer” y “beasvc valores_domain_ReportesIntServer” deben estar detenidos:
2019-11-06 20:28:02,270 - DEBUG - ---Luego, estando ubicado en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “Start”
2019-11-06 20:28:02,272 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:28:02,274 - DEBUG - ---El servicio “beasvc valores_domain_IntermediaServer” debe aparecer en estado Started.
2019-11-06 20:28:02,276 - DEBUG - ---Luego, iniciar el servicio “beasvc valores_domain_ReportesIntServer”, dando clic derecho sobre él y seleccionar “Start”:
2019-11-06 20:28:02,277 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:28:02,278 - DEBUG - ---El servicio “beasvc valores_domain_ReportesIntServer”, debe aparecer en estado Started.
2019-11-06 20:28:02,279 - INFO - Indexing file: PTR_ACT - LDAP - Subir servicios WAS sbbanbld01v .docx
2019-11-06 20:28:02,307 - DEBUG - ---

2019-11-06 20:28:02,309 - DEBUG - ---Control de Versiones
2019-11-06 20:28:02,311 - DEBUG - ---

2019-11-06 20:28:02,312 - DEBUG - ---Nombre del PTR
2019-11-06 20:28:02,314 - DEBUG - ---Consideraciones previas
2019-11-06 20:28:02,315 - DEBUG - ---Validar que el área de trabajo sea el DR utilizando el comando uptime:
2019-11-06 20:28:02,317 - DEBUG - ---Para las pruebas en el DR es posible que la dirección IP del controlador de dominio destinado sea diferente al configurado en WAS por lo que es necesario en primer lugar validar dicha configuración. Si se da este caso entonces es necesario proceder a actualizar la configuración de la celda WAS para que apunte al nuevo servidor. Después de realizar este cambio es necesario reiniciar la celda completa. De igual  manera proceder a ingresar por la consola web de WAS para validar que la autenticación se exitosa.
2019-11-06 20:28:02,319 - DEBUG - ---Ingresar al archivo LDAP_DMGR/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:28:02,323 - DEBUG - ---Ingresar al archivo LDAP_AppSrv01/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:28:02,325 - DEBUG - ---Validar en la celda que servidores de aplicación se encuentran iniciados. Para esto es necesario ingresar a la consola WEB y validar el estado de los Appserver.
2019-11-06 20:28:02,327 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:28:02,328 - DEBUG - ---También se puede realizar esta validación ingresando por una sesión SSH y validar los proceso java que se estén ejecutando en el servidor.
2019-11-06 20:28:02,329 - DEBUG - ---Para esto es necesario ingresar a los dos servidores donde se encuentra LDAP y validar que el dmgr, node y AppeServer se encuentran en estado de ejecución. 
2019-11-06 20:28:02,331 - DEBUG - ---SBBANBLD01v
2019-11-06 20:28:02,333 - DEBUG - ---SBBANBLD02v
2019-11-06 20:28:02,334 - DEBUG - ---Por último es necesario validar que la Shell que inicia y detiene servicios se encuentre en el home del usuario de servicio de WAS. Esto lo encontramos en la siguiente ruta.
2019-11-06 20:28:02,336 - DEBUG - ---wassvc01@SBBANBLD01v:~>
2019-11-06 20:28:02,337 - DEBUG - ---wassvc01@SBBANBLD02v:~>
2019-11-06 20:28:02,341 - DEBUG - ---Descripción de las actividades
2019-11-06 20:28:02,342 - DEBUG - ---Detener servicios del LDAP en WAS
2019-11-06 20:28:02,343 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:28:02,344 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:02,345 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:28:02,346 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:02,349 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:28:02,351 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:02,352 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:28:02,353 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:02,360 - DEBUG - ---Iniciar servicios del LDAP en WAS
2019-11-06 20:28:02,363 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:28:02,364 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:02,365 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:28:02,367 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:02,369 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:28:02,370 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:02,372 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:28:02,373 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:02,376 - DEBUG - ---Para finalizar se ingresa a la consola para validar que todo los servicios se encuentran en estado runin.
2019-11-06 20:28:02,379 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:28:02,381 - INFO - Indexing file: Bibliotecas Compartidas.docx
2019-11-06 20:28:02,392 - DEBUG - ---Bibliotecas Compartidas
2019-11-06 20:28:02,392 - DEBUG - ---Las bibliotecas compartidas permiten configurar los jar que serán usados por la aplicación. En el banco encontramos tres tipos de bibliotecas compartidas:
2019-11-06 20:28:02,393 - DEBUG - ---De uso común: Transversal a muchas aplicaciones. Hacen parte del framework de Bancolombia y están agrupadas por las tareas que ejecutan. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen. No se deben referenciar directorios. 
2019-11-06 20:28:02,394 - DEBUG - ---Bibliotecas de Uso Común
2019-11-06 20:28:02,395 - DEBUG - ---Biblioteca de Encripción
2019-11-06 20:28:02,395 - DEBUG - ---Bibliotecas de Transformación de Mensajería
2019-11-06 20:28:02,396 - DEBUG - ---Biblioteca Seguridad
2019-11-06 20:28:02,397 - DEBUG - ---Biblioteca Web Services
2019-11-06 20:28:02,397 - DEBUG - ---De framewors de terceros: En este caso se debe tener presente la versión referenciada en la biblioteca. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios.
2019-11-06 20:28:02,398 - DEBUG - ---Hibernate
2019-11-06 20:28:02,398 - DEBUG - ---Spring
2019-11-06 20:28:02,399 - DEBUG - ---De uso específico de la aplicación: También existen bibliotecas con jars específicos de la aplicación. Sin embargo, se aclara que en NINGÚN caso deben referenciar cualquiera de los siguientes jars: 
2019-11-06 20:28:02,399 - DEBUG - ---servlet.jar
2019-11-06 20:28:02,400 - DEBUG - ---jstl.jar
2019-11-06 20:28:02,400 - DEBUG - ---mail.jar
2019-11-06 20:28:02,401 - DEBUG - ---activation.jar
2019-11-06 20:28:02,401 - DEBUG - ---junit.jar
2019-11-06 20:28:02,402 - DEBUG - ---xercesImpl.jar
2019-11-06 20:28:02,402 - DEBUG - ---xml-apis.jar
2019-11-06 20:28:02,402 - DEBUG - ---el-api.jar
2019-11-06 20:28:02,403 - DEBUG - ---el-impl.jar
2019-11-06 20:28:02,403 - DEBUG - ---Su classpath es /wrkdirr/xxxdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios. Las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:28:02,404 - DEBUG - ---
Configuración del alcance (scope):
2019-11-06 20:28:02,404 - DEBUG - ---Al encontrarnos en una configuración Network Deployment tenemos la posibilidad de crear la biblioteca en los siguientes alcances:
2019-11-06 20:28:02,405 - DEBUG - ---Celda (Cell): Se debe seleccionar para las bibliotecas compartidas de uso común.
2019-11-06 20:28:02,407 - DEBUG - ---Grupo de servidores (Cluster): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en cluster.
2019-11-06 20:28:02,408 - DEBUG - ---Nodo (Node): No se debe usar.
2019-11-06 20:28:02,409 - DEBUG - ---Servidor (Server): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en un solo servidor de aplicaciones.
2019-11-06 20:28:02,410 - DEBUG - ---Excepciones: 
2019-11-06 20:28:02,411 - DEBUG - ---Si una aplicación desea referenciar un nuevo JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:28:02,412 - DEBUG - ---El JAR no afecta el correcto funcionamiento de las aplicaciones que actualmente usan dicha biblioteca compartida.
2019-11-06 20:28:02,413 - DEBUG - ---El JAR si es de uso común y no es especifico de la aplicación.
2019-11-06 20:28:02,414 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida solo con el (los) nuevos JAR’s, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:28:02,415 - DEBUG - ---Si una aplicación desea referenciar una versión diferente del JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:28:02,416 - DEBUG - ---¿Es una nueva versión? 
2019-11-06 20:28:02,417 - DEBUG - ---¿Es compatible con versiones anteriores, con el fin de no afectar aplicaciones que usen una versión anterior?
2019-11-06 20:28:02,417 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida con los JAR’s que usara la aplicación, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:28:02,418 - INFO - Indexing file: Archivos_Configuracion_y_Log.docx
2019-11-06 20:28:02,428 - DEBUG - ---Archivos de Configuración y Log
2019-11-06 20:28:02,429 - DEBUG - ---La idea es que el despliegue de las aplicaciones web se realice con base en un archivo de configuración inicial en formato XML. En este archivo se definen las propiedades que requiere el aplicativo de forma estática y que cambian de acuerdo al ambiente.
2019-11-06 20:28:02,430 - DEBUG - --- 
2019-11-06 20:28:02,430 - DEBUG - ---Propiedades como usuarios de conexión, passwords encriptados, rutas en el sistema de archivos, endpoints para acceder web services, nombres de librerías, nombres de dataqueues (en el caso de la plataforma ISeries), etc, deberán definirse en este archivo. El nombre de este XML de configuración, debe ser: xxx-conf.xml, donde las tres (3) X corresponden al nombre asignado al aplicativo. Ejemplos: tac-conf.xml, pcc-conf.xml, tmx-conf.xml, cae-conf.xml. 
2019-11-06 20:28:02,432 - DEBUG - ---Este archivo deberá ubicarse en una ruta creada para tal efecto y cuyo estándar es el siguiente: /wrkdir/xxxdir. Las tres (3) X corresponden a la sigla asignada al aplicativo. Como ejemplos tenemos: /wrkdirr/tacdirr, /wrkdirr/pccdirr, /wrkdirr/tmxdirr, /wrkdirr/caedirr. 
2019-11-06 20:28:02,433 - DEBUG - ---En este directorio se deben ubicar todos los componentes que hacen parte de la aplicación y que no hacen parte del EAR. Por ejemplo:
2019-11-06 20:28:02,434 - DEBUG - ---JAR’s propios de la aplicación.
2019-11-06 20:28:02,434 - DEBUG - ---Almacenes de certificados (KeyStore)
2019-11-06 20:28:02,435 - DEBUG - ---Archivos de configuración como el ya mencionado xxx-conf.xml
2019-11-06 20:28:02,435 - DEBUG - ---Para que la aplicación pueda acceder a estos archivos, la idea es crear una propiedad personalizada a nivel de la máquina virtual del servidor. El estándar para nombrar esta propiedad será: co.com.grporg.bancolombia.entappxxx.configfile, donde las tres (3) X corresponden a la sigla que identifica cada aplicativo. Dentro del archivo de configuración, debe hacerse referencia a una propiedad en la cual se parametriza la ruta en la que se localiza el archivo de configuración de log. Dicha propiedad en el ejemplo, se llama NombreArchivoLog. El estándar para el nombre de este archivo es xxx-log.xml, donde las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:28:02,436 - DEBUG - ---En este archivo se definen los niveles y tipos de archivo de log que debe generar el aplicativo. La idea es que se generen dos archivos: XXXInfo.log y XXXError.log. Nuevamente las tres (3) X corresponden a la sigla asignada al aplicativo. En el ejemplo tenemos TMXInfo.log y TMXError.log. Con ello, se previene que la aplicación escriba en la consola, práctica que debe ser erradicada en ambientes de producción. El insumo para estos archivos es la existencia de una ruta denominada /logdir/xxxdir. De nuevo, las tres (3) X identifican el aplicativo. Como ejemplo, tenemos /logdirr/tmxdirr.
2019-11-06 20:28:02,437 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-06 20:28:02,466 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:28:02,468 - DEBUG - ---Gerencia de infraestructura banistmo
2019-11-06 20:28:02,470 - DEBUG - ---SUCURSAL VIRTUAL PERSONAS 
2019-11-06 20:28:02,472 - DEBUG - ---BANISTMO
2019-11-06 20:28:02,472 - DEBUG - ---

2019-11-06 20:28:02,473 - DEBUG - ---Control del Documento
2019-11-06 20:28:02,476 - DEBUG - ---

2019-11-06 20:28:02,477 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:02,490 - DEBUG - ---

2019-11-06 20:28:02,491 - DEBUG - ---DIAGRAMA DE COMPONENTES DEL DISEÑO SEGÚN LA PLATAFORMA
2019-11-06 20:28:02,492 - DEBUG - ---Producción
2019-11-06 20:28:02,495 - DEBUG - ---

2019-11-06 20:28:02,498 - DEBUG - ---Diagrama E2E
2019-11-06 20:28:02,500 - DEBUG - ---DESCRIPCIÓN DETALLADA DE CADA COMPONENTE EN LA PLATAFORMA BANCO 
2019-11-06 20:28:02,501 - DEBUG - ---PRODUCCIÓN
2019-11-06 20:28:02,502 - DEBUG - ---SECURITY GATEWAY:
2019-11-06 20:28:02,503 - DEBUG - ---El aplicativo Security Gateway cumple el rol de mediador entre el Front-End y los sistemas externos Integrador (ESB), DetectID y Directorio Activo, ADM.
2019-11-06 20:28:02,504 - DEBUG - ---ADM:
2019-11-06 20:28:02,504 - DEBUG - ---Administración de Usuarios. 
2019-11-06 20:28:02,505 - DEBUG - ---Es la aplicación de administración de usuarios, se valida existencia del usuario que está ingresando a la SVP.
2019-11-06 20:28:02,507 - DEBUG - ---DETECT ID
2019-11-06 20:28:02,508 - DEBUG - ---Aplicación que centraliza parte de la seguridad de la nueva Sucursal Virtual Personas (Autenticación, pregunta y respuesta secreta, creación de usuario y contraseña, imagen etc.).
2019-11-06 20:28:02,510 - DEBUG - ---BUS DE INTEGRACION
2019-11-06 20:28:02,511 - DEBUG - ---INTERMEDIARIO
2019-11-06 20:28:02,513 - DEBUG - ---Servidor De Aplicaciones:
2019-11-06 20:28:02,513 - DEBUG - ---Es un producto de la suite de websphere, que está diseñado para soportar sitios web dinámicos, aplicaciones y servicios web. De carácter integrador y multiplataforma (middleware), presta servicios de conectividad de bases de datos, conexión entre diferentes ESB, entre otras funcionalidades a base de código java.
2019-11-06 20:28:02,515 - DEBUG - ---DESCRIPCIÓN DETALLADA DEL DISEÑO EN LA PLATAFORMA
2019-11-06 20:28:02,516 - DEBUG - ---SERVIDOR DE APLICACIONES:
2019-11-06 20:28:02,517 - DEBUG - ---PRODUCCION – UAT – DESARROLLO
2019-11-06 20:28:02,519 - DEBUG - ---Lista De Chequeo recomendado para diagnostico  
2019-11-06 20:28:02,520 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:02,521 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:28:02,523 - DEBUG - ---Ej: https://10.5.161.169:9043/admin
2019-11-06 20:28:02,525 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación y validar los logs del App Server systemerr y systemout
2019-11-06 20:28:02,527 - DEBUG - ---Comprobar el ‘estado de salud’ de la máquina. Lo más importante es identificar el consumo de memoria y disco.
2019-11-06 20:28:02,528 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones. 
2019-11-06 20:28:02,529 - DEBUG - ---Contingencia de Infraestructura  Asociadas al servicio
2019-11-06 20:28:02,530 - DEBUG - ---Los procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:02,531 - DEBUG - ---El servidor de aplicaciones se encuentra instalado en dos máquinas distintas (Power HA) de modo activo – activo. En las mismas maquinas también está instalado el WebServer y este debe permanecer con el esquema activo – pasivo y con este se determina cuál de las dos máquinas se encuentra atendiendo el servicio.
2019-11-06 20:28:02,533 - DEBUG - ---

2019-11-06 20:28:02,534 - DEBUG - ---Errores conocidos de la Infraestructura
2019-11-06 20:28:02,535 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:28:02,536 - DEBUG - ---A Nivel De Was
2019-11-06 20:28:02,537 - DEBUG - ---A Nivel De La Aplicación
2019-11-06 20:28:02,538 - INFO - Indexing file: SAS ALM REINICIO SERVICIOS AML APP - PRODUCCION.txt
2019-11-06 20:28:02,540 - DEBUG - ---REINICIO DE SERVICIOS ALD - PRODUCCION - APP Y WEB - nuevos
--------------------------------------------------------------------------------------------------

OJO: PARA DETENER PRIMERO TODO LO DEL WAS Y LUEGO TODO EL SERVIDOR DE APLICACIONES.
PARA INICIAR, PRIMERO TODO EL SERVIDOR APLICACIONES Y LUEGO EL SERVIDOR WEB

				DETENCION DE SERVICIOS
               		------------------------------------------
SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------

1. DETENCION SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Autenticarse con el usuario wassvc en el servidor 10.4.80.25 y ejecutar:

DETENCION DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopManager.sh" -profileName "WAS01DMGRAML"

Se debe garantizar que no quede ningun proceso asociado al DMGR, al perfil ni tampoco a los application servers, para ello, en putty, ejecutar

ps -fea |grep WAS01AMLAS4
ps -fea |grep WAS01AMLAS3
ps -fea |grep WAS01AMLAS2
ps -fea |grep WAS01AMLAS1
ps -fea |grep WAS01AMLPF
ps -fea |grep WAS01DMGRAML

No nos deberia devolver procesos asociados, en caso contrario matarlos con kill -9

2. DETENCION SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP

Para garantizar que no quede ningun proceso asociado al puerto 5095 (remote services) se debe ejecutar por putty el comando:

netstat -Aan | grep 5095

Lo cual devuelve un resultado como:

f100070001028bb0 tcp4       0      0  *.5095            *.*      LISTEN     para el puerto 5095
valor de ejemplo


con este dato, ejecutamos en consola el comando: 

rmsock f100070001028bb0 tcpcb    donde el valor de la mitad es a modo de ejemplo y se obtiene de la validación inicial del puerto

el resultado de este comando nos da el numero del proceso asociado al puerto que está LISTEN, nos da un resultado como:


The socket 0x1028808 is being held by proccess  (java).
          Valor ejemplo  

Con lo cual podríamos hacer un 

Kill -9 nro proceso   ejemplo: kill -9 766076



SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

3. DETENCION SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP


	                           INICIO DE SERVICIOS
               		------------------------------------------	

Para iniciar servicios:

SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

1. INICIO SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------

Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------
2. INICIO SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------

ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

3. INICIO DE SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC
--------------------------------------------------------------------------------------------------

INICIO DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/startManager.sh" -profileName "WAS01DMGRAML"
"/was7/IBM/WebSphere/AppServer/bin/startNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"


VALIDACION URL'S
--------------------------------------------------------------------------------------------------

Consola Administracion de WAS por puerto no seguro: http://pbmdeapwas01.bancolombia.corp:51400/ibm/console/unsecureLogon.jsp

SAS Stored Process Web Application:    		http://pbmdeapwas01.bancolombia.corp:51450/SASStoredProcess/do
SAS Web Administration Console:        		http://pbmdeapwas01.bancolombia.corp:51450/SASAdmin
SAS Web Report Studio:		       		http://pbmdeapwas01.bancolombia.corp:51500/SASWebReportStudio
SAS Information Delivery Portal        		http://pbmdeapwas01.bancolombia.corp:51450/SASPortal
SAS BI Dashboard		       		http://pbmdeapwas01.bancolombia.corp:51450/SASBIDashboard
SAS Flex Application Themes:           		http://pbmdeapwas01.bancolombia.corp:51450/SASThemeDesignerForFlex. 
SAS Enterprise Case Management Mid-tier: 	http://pbmdeapwas01.bancolombia.corp:51550/SASEntCaseManagement
SAS Help Viewer for Midtier Applications: 	http://pbmdeapwas01.bancolombia.corp:51500/SASWebDoc
SAS Anti-Money Laundering Investigation UI 5.1: http://pbmdeapwas01.bancolombia.corp:51550/AntiMoneyLaunderingInvestUI_BusinessUnit
pdnwsaml
pbmdeapwas01








2019-11-06 20:28:02,544 - INFO - Indexing file: Datos ECM - Arquitectura PSeries.docx
2019-11-06 20:28:02,626 - DEBUG - ---Las urls de Capacitación son: 
2019-11-06 20:28:02,626 - DEBUG - ---WAS: 
2019-11-06 20:28:02,627 - INFO - Indexing file: Datos ECM - Arquitectura Windows.docx
2019-11-06 20:28:02,635 - INFO - Indexing file: Pasos Instalacion TLSv1-2 RSA.docx
2019-11-06 20:28:02,641 - DEBUG - ---Ingresar al dmgr de calidad
2019-11-06 20:28:02,642 - DEBUG - ---Ir a security a la opción de la imagen a continuación.
2019-11-06 20:28:02,642 - DEBUG - ---Clic en NodeDefaultSSLSettings del nodo de calidad
2019-11-06 20:28:02,643 - DEBUG - ---Seleccionar TLSv1.2, dar clic en OK y finalmente reinciar el CLUSTER de RAS de forma escalonada.
2019-11-06 20:28:02,643 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:28:02,679 - DEBUG - ---Manual de Operaciones
2019-11-06 20:28:02,680 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:28:02,683 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:28:02,702 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:28:02,705 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:28:02,708 - DEBUG - ---DESARROLLO
2019-11-06 20:28:02,710 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:02,713 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,715 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:02,716 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:02,718 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:02,720 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:02,722 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:02,725 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:02,728 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,731 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:02,733 - DEBUG - ---

2019-11-06 20:28:02,734 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:28:02,735 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:02,737 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,740 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:02,742 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:02,743 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:02,745 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:02,746 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:02,750 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:02,752 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,755 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:02,757 - DEBUG - ---

2019-11-06 20:28:02,759 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:28:02,761 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:02,762 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:28:02,764 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:02,765 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:28:02,766 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:02,767 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:28:02,769 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:02,775 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:02,778 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,780 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:02,784 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:28:02,786 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:02,788 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,791 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:02,792 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:02,793 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:02,794 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:02,795 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:02,796 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:02,797 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:02,798 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:02,799 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:02,799 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:02,800 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:02,801 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:02,803 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:28:02,813 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:28:02,815 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:28:02,816 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:02,819 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:02,822 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,825 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:02,826 - DEBUG - ---

2019-11-06 20:28:02,827 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:28:02,829 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:02,830 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,832 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:02,833 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:02,834 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:02,835 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:02,836 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:02,837 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:02,838 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:02,840 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:02,841 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:28:02,842 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:28:02,844 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:28:02,845 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:02,847 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:02,851 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:02,853 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:02,855 - DEBUG - ---

2019-11-06 20:28:02,858 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:28:02,860 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:28:02,861 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:28:02,863 - DEBUG - ---AW0939
2019-11-06 20:28:02,864 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:28:02,865 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:28:02,866 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:28:02,867 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:28:02,868 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:28:02,869 - DEBUG - ---PASOS
2019-11-06 20:28:02,870 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:28:02,873 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:28:02,875 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:28:02,878 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:28:02,880 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:28:02,884 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:28:02,886 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:28:02,888 - DEBUG - ---

2019-11-06 20:28:02,890 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:28:02,892 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:28:02,895 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:28:02,898 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:28:02,900 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:28:02,903 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:28:02,904 - INFO - Indexing file: Configuración Activation specifications.docx
2019-11-06 20:28:02,921 - DEBUG - ---Activation Specifications
2019-11-06 20:28:02,922 - DEBUG - ---Seleccionar el scope respectivo, luego > NewLlenar los siguientes campos, nombre del recurso JMS 
2019-11-06 20:28:02,923 - DEBUG - ---Nombre de recurso asociado a la cola:
2019-11-06 20:28:02,923 - DEBUG - ---Nombre del gestor de colas:
2019-11-06 20:28:02,924 - DEBUG - ---Transporte: cliente, en el campo Connection name list se deben colocar las máquinas con el respectivo puerto del gestor, separadas por , 
2019-11-06 20:28:02,924 - DEBUG - ---El Test Connection en was siempre da fallido, esto no significa que la conexión no se vaya a realizar o este mal parametrizada:
2019-11-06 20:28:02,925 - DEBUG - ---

2019-11-06 20:28:02,925 - DEBUG - ---Luego de creado el activation specification se debe acceder a el para terminar de realizar las configuraciones:
2019-11-06 20:28:02,926 - DEBUG - ---Configurar SSL para canal seguro:
2019-11-06 20:28:02,926 - DEBUG - ---

2019-11-06 20:28:02,927 - DEBUG - ---Creación de colas:
2019-11-06 20:28:02,927 - DEBUG - ---

2019-11-06 20:28:02,928 - DEBUG - ---

2019-11-06 20:28:02,928 - DEBUG - ---Para activar la configuration
2019-11-06 20:28:02,929 - DEBUG - ---Se debe exportar la aplicación fsbmdb.ear
2019-11-06 20:28:02,929 - DEBUG - ---Luego se debe redesplegar una nueva aplicación fsbmdb con un nuevo nombre
2019-11-06 20:28:02,930 - DEBUG - ---Cambiar el nombre de la aplicación, relacionándolo con el nuevo recurso JMS
2019-11-06 20:28:02,931 - DEBUG - ---Seleccionar al módulo asociado los servidores y/o clusters relacionados:
2019-11-06 20:28:02,932 - DEBUG - ---Relacionar con el recurso jms creado (Activation Specification):
2019-11-06 20:28:02,932 - DEBUG - ---Luego activar la aplicación fsbmdb_HA01
2019-11-06 20:28:02,933 - INFO - Indexing file: test.docx
2019-11-06 20:28:02,935 - DEBUG - ---Documento de prueba
2019-11-06 20:28:02,936 - DEBUG - ---parrafa 1 ok
2019-11-06 20:28:02,936 - DEBUG - ---parrafa 2 ok
2019-11-06 20:28:02,936 - DEBUG - ---parrafa 3 ok
2019-11-06 20:28:02,937 - DEBUG - ---parrafa 4 ok
2019-11-06 20:28:02,937 - INFO - Indexing file: test.txt
2019-11-06 20:28:02,938 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-06 20:28:02,941 - INFO - Indexing file: portal.txt
2019-11-06 20:28:02,942 - DEBUG - ---
home bancolombia --> intergrupo
home banitsmo    ------> nosotros

arquitecrua
---------------------------------------------
dallas nodo 1, dmgr
washington nodo 2
server 1 ihs y ventas digitales banitsmo
server 2 ihs y ventas digitales banitsmo
db 1  en HADR
db 2  en HADR
balanceadores de carga (con redes)

la db apunta a un nodo en particular, si hay contigencia se debe apuntar a mano

el producto portal utiliza el usuario 'portal'
los WAS usand el usuario 'portal'
los ihs usan 'wasadmin'

todo estÃ¡ en un keepass  -------> conseguir

para probar cargar www.banitsmo.com

esructuras
--------------------
dllo y QA son administrador por intergrupo
el XML de estructura se exporta desde ahi y se importa en producciÃ³n con XMLAccess


contenidos
--------------------
automatico a las 1pm y 6pm
puede hacerse manual con la consola web
tambien hay script que tiene intergrupo

dentro de WAS la aplicaciÃ³n
------------------------------
las urls de DMGR estÃ¡n en el manual
http://10.209.17.3:9443|9043/ibm/console

los datasources wp ...   son del portal
tienen un duplicado wp ... _DR que apunte al nodo de DB de contingencia
eso no funciona

los 2 nodos espejan bien pero ante una contingencia hay que apuntar los DS (los normales sin DR) manualmente al nodo activo.

las aplicaciones web que administramos en el portal son las que se llaman '*anitsmo'. Las otras forman parte del producto.
las aplicaciones Banitsmo son el theme del portal
las aplicaciones banitsmo_dtd_* son de contenido como tal

consola de portal
----------------------------
portal contenet --> suscribers
sindicacion de contenido por consola web - suscribers, donde se configura que el contenido viene desde QA
probar conexion con el proveedor de contenido, primer icono
sindicaciÃ³n manual, segun Ã­cono
editar suscripcion, tercer icono

monitoreo
---------------
new relic
xrbc --> bancolombia
xrvi --> banitsmo

dudas
---------------
usuarios de DMGR
usuarios de consola de portal
keepass
contraseÃ±a de wasadmin
cer si mi usuario de softlayer funciona o no con esto
pedir usuario de new relic


2019-11-06 20:28:02,944 - INFO - Indexing file: Instalacion_WinScp.docx
2019-11-06 20:28:02,953 - DEBUG - ---Instalación y uso de la herramienta WinScp
2019-11-06 20:28:02,954 - DEBUG - ---Se ejecuta el instalador  y clic en aceptar.
2019-11-06 20:28:02,954 - DEBUG - --- 
2019-11-06 20:28:02,954 - DEBUG - ---Clic en siguiente
2019-11-06 20:28:02,955 - DEBUG - ---Clic en aceptar
2019-11-06 20:28:02,956 - DEBUG - ---Clic en siguiente
2019-11-06 20:28:02,957 - DEBUG - ---

2019-11-06 20:28:02,957 - DEBUG - ---Clic en siguiente
2019-11-06 20:28:02,957 - DEBUG - ---Clic en instalar
2019-11-06 20:28:02,958 - DEBUG - ---                
2019-11-06 20:28:02,958 - DEBUG - ---Clic en finalizar
2019-11-06 20:28:02,959 - DEBUG - ---

2019-11-06 20:28:02,959 - DEBUG - ---Para realizar copias de archivos de servidores a PC de escritorio y viceversa se efectúa de la siguiente manera:
2019-11-06 20:28:02,960 - DEBUG - ---Ingresar a Password Safe e ingresar a un servidor (En este caso Linux) y antes de abrir una sesión SSH copiar todo el contenido de la sección “Username/IP”:
2019-11-06 20:28:02,961 - DEBUG - ---Abrir preferiblemente un internet explorer y en el campo de texto de la dirección URL pegar la línea copiada y agregar al principio “sftp://” y al final (:4422) como se ve en la imagen:
2019-11-06 20:28:02,961 - DEBUG - ---

2019-11-06 20:28:02,961 - DEBUG - ---Dar enter e inmediatamente se ejecuta la herramienta winScp:
2019-11-06 20:28:02,962 - DEBUG - ---Ya con esto se pueden realizar copias entre PC y servidor.
2019-11-06 20:28:02,963 - DEBUG - ---Nota: es preferible realizar las copias inicialmente al directorio “/tmp”, ya después por sesión ssh a través del putty hacer las operaciones requeridas con los archivos copiados.
2019-11-06 20:28:02,963 - INFO - Indexing file: ConfigurarPutty.txt
2019-11-06 20:28:02,964 - DEBUG - ---ÿþW i n d o w s   R e g i s t r y   E d i t o r   V e r s i o n   5 . 0 0 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h ] 
 
 @ = " U R L : S e c u r e   S h e l l   P r o t o c o l " 
 
 " U R L   P r o t o c o l " = " " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ D e f a u l t I c o n ] 
 
 @ = " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n \ c o m m a n d ] 
 
 @ = " c m d   / V : O N   / s   / c   @ e c h o   o f f   & &   s e t   u r l = % 1   & &   f o r   / f   \ " t o k e n s = 1 , 2 , 3   d e l i m s = : /   \ "   % % a   i n   ( \ " ! u r l ! \ " )   d o   s e t   p r o t o c o l = % % a & s e t   h o s t = % % b & s e t   p o r t = % % c   & &   s t a r t   \ " \ "   \ " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e \ "   - P   ! p o r t !   ! h o s t ! " 
 
 
 
 
2019-11-06 20:28:02,964 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 20:28:02,965 - DEBUG - ---ï»¿WAS iSeries
--------------------
crear perfil (/qibm/proddata/websphere/appserver/v85/nd/bin)
./manageprofiles -create -profileName WAS01PFCSV02 -templatePath managed -nodeName WASSV1_WAS01PFCSV02 -hostname WASSV1.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL01PFCSV02 -templatePath managed -nodeName WASNLSV1_WNL01PFCSV02 -hostname WASNLSV1.BANCOLOMBIA.COM
./manageprofiles -create -profileName WAS02PFCSV02 -templatePath managed -nodeName WASSV2_WAS02PFCSV02 -hostname WASSV2.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL02PFCSV02 -templatePath managed -nodeName WASNLSV2_WNL02PFCSV02 -hostname WASNLSV2.BANCOLOMBIA.COM 

./manageprofiles -delete -profileName WNL01PFCSV02

habilitar java 7 (/qibm/proddata/websphere/appserver/v85/nd/bin)
./managesdk -enableProfile -profileName WAS01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WAS02PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL02PFCSV02 -sdkname 1.7_64 -enableServers

federar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
#./addNode 10.8.3.174 49503 -username mgazzola -password ************
#./addNode 10.8.3.174 49503 -username svcwps01 -password W3v$p1*Er9
./addNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM

sincronizar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
./stopNode
 -username wassvc -password C0nf1d3nci@lECM
./syncNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM
./startNode

resultado
system administration - node agents - aparece el nuevo nodo

WAS pSeries
-----------------
crear perfiles dmgr y managed
./manageprofiles.sh -create -profileName DMGR85LIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBDMGRLIVEBPDNA01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/management/
./manageprofiles.sh -create -profileName DWEBLIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBLIVEBPDNODE01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/managed/

habilitar java
./managesdk.sh -enableProfileAll -sdkname 1.7_64 -enableServers

borrar perfiles
bin ./manageprofiles.sh -delete -profileName DWEB85RECMIGPF01
bin ./manageprofiles.sh -delete -profileName DWEBLIVEBPDPF01


parachado de WAS
------------------

PARA ACTUALIZAR WAS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/WAS_85/IBM/WebSphere/AppServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

PARA ACTUALZIAR PLUGIN
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/Plugins -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress -properties user.wasjava=java6

PARA ACTUALIZAR IHS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/HTTPServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

VERIFICAR LOS MEDIOS INSTALADOS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl  listInstalledPackages -long



2019-11-06 20:28:02,967 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 20:28:02,999 - DEBUG - ---

2019-11-06 20:28:03,000 - DEBUG - ---

2019-11-06 20:28:03,001 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:28:03,002 - DEBUG - ---Nota
2019-11-06 20:28:03,003 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:28:03,004 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:28:03,005 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:28:03,006 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:28:03,009 - DEBUG - ---Nota
2019-11-06 20:28:03,010 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:28:03,011 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:03,012 - DEBUG - ---a.
2019-11-06 20:28:03,013 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:03,014 - DEBUG - ---b.
2019-11-06 20:28:03,014 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:03,015 - DEBUG - ---f.
2019-11-06 20:28:03,015 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:03,017 - DEBUG - ---

2019-11-06 20:28:03,018 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:28:03,019 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:28:03,020 - DEBUG - ---Recordar:
2019-11-06 20:28:03,020 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:28:03,021 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:28:03,021 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:28:03,023 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:28:03,027 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:28:03,029 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:28:03,031 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:28:03,033 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:28:03,035 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:28:03,037 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:28:03,039 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:28:03,041 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:28:03,043 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:28:03,048 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:28:03,050 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:28:03,052 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:28:03,053 - DEBUG - --- 
2019-11-06 20:28:03,054 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:28:03,057 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:28:03,059 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:28:03,061 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:28:03,062 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:28:03,063 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:28:03,065 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:28:03,066 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:28:03,068 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:28:03,069 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:28:03,070 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:28:03,071 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:28:03,072 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:28:03,073 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:28:03,074 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:28:03,075 - INFO - Indexing file: pass.txt
2019-11-06 20:28:03,076 - DEBUG - ---WSZA855C3S
2019-11-06 20:28:03,076 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-06 20:28:03,089 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:28:03,091 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:28:03,092 - DEBUG - ---Elaborado para
2019-11-06 20:28:03,092 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:28:03,093 - DEBUG - ---Elaborado por
2019-11-06 20:28:03,094 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:28:03,095 - DEBUG - ---Fecha
2019-11-06 20:28:03,095 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:28:03,097 - DEBUG - ---Objetivo
2019-11-06 20:28:03,097 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:28:03,098 - DEBUG - ---Rotación de servicios
2019-11-06 20:28:03,098 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:28:03,099 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:28:03,106 - DEBUG - ---Menú iSeries
2019-11-06 20:28:03,106 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:28:03,108 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:28:03,109 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:28:03,109 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:28:03,110 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:28:03,110 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:28:03,111 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:28:03,111 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:28:03,112 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:28:03,112 - DEBUG - ---Opciones del menú
2019-11-06 20:28:03,113 - DEBUG - ---Contingencia Medellín
2019-11-06 20:28:03,114 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:28:03,115 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:28:03,115 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:28:03,116 - DEBUG - ---Regresar
2019-11-06 20:28:03,116 - DEBUG - ---Salir
2019-11-06 20:28:03,117 - DEBUG - ---Rotación servicios
2019-11-06 20:28:03,118 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:28:03,118 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:28:03,119 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:28:03,120 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:03,122 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:03,123 - DEBUG - ---Actividades IPL
2019-11-06 20:28:03,124 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:28:03,125 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:28:03,126 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:28:03,126 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:28:03,127 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:28:03,127 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:28:03,128 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:28:03,129 - INFO - Indexing file: Actualizar_certificado_celda_WAS.docx
2019-11-06 20:28:03,143 - DEBUG - ---TERCERIZACIÓN DE LOS SERVICIOS DE ADMINISTRACIÓN DE LA PLATAFORMA SOA
2019-11-06 20:28:03,144 - DEBUG - ---PARA BANCOLOMBIA
2019-11-06 20:28:03,145 - DEBUG - ---Procedimiento
2019-11-06 20:28:03,145 - DEBUG - ---Actualizar Certificado Personal en una Celda WAS
2019-11-06 20:28:03,146 - DEBUG - ---Elaborado para
2019-11-06 20:28:03,147 - DEBUG - ---Bancolombia
2019-11-06 20:28:03,148 - DEBUG - ---Elaborado por:
2019-11-06 20:28:03,148 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:28:03,149 - DEBUG - ---Fecha: agosto de 2016
2019-11-06 20:28:03,150 - DEBUG - ---Contenido
2019-11-06 20:28:03,155 - DEBUG - ---INTRODUCCION
2019-11-06 20:28:03,157 - DEBUG - ---Este documento describe el procedimiento para actualizar el certificado personal de una celda de WebSphere Application Server.
2019-11-06 20:28:03,158 - DEBUG - ---Datos Generales
2019-11-06 20:28:03,159 - DEBUG - ---Descripción Procedimiento
2019-11-06 20:28:03,160 - DEBUG - ---Con el objetivo de generar menos impacto se sugiere generar un nuevo certificado y luego indicarle a la celda cual certificado debe usar.
2019-11-06 20:28:03,161 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:28:03,162 - DEBUG - ---Ir a la opción solicitud de certificados personales y hacer clic en New.
2019-11-06 20:28:03,163 - DEBUG - ---

2019-11-06 20:28:03,163 - DEBUG - ---Diligenciar el formulario tal como lo muestra la imagen y hacer clic en OK.
2019-11-06 20:28:03,164 - DEBUG - ---

2019-11-06 20:28:03,164 - DEBUG - ---Validar que la solicitud de certificado se haya creado. Descargar el certificado de la ruta indicada en el paso dos y enviarlo al área de seguridades de Bancolombia para su firma. 
2019-11-06 20:28:03,165 - DEBUG - ---

2019-11-06 20:28:03,166 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:28:03,167 - DEBUG - ---Importar los certificados que conforman la cadena de confianza del certificado firmado en el almacén de certificados personales de la celda (CellDefaultKeystore) en la opción de certificados de confianza (Signer certificates). 
2019-11-06 20:28:03,168 - DEBUG - ---Ir a la opción de certificados personales y hacer clic en el botón de recibir de una autoridad de certificados (Receive from a certificate authority)
2019-11-06 20:28:03,169 - DEBUG - ---Ingresar la ruta donde se encuentra el certificado enviado por el área de seguridades de Bancolombia.
2019-11-06 20:28:03,170 - DEBUG - ---Validar que el certificado haya sido recibido correctamente.
2019-11-06 20:28:03,171 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:28:03,173 - DEBUG - ---Se debe importar el certificado público en los siguientes almacenes:
2019-11-06 20:28:03,173 - DEBUG - ---CMSKeyStore para cada uno de los web servers.
2019-11-06 20:28:03,174 - DEBUG - ---CellDefaultTrustStore
2019-11-06 20:28:03,174 - DEBUG - ---NodeDefaultTrustStore para cada uno de nodos.
2019-11-06 20:28:03,175 - DEBUG - ---

2019-11-06 20:28:03,176 - DEBUG - ---Extraer el certificado público de la celda
2019-11-06 20:28:03,177 - DEBUG - ---Indicar la ruta donde se debe exportar el certificado público
2019-11-06 20:28:03,178 - DEBUG - ---

2019-11-06 20:28:03,178 - DEBUG - ---Ir a cada almacén y añadir el certificado público.
2019-11-06 20:28:03,179 - DEBUG - ---Configurar la celda para que use el nuevo certificado
2019-11-06 20:28:03,180 - DEBUG - ---Validar los endpoints y donde se encuentre el certificado anterior asociar el nuevo certificado.
2019-11-06 20:28:03,182 - DEBUG - ---

2019-11-06 20:28:03,182 - DEBUG - ---Asociar el nuevo certificado en la configuración SSL de la celda.
2019-11-06 20:28:03,183 - DEBUG - ---Reinicio de la celda
2019-11-06 20:28:03,184 - DEBUG - ---Sincronizar los nodos usando la opción de sincronización completa.
2019-11-06 20:28:03,185 - DEBUG - ---Una vez sincronizados podemos reiniciar los servicios usando la consola en la opción de reiniciar todos los servidores de aplicación para el nodo seleccionado. Se debe esperar a que dicho reinicio termine para continuar con otro nodo.
2019-11-06 20:28:03,186 - DEBUG - ---Una vez reiniciado todos los servidores de aplicación y nodos se reinician el deployment manager (dmgr).
2019-11-06 20:28:03,187 - DEBUG - ---Consideraciones y Recomendaciones
2019-11-06 20:28:03,187 - DEBUG - ---Las siguientes actividades pueden ejecutarse previo a la ventana de mantenimiento:
2019-11-06 20:28:03,188 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:28:03,189 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:28:03,190 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:28:03,191 - INFO - Indexing file: Aplicar reglas a Proxy Server.docx
2019-11-06 20:28:03,197 - DEBUG - ---Aplicar reglas a Proxy Server
2019-11-06 20:28:03,197 - DEBUG - ---Ingresar al cluster de proxy server al cual se le desea aplicar la regla.
2019-11-06 20:28:03,198 - DEBUG - ---Seleccionar la opción Proxy actions, que se encuentra dentro del menú Proxy virtual host configuration.
2019-11-06 20:28:03,198 - DEBUG - ---Ir a Routing Actions y seleccionar New,  y luego dar click en Fail Route…
2019-11-06 20:28:03,199 - DEBUG - ---Se configura el nombre y el código que se desea retorne ante esa acción. 
2019-11-06 20:28:03,199 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy rule expressions.
2019-11-06 20:28:03,199 - DEBUG - ---Dar click en New 
2019-11-06 20:28:03,200 - DEBUG - ---Colocar el nombre que se desea colocar a la expresión, luego presionar en el botón Subexpresion Builder, luego seleccionar en Operand la opción Module. Luego en Module seleccionar el modulo war que se desea restringir, por último se da click en el botón Generate subexpression. Adicional en la parte inferior en los Routing Actions seleccionar la acción que se creo previamente. 
2019-11-06 20:28:03,201 - DEBUG - ---                                                     dar click en el botón OK, y luego en Preview, asegurándose de sincronizar todos los nodos.
2019-11-06 20:28:03,201 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy virtual hosts.
2019-11-06 20:28:03,202 - DEBUG - ---Se da click en el botón New para generar una nueva configuración.
2019-11-06 20:28:03,202 - DEBUG - ---En la casilla Virtual host name, se deja el valor *, en la casilla Virtual host port, se debe indicar el puerto al que se desea aplicar la regla, luego seleccionar la expresión previamente creada, quedando así: se presiona en OK y luego Review y asegurarse de sincronizar los nodos.
2019-11-06 20:28:03,203 - DEBUG - ---Se deben reiniciar los Clusters de Proxy Servers.
2019-11-06 20:28:03,203 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:28:03,219 - DEBUG - ---Creación Proxy Servers en WAS 8.5
2019-11-06 20:28:03,221 - DEBUG - ---Change log
2019-11-06 20:28:03,223 - DEBUG - ---Audiencia
2019-11-06 20:28:03,224 - DEBUG - ---Administradores de productos de capa media IBM.
2019-11-06 20:28:03,225 - DEBUG - ---Abstract
2019-11-06 20:28:03,225 - DEBUG - ---Un proxy servers permite direccionar tráfico http y gestionar archivos estáticos como lo hace un servidor web Apache o un IHS. Sin embargo, no es un producto separado. Un proxy es un pequeño servidor WAS basado en un template diferente que es más sencillo de administrar que un IHS.
2019-11-06 20:28:03,226 - DEBUG - ---Los proxy servers pueden funcionar independientemente o en forma de cluster, en este instructivo se explicará cómo crearlos de ambas maneras y las configuraciones adicionales que la celda necesita para hacer que las aplicaciones se expongan a través de los proxy.
2019-11-06 20:28:03,227 - DEBUG - ---Creación de un proxy server
2019-11-06 20:28:03,227 - DEBUG - ---A continuación se especifican los pasos para la creación de un nuevo Websphere Proxy Server en WAS 8.5.
2019-11-06 20:28:03,228 - DEBUG - ---1. Desde la consola del DMGR, ubicarnos en tipos de servidores y dar clic en Websphere proxy servers.
2019-11-06 20:28:03,229 - DEBUG - ---2. Dar clic en nuevo.
2019-11-06 20:28:03,230 - DEBUG - ---3. Se debe ingresar el nombre que se aprovisionara al nuevo proxy server.
2019-11-06 20:28:03,231 - DEBUG - ---4. Utilizar las opciones seleccionadas a continuación para un aprovisionamiento estándar.
2019-11-06 20:28:03,232 - DEBUG - ---5. Se utiliza la plantilla de proxy_server_foundation.
2019-11-06 20:28:03,232 - DEBUG - ---6. Finalmente se debe revisar el resumen de las configuraciones realizadas sean las deseadas.
2019-11-06 20:28:03,233 - DEBUG - ---Y dar clic en “Finish”.
2019-11-06 20:28:03,234 - DEBUG - ---7. Guardar las configuraciones.
2019-11-06 20:28:03,235 - DEBUG - ---8. Se verifica que el proxy server nuevo creado aparece ya en la consola de WAS para su administración.
2019-11-06 20:28:03,236 - DEBUG - ---Una vez hecho esto se puede validar el inicio del nuevo proxy server.
2019-11-06 20:28:03,239 - DEBUG - ---Creación de cluster de proxy servers
2019-11-06 20:28:03,241 - DEBUG - ---1. click en el menú izquierdo
2019-11-06 20:28:03,242 - DEBUG - ---Servers  clusters  proxy Server clusters  new
2019-11-06 20:28:03,243 - DEBUG - ---2. colocar un nombre
2019-11-06 20:28:03,244 - DEBUG - ---Se acepta la convensión CLPS[aplicación][numero], ejemplo CLPSPSE01.
2019-11-06 20:28:03,244 - DEBUG - ---Dejar el resto de los campos con el valor por defecto.
2019-11-06 20:28:03,245 - DEBUG - ---3. agregar miembros del cluster
2019-11-06 20:28:03,246 - DEBUG - ---a. nombre del miembro, se acepta la convensión PS[aplicación][numero]
2019-11-06 20:28:03,247 - DEBUG - ---b. seleccionar el nodo al que el miembro quedará asociado (pueden ser diferentes miembros asociados a diferentes nodos)
2019-11-06 20:28:03,248 - DEBUG - ---4. crear miembros adicionales
2019-11-06 20:28:03,248 - DEBUG - ---Colocar el nombre del miembro y seleccionar el nodo asociados, luego click en Add member
2019-11-06 20:28:03,249 - DEBUG - ---5. repetir el paso 4 por cada miembro adicional hasta completar los miembros.
2019-11-06 20:28:03,250 - DEBUG - ---Luego click en ‘Next’
2019-11-06 20:28:03,250 - DEBUG - ---6. Sumary
2019-11-06 20:28:03,251 - DEBUG - ---Click en Finish
2019-11-06 20:28:03,252 - DEBUG - ---Grabar los cambios.
2019-11-06 20:28:03,252 - DEBUG - ---Configuraciones adicionales
2019-11-06 20:28:03,253 - DEBUG - ---1. Se debe validar que los puertos a utilizar por el nuevo proxy server, server deben estar abiertos en el la maquina donde esta instalado el producto
2019-11-06 20:28:03,254 - DEBUG - ---Para el caso de maquinas Pseries se puede validar con el comando
2019-11-06 20:28:03,255 - DEBUG - ---netstat –Aan | grep #puerto
2019-11-06 20:28:03,257 - DEBUG - ---Para validar cuales son los puertos configurados en el proxy server vamos a la siguiente ubicación.
2019-11-06 20:28:03,259 - DEBUG - ---Donde se pueden observar los puertos y realizar los cambios según se requiera.
2019-11-06 20:28:03,262 - DEBUG - ---2. Las aplicaciones tienen por default habilitada la opción “Enable Proxy” de tal forma que el servicio se resuelva desde el proxy server. Debemos garantizar que la aplicación que va a utilizar proxy server ten la opción habilitada como se muestra en el ejemplo a continuación.
2019-11-06 20:28:03,263 - DEBUG - --- 
2019-11-06 20:28:03,269 - DEBUG - ---3. Se deben configurar los puertos en que van a utilizar las aplicaciones desde “Enviroment”, y desde el Virtual Host deseado se debe agregar los puertos requeridos en la consideración #1. 
2019-11-06 20:28:03,274 - DEBUG - ---Opcionalmente, como buena practica, se puede crear un nuevo virtual host particular para configurar los puertos que exclusivamente vaya a utilizar una aplicación y mapear desde la misma app el virtual host creado desde la siguiente ubicación, como se muestra en el ejemplo a continuación.
2019-11-06 20:28:03,275 - DEBUG - ---NOTA: Una vez se realice cualquier cambio de los anteriores mencionados en las consideraciones, debemos realizar reinicio del proxy server.
2019-11-06 20:28:03,276 - DEBUG - ---Configuraciones adicionales para was en iSeries
2019-11-06 20:28:03,277 - DEBUG - ---Además de las configuraciones mencionadas en el apartado anterior, para los WAS instalados en plataformas iSeries que utilicen proxy servers en combinación en el appliance F5 como balanceador de carga se necesita aplicar la siguiente configuración:
2019-11-06 20:28:03,277 - DEBUG - ---Matricular en los Virtual Host de WAS, el nombre (DNS) con el cual se consume el servicio por F5 y el puerto por el cual se expone el servicio en los Proxy Server.
2019-11-06 20:28:03,278 - DEBUG - ---1. ingresar a la configuración del proxy servers a configurar, y en la sección Ports, buscar los puertos con los que se expone el servicio
2019-11-06 20:28:03,279 - DEBUG - ---PROXY_HTTP_ADDRESS
2019-11-06 20:28:03,279 - DEBUG - ---PROXY_HTTPS_ADDRESS
2019-11-06 20:28:03,280 - DEBUG - ---2. crear en la sección Virtual Hosts > default_host > Host Aliases dos nuevos aliases con la combinación de los puertos de los proyx servers y el DNS provisto por F5 para la aplicación a exponer:
2019-11-06 20:28:03,281 - DEBUG - ---3. reiniciar los proxy servers
2019-11-06 20:28:03,282 - INFO - Indexing file: test.txt
2019-11-06 20:28:03,283 - DEBUG - ---WASX7209I: Connected to process "dmgr" on node QWEBDMGR using SOAP connector;  The type of process is: DeploymentManager
2017-12-11 14:50:02,571 [INFO] using WDR (https://wdr.github.io/WDR/) version 0.8.2
2017-12-11 14:50:02,598 [INFO] the client is connected to host localhost:10403 using SOAP connector
2017-12-11 14:50:02,604 [INFO] the target process is CeldaJuanFWAS85/QWEBDMGR/dmgr
 Lista Aplicaciones en la celda :
['DynaCacheEsi', 'Dynamic Cache Monitor', 'query']

2019-11-06 20:28:03,283 - INFO - Indexing file: ReadMe.txt
2019-11-06 20:28:03,284 - DEBUG - ---${WAS_85_INSTALL_ROOT}/bin/wsadmin.sh
-lang jython
-connType SOAP
-username user
-password pwd
-f /wrkdirr/ibmdirr/wsadminUtils/main.py [options]
    -m or --mode, Script mode: createCluster
    -w or --workdir, Script work space, required because is a script inside wsadmin environment
    -cl or --cluster, Cluster name. Used in createCluster
    -n1 or --node1, Node name. Used in createCluster
    -n2 or --node2, Node name. Used in createCluster
    -s1 or --server1, Server name. Used in createCluster
    -s2 or --server2, Server name. Used in createCluster
    -h1 or --host1, Host name. Used in createCluster
    -h2 or --host2, Host name. Used in createCluster
    -p1 or --port1, Initial port. Used in createCluster
    -p2 or --port2, Initial port. Used in createCluster
    -ih1 or --initialHeap1, Initial heap size. Used in createCluster
    -ih2 or --initialHeap2, Initial heap size. Used in createCluster
    -mh1 or --maxHeap1, Max heap size. Used in createCluster
    -mh2 or --maxHeap2, Max heap size. Used in createCluster
Example:
/opt/IBM/WebSphere/AppServer85/profiles/ProfileDmgr01/bin/wsadmin.sh -lang jython -connType SOAP -f /wrkdirr/ibmdirr/wsadminUtils/main.py -m createCluster -w /wrkdirr/ibmdirr/ -s1 ServerMng04 -s2 ServerMng05 -n1 NodeMng01 -n2 NodeMng02 -h1 localhost -h2 localhost -p1 6000 -p2 6100 -ih1 128 -mh1 512 -ih2 128 -mh2 512 -cl CLMNG02
2019-11-06 20:28:03,285 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 20:28:03,303 - DEBUG - ---

2019-11-06 20:28:03,308 - DEBUG - ---

2019-11-06 20:28:03,309 - DEBUG - ---

2019-11-06 20:28:03,310 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:28:03,311 - DEBUG - ---Nota
2019-11-06 20:28:03,312 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:28:03,313 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:28:03,314 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:28:03,315 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:28:03,316 - DEBUG - ---Nota
2019-11-06 20:28:03,316 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:28:03,317 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:03,318 - DEBUG - ---a.
2019-11-06 20:28:03,319 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:03,320 - DEBUG - ---b.
2019-11-06 20:28:03,320 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:03,321 - DEBUG - ---f.
2019-11-06 20:28:03,322 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:03,323 - DEBUG - ---

2019-11-06 20:28:03,324 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:28:03,325 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:28:03,326 - DEBUG - ---Recordar:
2019-11-06 20:28:03,327 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:28:03,327 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:28:03,332 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:28:03,334 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:28:03,335 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:28:03,336 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:28:03,337 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:28:03,338 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:28:03,339 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:28:03,340 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:28:03,341 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:28:03,342 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:28:03,343 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:28:03,344 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:28:03,344 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:28:03,345 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:28:03,346 - DEBUG - --- 
2019-11-06 20:28:03,346 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:28:03,348 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:28:03,349 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:28:03,350 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:28:03,351 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:28:03,352 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:28:03,353 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:28:03,354 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:28:03,355 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:28:03,356 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:28:03,358 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:28:03,359 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:28:03,360 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:28:03,361 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:28:03,361 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:28:03,362 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 20:28:03,385 - DEBUG - ---

2019-11-06 20:28:03,386 - DEBUG - ---

2019-11-06 20:28:03,387 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:28:03,388 - DEBUG - ---Nota
2019-11-06 20:28:03,389 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:28:03,390 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:28:03,391 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:28:03,392 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:28:03,392 - DEBUG - ---Nota
2019-11-06 20:28:03,393 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:28:03,394 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:03,395 - DEBUG - ---a.
2019-11-06 20:28:03,395 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:03,396 - DEBUG - ---b.
2019-11-06 20:28:03,396 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:03,397 - DEBUG - ---f.
2019-11-06 20:28:03,397 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:03,399 - DEBUG - ---

2019-11-06 20:28:03,400 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:28:03,401 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:28:03,402 - DEBUG - ---Recordar:
2019-11-06 20:28:03,402 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:28:03,403 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:28:03,404 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:28:03,405 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:28:03,405 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:28:03,407 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:28:03,407 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:28:03,408 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:28:03,409 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:28:03,410 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:28:03,410 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:28:03,411 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:28:03,412 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:28:03,413 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:28:03,414 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:28:03,414 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:28:03,415 - DEBUG - --- 
2019-11-06 20:28:03,415 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:28:03,417 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:28:03,418 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:28:03,419 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:28:03,420 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:28:03,421 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:28:03,422 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:28:03,423 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:28:03,424 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:28:03,425 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:28:03,426 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:28:03,427 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:28:03,427 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:28:03,428 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:28:03,429 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:28:03,430 - INFO - Indexing file: Manual_Menu_iSeries(2).docx
2019-11-06 20:28:03,444 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:28:03,445 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:28:03,446 - DEBUG - ---Elaborado para
2019-11-06 20:28:03,446 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:28:03,447 - DEBUG - ---Elaborado por
2019-11-06 20:28:03,447 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:28:03,448 - DEBUG - ---Fecha
2019-11-06 20:28:03,449 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:28:03,450 - DEBUG - ---Objetivo
2019-11-06 20:28:03,450 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:28:03,451 - DEBUG - ---Rotación de servicios
2019-11-06 20:28:03,451 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:28:03,452 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:28:03,457 - DEBUG - ---Menú iSeries
2019-11-06 20:28:03,457 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:28:03,459 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:28:03,459 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:28:03,460 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:28:03,460 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:28:03,461 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:28:03,461 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:28:03,462 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:28:03,462 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:28:03,463 - DEBUG - ---Opciones del menú
2019-11-06 20:28:03,463 - DEBUG - ---Contingencia Medellín
2019-11-06 20:28:03,464 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:28:03,465 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:28:03,465 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:28:03,466 - DEBUG - ---Regresar
2019-11-06 20:28:03,466 - DEBUG - ---Salir
2019-11-06 20:28:03,467 - DEBUG - ---Rotación servicios
2019-11-06 20:28:03,467 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:28:03,468 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:28:03,469 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:28:03,470 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:03,471 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:03,472 - DEBUG - ---Actividades IPL
2019-11-06 20:28:03,473 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:28:03,473 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:28:03,474 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:28:03,474 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:28:03,475 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:28:03,476 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:28:03,476 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:28:03,477 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:28:03,498 - DEBUG - ---

2019-11-06 20:28:03,499 - DEBUG - ---Control de Versiones
2019-11-06 20:28:03,500 - DEBUG - ---

2019-11-06 20:28:03,500 - DEBUG - ---VERIFICAR INTERFACES CORRESPONDIENTES A CADA SERVIDOR DE APLICACION EN AMBAS MAQUINAS ( WAS y WASNL) Y TOMAR EVIDENCIAS DE ELLO
2019-11-06 20:28:03,501 - DEBUG - ---Se deben tomar evidencias de las interfaces correspondientes a cada aplicativo en ambas máquinas. 
2019-11-06 20:28:03,503 - DEBUG - ---Ingresamos a WAS y ejecutamos el comando CFGTCP
2019-11-06 20:28:03,507 - DEBUG - ---Luego seleccionamos la opción 1 del menú (Trabajar con interfaces  TCP/IP)
2019-11-06 20:28:03,511 - DEBUG - ---Nos aparecerá la pantalla con las interfaces.
2019-11-06 20:28:03,514 - DEBUG - ---En la pantalla de las interfaces, presionamos la tecla F11 para ver los estados de las interfaces y la pantalla quedaría así:
2019-11-06 20:28:03,518 - DEBUG - ---Para generar un respaldo podemos usar la opción F6 que llevara la información a nuestro spool el cual podrá ser descargado posteriormente como un archivo de texto.
2019-11-06 20:28:03,520 - DEBUG - ---NOTA: LOS MISMOS PASOS ANTERIORES APLICAN PARA LA MAQUINA DE WASNL
2019-11-06 20:28:03,523 - DEBUG - ---CAMBIAR EL PARÁMETRO  DE INICIO AUTOSTAR  A LAS INTERFACES CORRESPONDIENTES A CADA APLICATIVO.
2019-11-06 20:28:03,525 - DEBUG - ---Se debe ingresar a las máquinas (WAS y WASNL). Luego ejecutamos el siguiente comando donde debemos cambiar el valor del parámetro de AUTOINICIO a *NO donde se requiere que permanezca abajo la interfaz al momento de un IPL y *YES a las interfaces que se requiere que permanezcan activas en la máquina una vez se haga un IPL; esto depende de en qué máquina se dejarán los servicios operando.
2019-11-06 20:28:03,526 - DEBUG - ---Ejemplos:
2019-11-06 20:28:03,527 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*NO)
2019-11-06 20:28:03,528 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*YES)
2019-11-06 20:28:03,529 - DEBUG - ---PTR detener servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:28:03,531 - DEBUG - ---Consideraciones previas
2019-11-06 20:28:03,534 - DEBUG - ---[Si aplica: premisas, riesgos]
2019-11-06 20:28:03,537 - DEBUG - ---Descripción de las actividades
2019-11-06 20:28:03,538 - DEBUG - ---PTR detener servicios Contingencia Medellin - MEDHA 
2019-11-06 20:28:03,539 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:28:03,554 - DEBUG - ---ACTIVIDADES PREVIAS
2019-11-06 20:28:03,555 - DEBUG - ---Tomar pantallas de las interfaces (Punto 1 de este PTR), servidores de aplicaciones y web servers en WAS y WASNL como se indica a continuación:
2019-11-06 20:28:03,557 - DEBUG - ---Validar estado de subsistemas WAS y servidores de aplicaciones websphere:
2019-11-06 20:28:03,558 - DEBUG - ---wrkactjob sbs(QWAS8)
2019-11-06 20:28:03,558 - DEBUG - ---wrkactjob sbs(QWAS85)
2019-11-06 20:28:03,559 - DEBUG - ---Validar estado de subsistema QHTTPSVR y sus webservers:
2019-11-06 20:28:03,560 - DEBUG - ---wrkactjob sbs(QHTTPSVR)
2019-11-06 20:28:03,561 - DEBUG - ---Ejemplo pantallazo subsistema QWAS85:
2019-11-06 20:28:03,562 - DEBUG - ---ACTIVIDADES DURANTE LA CONTINGENCIA
2019-11-06 20:28:03,564 - DEBUG - ---3.1 Detener servidores web y servidores de aplicaciones
2019-11-06 20:28:03,566 - DEBUG - ---Cuando bajen los servicios y se dé la señal, se debe bajar el subsistema QHTTPSVR y una vez esté completamente detenido, proceder a bajar los servidores de aplicación que  tengan conexiones a la máquina MEDELLINET01.
2019-11-06 20:28:03,568 - DEBUG - ---Comandos 
2019-11-06 20:28:03,569 - DEBUG - ---DETENER SERVIDORES WEB:
2019-11-06 20:28:03,571 - DEBUG - ---ENDTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:28:03,572 - DEBUG - ---Se valida que todos los web server estén detenidos con el siguiente comando:
2019-11-06 20:28:03,574 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:28:03,575 - DEBUG - ---DETENER SERVIDORES DE APLICACIONES:
2019-11-06 20:28:03,577 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:28:03,579 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:28:03,582 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:03,582 - DEBUG - ---ASADM01
2019-11-06 20:28:03,583 - DEBUG - ---ASADM02
2019-11-06 20:28:03,584 - DEBUG - ---ASADM03
2019-11-06 20:28:03,585 - DEBUG - ---ASADM04
2019-11-06 20:28:03,585 - DEBUG - ---ASADM05
2019-11-06 20:28:03,586 - DEBUG - ---ASADM06
2019-11-06 20:28:03,587 - DEBUG - ---ASALM01
2019-11-06 20:28:03,588 - DEBUG - ---ASALM02
2019-11-06 20:28:03,588 - DEBUG - ---ASBTS01
2019-11-06 20:28:03,589 - DEBUG - ---ASBTS02
2019-11-06 20:28:03,590 - DEBUG - ---ASCAN01
2019-11-06 20:28:03,591 - DEBUG - ---ASCAN02
2019-11-06 20:28:03,592 - DEBUG - ---ASCAN03
2019-11-06 20:28:03,592 - DEBUG - ---ASCAN04
2019-11-06 20:28:03,593 - DEBUG - ---ASMRP01
2019-11-06 20:28:03,594 - DEBUG - ---ASMRP02
2019-11-06 20:28:03,595 - DEBUG - ---ASPAC01
2019-11-06 20:28:03,596 - DEBUG - ---ASPAC02
2019-11-06 20:28:03,596 - DEBUG - ---ASRIN01
2019-11-06 20:28:03,597 - DEBUG - ---ASRIN02
2019-11-06 20:28:03,598 - DEBUG - ---ASRSA01
2019-11-06 20:28:03,599 - DEBUG - ---ASRSA02
2019-11-06 20:28:03,599 - DEBUG - ---ASTAC01
2019-11-06 20:28:03,600 - DEBUG - ---ASTAC02
2019-11-06 20:28:03,601 - DEBUG - ---ASWAP01
2019-11-06 20:28:03,602 - DEBUG - ---ASWAP02
2019-11-06 20:28:03,602 - DEBUG - ---ASWSE01
2019-11-06 20:28:03,603 - DEBUG - ---ASWSE02
2019-11-06 20:28:03,604 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:28:03,605 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:03,606 - DEBUG - ---ASAPP01
2019-11-06 20:28:03,608 - DEBUG - ---ASAPP02
2019-11-06 20:28:03,609 - DEBUG - ---ASAPP03
2019-11-06 20:28:03,609 - DEBUG - ---ASAPP04
2019-11-06 20:28:03,610 - DEBUG - ---ASSVP01
2019-11-06 20:28:03,611 - DEBUG - ---ASSVP02
2019-11-06 20:28:03,611 - DEBUG - ---ASSVP03
2019-11-06 20:28:03,612 - DEBUG - ---ASSVP04
2019-11-06 20:28:03,613 - DEBUG - ---ASSVE01
2019-11-06 20:28:03,613 - DEBUG - ---ASSVE02
2019-11-06 20:28:03,614 - DEBUG - ---ASSVE03
2019-11-06 20:28:03,615 - DEBUG - ---ASSVE04
2019-11-06 20:28:03,616 - DEBUG - ---Luego, se debe verificar que todos los web server queden detenidos, con el siguiente comando:
2019-11-06 20:28:03,617 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:28:03,618 - DEBUG - ---NOTA: No deben de aparecer trabajos en el subsistema, como aparece en la imagen, una vez los web server queden detenidos.
2019-11-06 20:28:03,619 - DEBUG - ---PTR activar servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:28:03,620 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:28:03,622 - DEBUG - ---4.1 Iniciar servicios
2019-11-06 20:28:03,626 - DEBUG - ---PASO 1 SUBIR SERVIDORES DE APLICACIONES:
2019-11-06 20:28:03,628 - DEBUG - ---Cuando comience a subir y se dé la señal, se deben iniciar los servidores de aplicaciones 
2019-11-06 20:28:03,629 - DEBUG - ---Comandos 
2019-11-06 20:28:03,631 - DEBUG - ---INICIAR SERVIDORES DE APLICACIONES:
2019-11-06 20:28:03,632 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:28:03,635 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:28:03,637 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:03,640 - DEBUG - ---ASADM01
2019-11-06 20:28:03,642 - DEBUG - ---ASADM02
2019-11-06 20:28:03,643 - DEBUG - ---ASADM03
2019-11-06 20:28:03,645 - DEBUG - ---ASADM04
2019-11-06 20:28:03,645 - DEBUG - ---ASADM05
2019-11-06 20:28:03,646 - DEBUG - ---ASADM06
2019-11-06 20:28:03,647 - DEBUG - ---ASALM01
2019-11-06 20:28:03,648 - DEBUG - ---ASALM02
2019-11-06 20:28:03,648 - DEBUG - ---ASBTS01
2019-11-06 20:28:03,649 - DEBUG - ---ASBTS02
2019-11-06 20:28:03,650 - DEBUG - ---ASCAN01
2019-11-06 20:28:03,650 - DEBUG - ---ASCAN02
2019-11-06 20:28:03,651 - DEBUG - ---ASCAN03
2019-11-06 20:28:03,652 - DEBUG - ---ASCAN04
2019-11-06 20:28:03,652 - DEBUG - ---ASMRP01
2019-11-06 20:28:03,653 - DEBUG - ---ASMRP02
2019-11-06 20:28:03,654 - DEBUG - ---ASPAC01
2019-11-06 20:28:03,655 - DEBUG - ---ASPAC02
2019-11-06 20:28:03,656 - DEBUG - ---ASRIN01
2019-11-06 20:28:03,658 - DEBUG - ---ASRIN02
2019-11-06 20:28:03,659 - DEBUG - ---ASRSA01
2019-11-06 20:28:03,660 - DEBUG - ---ASRSA02
2019-11-06 20:28:03,660 - DEBUG - ---ASTAC01
2019-11-06 20:28:03,661 - DEBUG - ---ASTAC02
2019-11-06 20:28:03,662 - DEBUG - ---ASWAP01
2019-11-06 20:28:03,663 - DEBUG - ---ASWAP02
2019-11-06 20:28:03,663 - DEBUG - ---ASWSE01
2019-11-06 20:28:03,664 - DEBUG - ---ASWSE02
2019-11-06 20:28:03,665 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:28:03,666 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:03,667 - DEBUG - ---ASAPP01
2019-11-06 20:28:03,668 - DEBUG - ---ASAPP02
2019-11-06 20:28:03,668 - DEBUG - ---ASAPP03
2019-11-06 20:28:03,669 - DEBUG - ---ASAPP04
2019-11-06 20:28:03,670 - DEBUG - ---ASSVP01
2019-11-06 20:28:03,670 - DEBUG - ---ASSVP02
2019-11-06 20:28:03,671 - DEBUG - ---ASSVP03
2019-11-06 20:28:03,672 - DEBUG - ---ASSVP04
2019-11-06 20:28:03,673 - DEBUG - ---ASSVE01
2019-11-06 20:28:03,673 - DEBUG - ---ASSVE02
2019-11-06 20:28:03,674 - DEBUG - ---ASSVE03
2019-11-06 20:28:03,675 - DEBUG - ---ASSVE04
2019-11-06 20:28:03,676 - DEBUG - ---Validar que las interfaces suban donde deben subir en WAS y WASNL (Luego de que se ejecute la activación por iSeries).
2019-11-06 20:28:03,677 - DEBUG - ---Validar que los app server suban bien
2019-11-06 20:28:03,678 - DEBUG - ---Revisar los logs para garantizar que los servidores subieron bien y no colgaron hebras o no subieron (validar errores o hebras colgadas “hung”).
2019-11-06 20:28:03,679 - DEBUG - ---Debe aparecer Mensaje: open for e-business
2019-11-06 20:28:03,680 - DEBUG - ---Hacer estas verificaciones en el orden de prioridad de la tabla que se encuentra al final del documento (PRIORIDAD DE LOS SERVICIOS)
2019-11-06 20:28:03,681 - DEBUG - ---Es necesario iniciar RSA primero para que sincronice los token con BOLE.
2019-11-06 20:28:03,682 - DEBUG - ---APLICACIONES
2019-11-06 20:28:03,683 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:03,684 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:03,685 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:03,687 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:03,690 - DEBUG - ---PASO 2 SUBIR QHTTPSVR (NO PROCEDER HASTA QUE SUBAN SERVICIOS EN ISERIES, QWAS8 y QWAS85 ARRIBA):
2019-11-06 20:28:03,692 - DEBUG - ---QHTTPSERVER - Luego de que hayan subido, mínimo los servidores de aplicaciones de SVE, SVP y APP (para no encolar)
2019-11-06 20:28:03,694 - DEBUG - ---Para subir los servidores web (HTTP server) se tiene el comando 
2019-11-06 20:28:03,696 - DEBUG - ---STRTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:28:03,697 - DEBUG - ---Validar con las pantallas tomadas inicialmente que si queden activos los que deben quedar. Los que no, detenerlos (4, F4)
2019-11-06 20:28:03,699 - DEBUG - ---IMPORTANTE: Revisar que no suba el IWADFT, APACHEDFT para que no cree conflicto con el puerto 80 para el web Server ADMWS21180.
2019-11-06 20:28:03,701 - DEBUG - ---PRIORIDAD DE LOS SERVICIOS
2019-11-06 20:28:03,703 - DEBUG - ---RSA
2019-11-06 20:28:03,704 - DEBUG - ---SVE
2019-11-06 20:28:03,705 - DEBUG - ---SVP
2019-11-06 20:28:03,706 - DEBUG - ---APP
2019-11-06 20:28:03,707 - DEBUG - ---FCN y PSE
2019-11-06 20:28:03,708 - DEBUG - ---WAP
2019-11-06 20:28:03,709 - DEBUG - ---RIN
2019-11-06 20:28:03,710 - DEBUG - ---PAC
2019-11-06 20:28:03,710 - DEBUG - ---TAC
2019-11-06 20:28:03,711 - DEBUG - ---PCC
2019-11-06 20:28:03,712 - DEBUG - ---SVS
2019-11-06 20:28:03,713 - DEBUG - ---Resto de servicios.
2019-11-06 20:28:03,714 - DEBUG - ---La documentación la encontramos en el archivo catalogo_WAS_iSeries.xlsx
2019-11-06 20:28:03,715 - INFO - Indexing file: Banistmo PTR_WAS SBBANBSM01V.docx
2019-11-06 20:28:03,727 - DEBUG - ---

2019-11-06 20:28:03,728 - DEBUG - ---Control de Versiones
2019-11-06 20:28:03,728 - DEBUG - ---

2019-11-06 20:28:03,729 - DEBUG - ---Nombre del PTR
2019-11-06 20:28:03,729 - DEBUG - ---Consideraciones previas
2019-11-06 20:28:03,730 - DEBUG - ---La máquina Windows inicia el servidor de aplicaciones por medio de un servicio, sin embargo, el servidor de aplicaciones tiene la seguridad habilitada y el controlador de dominio (LDAP) al que apunta es de Producción, el cual es diferente al DR.
2019-11-06 20:28:03,730 - DEBUG - ---Se deben ejecutar algunas acciones para modificar esta configuración. 
2019-11-06 20:28:03,731 - DEBUG - ---Descripción de las actividades
2019-11-06 20:28:03,731 - DEBUG - ---Terminar el servicio de WAS
2019-11-06 20:28:03,732 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:28:03,732 - DEBUG - ---Finalizar el servicio de WAS, si se intenta detener por medio del administrador de servicios este se quedará en el estado stopping.
2019-11-06 20:28:03,733 - DEBUG - ---Por lo tanto, es necesario terminar el proceso. Se abre el task manager, clic en Show process from all users.
2019-11-06 20:28:03,734 - DEBUG - ---Se buscan los procesos WASService.exe y java.exe y clic en End Process
2019-11-06 20:28:03,735 - DEBUG - ---Actualizar el controlador de dominio.
2019-11-06 20:28:03,735 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:28:03,735 - DEBUG - ---Sacar un respaldo del archivo security.xml
2019-11-06 20:28:03,736 - DEBUG - ---Editar el archivo security.xml ubicado en la ruta:
2019-11-06 20:28:03,736 - DEBUG - ---C:\IBM\WebSphere\AppServer\profiles\SMG3\config\cells\SBBANBSM01VNode02Cell\
2019-11-06 20:28:03,737 - DEBUG - ---Se debe reemplazar la IP 10.5.133.4 por 10.61.178.10
2019-11-06 20:28:03,738 - DEBUG - ---Iniciar los servicios de WAS
2019-11-06 20:28:03,738 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:28:03,739 - DEBUG - ---Iniciar el servicio IBM WebSphere Application Server V8.5 - SBBANBSM01VNode02
2019-11-06 20:28:03,740 - DEBUG - ---Ingresar a la consola administrativa para verificar que los servicios se encuentren iniciados. 
2019-11-06 20:28:03,741 - INFO - Indexing file: Paso a paso Start-Stop FATCA-jar.docx
2019-11-06 20:28:03,746 - DEBUG - ---PASO A PASO START-STOP FATCA - JAR
2019-11-06 20:28:03,747 - DEBUG - ---Inicio del aplicativo MonitorFATCA_JOB
2019-11-06 20:28:03,748 - DEBUG - ---Ejecución del aplicativo MonitorFATCA_JOB
2019-11-06 20:28:03,748 - DEBUG - ---Consideraciones
2019-11-06 20:28:03,749 - DEBUG - ---Ruta Base
2019-11-06 20:28:03,750 - DEBUG - ---

2019-11-06 20:28:03,750 - DEBUG - ---Para iniciar la aplicación se debe ejecutar el archivo .SH encargado de iniciar la aplicación. Para esto nos ubicamos en la ruta:
2019-11-06 20:28:03,750 - DEBUG - ---/nas/htsl-fat512/bin/
2019-11-06 20:28:03,751 - DEBUG - ---Luego, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:28:03,751 - DEBUG - ---./start_fatca.sh
2019-11-06 20:28:03,752 - DEBUG - ---Para validar si la aplicación JOB se está ejecutando, se puede ejecutar el siguiente comando en la consola:
2019-11-06 20:28:03,752 - DEBUG - ---ps -ef | grep co.com.tata.MonitorStartJob
2019-11-06 20:28:03,753 - DEBUG - ---Si no se está ejecutando el aplicativo, se muestra un mensaje parecido al siguiente:
2019-11-06 20:28:03,755 - DEBUG - ---Si el programa está arriba, se debe ver un mensaje parecido al siguiente:
2019-11-06 20:28:03,757 - DEBUG - ---

2019-11-06 20:28:03,758 - DEBUG - ---Detener el aplicativo MonitorFATCA_JOB
2019-11-06 20:28:03,759 - DEBUG - ---Datos varios
2019-11-06 20:28:03,761 - DEBUG - ---Para detener el aplicativo FATCA_JOB.jar, debemos ingresar a la ruta:
2019-11-06 20:28:03,762 - DEBUG - ---/nas/htsl-fat512/bin/flag/
2019-11-06 20:28:03,763 - DEBUG - ---En esta ruta, se debe encontrar el archivo KILLME.txt. 
2019-11-06 20:28:03,764 - DEBUG - ---Este archivo debe ser eliminado por completo del FileSystem.
2019-11-06 20:28:03,766 - DEBUG - ---Para eliminar el archivo, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:28:03,767 - DEBUG - ---rm KILLME.txt
2019-11-06 20:28:03,768 - DEBUG - ---Debemos esperar al menos 2 minutos mientras el programa cierra todos los hilos de ejecución que se encuentren arriba.
2019-11-06 20:28:03,769 - DEBUG - ---Contacto: Diana Lopez Parra (dilparr@bancolombia.com.co)
2019-11-06 20:28:03,769 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:28:03,789 - DEBUG - ---Manual de Operaciones
2019-11-06 20:28:03,790 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:28:03,796 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:28:03,805 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:28:03,809 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:28:03,810 - DEBUG - ---DESARROLLO
2019-11-06 20:28:03,812 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:03,813 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,815 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:03,816 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:03,817 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:03,818 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:03,820 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:03,823 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:03,825 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,828 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:03,830 - DEBUG - ---

2019-11-06 20:28:03,831 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:28:03,832 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:03,834 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,837 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:03,838 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:03,839 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:03,841 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:03,842 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:03,845 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:03,847 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,850 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:03,851 - DEBUG - ---

2019-11-06 20:28:03,853 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:28:03,854 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:03,857 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:28:03,860 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:03,861 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:28:03,863 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:03,864 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:28:03,866 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:03,882 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:03,886 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,889 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:03,893 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:28:03,894 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:03,896 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,898 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:03,899 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:03,900 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:03,901 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:03,902 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:03,902 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:03,903 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:03,904 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:03,905 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:03,906 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:03,907 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:03,908 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:03,909 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:28:03,910 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:28:03,912 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:28:03,913 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:03,916 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:03,918 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,920 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:03,921 - DEBUG - ---

2019-11-06 20:28:03,923 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:28:03,924 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:03,926 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,929 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:03,930 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:03,930 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:03,931 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:03,933 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:03,933 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:03,934 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:03,935 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:03,936 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:28:03,937 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:28:03,939 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:28:03,940 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:03,943 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:03,945 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:03,948 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:03,950 - DEBUG - ---

2019-11-06 20:28:03,951 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:28:03,952 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:28:03,953 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:28:03,954 - DEBUG - ---AW0939
2019-11-06 20:28:03,955 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:28:03,956 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:28:03,957 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:28:03,958 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:28:03,959 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:28:03,961 - DEBUG - ---PASOS
2019-11-06 20:28:03,962 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:28:03,964 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:28:03,967 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:28:03,969 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:28:03,972 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:28:03,982 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:28:03,985 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:28:03,986 - DEBUG - ---

2019-11-06 20:28:03,988 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:28:03,992 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:28:03,995 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:28:03,997 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:28:03,999 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:28:04,002 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:28:04,003 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER1.docx
2019-11-06 20:28:04,009 - DEBUG - ---Procedimiento para el reinicio CLUSTER1 Ventas Digitales Produccion
2019-11-06 20:28:04,010 - DEBUG - ---Cuando soliciten reinicio del CLUSTER1, Se deben ejecutar las siguientes actividades:
2019-11-06 20:28:04,010 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:28:04,011 - DEBUG - ---Detener  los APPSERVERs del CLUSTER1 
2019-11-06 20:28:04,011 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:28:04,012 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:04,012 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:04,013 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:04,013 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:04,014 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:04,014 - DEBUG - ---disableAllApps()
2019-11-06 20:28:04,014 - DEBUG - ---save()
2019-11-06 20:28:04,015 - DEBUG - ---Subir los APPSERVERs del CLUSTER1
2019-11-06 20:28:04,015 - DEBUG - ---Subir la aplicacion
2019-11-06 20:28:04,016 - DEBUG - ---AW1128001_VTDAPI_COMMONMensajesError
2019-11-06 20:28:04,016 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:28:04,017 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:28:04,017 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:04,018 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:04,018 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:04,019 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:04,019 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:04,019 - DEBUG - ---enableAllApps()
2019-11-06 20:28:04,020 - DEBUG - ---save()
2019-11-06 20:28:04,020 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER2.docx
2019-11-06 20:28:04,028 - DEBUG - ---Procedimiento para el reinicio CLUSTER2 Ventas Digitales Produccion
2019-11-06 20:28:04,028 - DEBUG - ---Cuando soliciten reinicio del CLUSTER2, Se deben ejecutar las siguientes actividades:
2019-11-06 20:28:04,029 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:28:04,029 - DEBUG - ---Detener  los APPSERVERs del CLUSTER2
2019-11-06 20:28:04,030 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:28:04,031 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:04,032 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:04,032 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:04,033 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:04,034 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:04,035 - DEBUG - ---disableAllApps()
2019-11-06 20:28:04,036 - DEBUG - ---save()
2019-11-06 20:28:04,036 - DEBUG - ---Subir los APPSERVERs del CLUSTER2
2019-11-06 20:28:04,037 - DEBUG - ---Subir la aplicacion
2019-11-06 20:28:04,038 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:28:04,038 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:28:04,039 - DEBUG - ---AW0937001_VTDFrontAutenticacion
2019-11-06 20:28:04,042 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:28:04,043 - DEBUG - ---PMO27262_API_PreaprobadoTDC
2019-11-06 20:28:04,044 - DEBUG - ---PMO27262_API_InfoUsuario
2019-11-06 20:28:04,046 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:28:04,047 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:28:04,048 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:04,049 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:04,050 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:04,052 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:04,053 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:04,054 - DEBUG - ---enableAllApps()
2019-11-06 20:28:04,055 - DEBUG - ---save()
2019-11-06 20:28:04,055 - INFO - Indexing file: TD_Arquitectura_Ventas_Digitales_v1.1.docx
2019-11-06 20:28:04,110 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:28:04,111 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:28:04,116 - DEBUG - ---Reto 3 – Ventas Digitales
2019-11-06 20:28:04,117 - DEBUG - ---PMO25445
2019-11-06 20:28:04,130 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:04,133 - DEBUG - ---Control del Documento	3
2019-11-06 20:28:04,134 - DEBUG - ---Referencias	4
2019-11-06 20:28:04,135 - DEBUG - ---1.	Contextualización y Alcance de la Solución	5
2019-11-06 20:28:04,136 - DEBUG - ---2.	Vista funcional de la solución	7
2019-11-06 20:28:04,136 - DEBUG - ---2.1.	Componentes de la solución y relaciones de uso	7
2019-11-06 20:28:04,137 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito	8
2019-11-06 20:28:04,138 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión	9
2019-11-06 20:28:04,139 - DEBUG - ---Release 3 – Créditos Online (Motor)	10
2019-11-06 20:28:04,140 - DEBUG - ---2.1.1.	Detalle de componentes involucrados en Reportería (Visualización)	11
2019-11-06 20:28:04,141 - DEBUG - ---2.1.2.	Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos	13
2019-11-06 20:28:04,142 - DEBUG - ---2.1.3.	Detalle de componentes involucrados en la solución para Precalculados	14
2019-11-06 20:28:04,143 - DEBUG - ---2.1.4.	Descomposición funcional	15
2019-11-06 20:28:04,144 - DEBUG - ---2.1.5.	Validación con Expertos de la VSTI	20
2019-11-06 20:28:04,144 - DEBUG - ---2.2.	Interacción de Componentes	20
2019-11-06 20:28:04,145 - DEBUG - ---2.3.	Interfaces de la solución	25
2019-11-06 20:28:04,146 - DEBUG - ---3.	Vista física de la solución	25
2019-11-06 20:28:04,147 - DEBUG - ---3.1.	Diagrama de componentes técnicos	25
2019-11-06 20:28:04,148 - DEBUG - ---3.2.	Continuidad Tecnológica	27
2019-11-06 20:28:04,149 - DEBUG - ---3.2.1.	Esquema de Disponibilidad Local	27
2019-11-06 20:28:04,150 - DEBUG - ---3.2.2.	Esquema de Disponibilidad Remota	28
2019-11-06 20:28:04,151 - DEBUG - ---3.3.	Monitoreo de la solución	28
2019-11-06 20:28:04,151 - DEBUG - ---4.	Decisiones de Arquitectura	29
2019-11-06 20:28:04,158 - DEBUG - ---	
2019-11-06 20:28:04,159 - DEBUG - ---
Control del Documento
2019-11-06 20:28:04,162 - DEBUG - ---

2019-11-06 20:28:04,163 - DEBUG - ---Referencias
2019-11-06 20:28:04,165 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:28:04,168 - DEBUG - ---

2019-11-06 20:28:04,169 - DEBUG - ---Contextualización y Alcance de la Solución
2019-11-06 20:28:04,170 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:28:04,173 - DEBUG - ---El tercer reto que se afrontará dentro del programa será el de Ventas Digitales, el cual en su primera fase, tiene el siguiente alcance:
2019-11-06 20:28:04,176 - DEBUG - ---Con este reto se pretende darle solución a dos necesidades macro que actualmente tiene el banco:
2019-11-06 20:28:04,178 - DEBUG - ---Crear un nuevo portal de ventas digitales que habilite una experiencia de usuario enriquecedora a nuestros clientes.
2019-11-06 20:28:04,179 - DEBUG - ---Habilitar el portal para ventas que sean 100% en línea, en donde nuestros clientes disfruten de una experiencia de principio a fin sin necesidad de desplazarse a una sucursal física.  
2019-11-06 20:28:04,180 - DEBUG - ---El presente documento contempla el siguiente alcance:
2019-11-06 20:28:04,183 - DEBUG - ---El alcance adicional se realizará de manera incremental e iterativa.
2019-11-06 20:28:04,198 - DEBUG - ---Nota aclaratoria: como decisión del proyecto, no se va a realizar la migración de las actuales pantallas de solicitud de productos (seguros, tarjeta de crédito y libre inversión) que existen en Bancolombia a un Clic.
2019-11-06 20:28:04,201 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:28:04,202 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:28:04,204 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso de acuerdo con los requisitos de negocio planteados para la solución
2019-11-06 20:28:04,206 - DEBUG - ---

2019-11-06 20:28:04,208 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito
2019-11-06 20:28:04,213 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión
2019-11-06 20:28:04,215 - DEBUG - ---Release 3 – Créditos Online (Motor)
2019-11-06 20:28:04,218 - DEBUG - ---A continuación se detallan por medio de diagramas de componentes algunas funcionalidades que se tienen en la solución:
2019-11-06 20:28:04,219 - DEBUG - ---Detalle de componentes involucrados en Reportería (Visualización)
2019-11-06 20:28:04,221 - DEBUG - ---Los siguientes diagramas muestran la solución objetivo y transitoria para la visualización de la información de la base de datos de ventas digitales. 
2019-11-06 20:28:04,223 - DEBUG - ---Se hace necesario un modelo transitorio debido a que en Bancolombia aun no contamos con la herramienta Flume con gobierno desde TI. Esto se espera suceda en la segunda mitad del 2018.
2019-11-06 20:28:04,227 - DEBUG - ---Objetivo: en esta solución se transportará la información desde la base de datos de ventas digitales directamente hacia la LZ, esto a través de unos procesos micro-batch con la herramienta Flume. 
2019-11-06 20:28:04,228 - DEBUG - ---La explotación de la información se puede hacer directamente en la LZ con alguna de sus herramientas o a través de SAS o SAS Web Report Studio.
2019-11-06 20:28:04,231 - DEBUG - ---Transitorio: en esta solución se hace necesario involucrar una base de datos intermedia que servirá para ir descargando la información (cada hora aproximadamente) y mediante un proceso batch se llevará el histórico a la LZ. 
2019-11-06 20:28:04,232 - DEBUG - ---La explotación de la información se realizará mediante las herramientas propias de la LZ, SAS, Modeler o para algunos usuarios que no cuentan con skill o licencia se construirá un reporte en SAP BO.
2019-11-06 20:28:04,235 - DEBUG - ---

2019-11-06 20:28:04,236 - DEBUG - ---Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos
2019-11-06 20:28:04,237 - DEBUG - ---Al ser una solución nueva para Bancolombia, el siguiente diagrama muestra los componentes involucrados en la solución para la administración de tasas para créditos.
2019-11-06 20:28:04,241 - DEBUG - ---

2019-11-06 20:28:04,242 - DEBUG - ---Detalle de componentes involucrados en la solución para Precalculados
2019-11-06 20:28:04,243 - DEBUG - ---El siguiente diagrama muestra los componentes involucrados en la solución de precalculados desde que se generan los preaprobados hasta que quedan disponibles para ser consultados o actualizados vía capa de integración.
2019-11-06 20:28:04,246 - DEBUG - ---

2019-11-06 20:28:04,248 - DEBUG - ---Descomposición funcional
2019-11-06 20:28:04,249 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:28:04,254 - DEBUG - ---Validación con Expertos de la VSTI
2019-11-06 20:28:04,258 - DEBUG - ---Interacción de Componentes 
2019-11-06 20:28:04,260 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:28:04,261 - DEBUG - ---

2019-11-06 20:28:04,262 - DEBUG - ---Autenticación de clientes
2019-11-06 20:28:04,264 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la autenticación de los clientes dentro del portal de ventas digitales. Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:28:04,266 - DEBUG - ---Consulta de preaprobados
2019-11-06 20:28:04,268 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la consulta de los productos preaprobados de un cliente por cualquiera de los canales habilitados (SVP, APP y Portal de Ventas).
2019-11-06 20:28:04,270 - DEBUG - ---Carga de preaprobados
2019-11-06 20:28:04,272 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la carga de la base de datos transaccional de precalculados.
2019-11-06 20:28:04,276 - DEBUG - ---Venta de preaprobados TDC
2019-11-06 20:28:04,277 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes cuando se vende un producto preaprobado de Tarjeta de Crédito.
2019-11-06 20:28:04,280 - DEBUG - ---Replicar Información Solicitudes
2019-11-06 20:28:04,282 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para la replicación de la información de solicitudes desde la base de datos en IBM Bluemix hasta la base de datos intermedia y su posterior histórico en la LZ.
2019-11-06 20:28:04,283 - DEBUG - ---Nota: la periodicidad de ejecución de este proceso se propone sea cada hora de 6 a.m. a 6 p.m.
2019-11-06 20:28:04,285 - DEBUG - ---SSO entre canales
2019-11-06 20:28:04,286 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar el single sign on de un cliente desde la SVP/APP hacia el portal de ventas.3 Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:28:04,290 - DEBUG - ---Venta de preaprobados de Libre Inversión y CrediAgil
2019-11-06 20:28:04,292 - DEBUG - ---Venta de créditos con aprobación en línea.
2019-11-06 20:28:04,294 - DEBUG - ---Interfaces de la solución
2019-11-06 20:28:04,296 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:28:04,297 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:28:04,299 - DEBUG - ---<Enlace>
2019-11-06 20:28:04,300 - DEBUG - ---Vista física de la solución  
2019-11-06 20:28:04,302 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:28:04,304 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:28:04,305 - DEBUG - --- 
2019-11-06 20:28:04,307 - DEBUG - ---

2019-11-06 20:28:04,318 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:28:04,320 - DEBUG - ---En esta sección se muestra el diseño de los esquemas de disponibilidad local y remota desde la perspectiva de la necesidad de la solución y únicamente para componentes nuevos dentro de la arquitectura del banco. Los componentes existentes ya cuentan con su esquema de continuidad definido.
2019-11-06 20:28:04,321 - DEBUG - --- Esquema de Disponibilidad Local
2019-11-06 20:28:04,325 - DEBUG - ---Aplicación Administración de Tasas para Créditos
2019-11-06 20:28:04,328 - DEBUG - ---Base de datos de Preaprobados
2019-11-06 20:28:04,332 - DEBUG - ---Autenticación, manejo de sesión y Tx de consulta de preaprobados para la SVP
2019-11-06 20:28:04,334 - DEBUG - ---Esquema de Disponibilidad Remota
2019-11-06 20:28:04,335 - DEBUG - ---De acuerdo a la definición entregada por Riesgos y Continuidad del negocio en donde se indica que el Portal de Ventas al ser un canal alterno no está incluido en el BIA y por lo tanto no se requiere tener un esquema de disponibilidad remota (DR).
2019-11-06 20:28:04,337 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:28:04,340 - DEBUG - ---A continuación se describen de manera general, el monitoreo que deben tener los componentes que son nuevos dentro de la solución y que se encuentren en infraestructura nueva.
2019-11-06 20:28:04,342 - DEBUG - ---   
2019-11-06 20:28:04,344 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:28:04,346 - INFO - Indexing file: acceso.txt
2019-11-06 20:28:04,347 - DEBUG - ---Softlayer (Abrir con el internet explorer)
https://vpn.hou02.softlayer.com
Usuario:   ejbetanc     password:  Y6W6iY2&
Usuario : vcardona / Vcardona123*

Url consola was producción
https://10.121.219.153:10001/ibm/console/logon.jsp
user: 
wasadminb1    
pass:  
wasadminb1//* 


SSH
10.121.219.153
10.77.251.216

wasadmin
B1CAdminWAS
2019-11-06 20:28:04,348 - INFO - Indexing file: Procedimiento reinicio CLUSTER2 Ventas Digitales Produccion.docx
2019-11-06 20:28:04,353 - DEBUG - ---Instructivo para realizar reinicio CLUSTER2 de ventas Digitales
2019-11-06 20:28:04,354 - DEBUG - ---Detener las aplicaciones, para ello desde la consola WAS ir a la ruta Applications - Application Types - WebSphere enterprise applications y buscar las aplicaciones 
2019-11-06 20:28:04,355 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:28:04,356 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:28:04,356 - DEBUG - ---El Cluser2 está compuesto por los APPSERVER ASPDNB1C03 y ASPDNB1C04, para continuar con el proceso de reinicio se debe detener  primero el APPSERVER ASPDNB1C03
2019-11-06 20:28:04,358 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:28:04,360 - DEBUG - ---En el servidor 10.73.29.83 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:28:04,362 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C03 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:28:04,367 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C03
2019-11-06 20:28:04,369 - DEBUG - ---Despues de validar que suba el APPSERVER ASPDNB1C03, se procede a detener el APPSERVER ASPDNB1C04
2019-11-06 20:28:04,372 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:28:04,374 - DEBUG - ---En el servidor 10.170.187.21 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:28:04,375 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C04 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:28:04,376 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C04
2019-11-06 20:28:04,377 - INFO - Indexing file: TD_Arquitectura_Mercado_Libre_Divisas_Personas_v1.3.docx
2019-11-06 20:28:04,423 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:28:04,425 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:28:04,428 - DEBUG - ---Reto Mercado Libre de Divisas
2019-11-06 20:28:04,431 - DEBUG - ---	
2019-11-06 20:28:04,433 - DEBUG - ---

2019-11-06 20:28:04,434 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:04,436 - DEBUG - ---
Control del Documento
2019-11-06 20:28:04,439 - DEBUG - ---

2019-11-06 20:28:04,442 - DEBUG - ---Referencias
2019-11-06 20:28:04,444 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:28:04,446 - DEBUG - ---

2019-11-06 20:28:04,447 - DEBUG - ---Contextualización de la Solución
2019-11-06 20:28:04,448 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:28:04,450 - DEBUG - ---El primer reto que se afrontará dentro del programa será el de Mercado Libre de Divisas, el cual pretende digitalizar a través de la SVP el proceso de compra y venta de divisas (solo formulario cambiario cinco) para personas naturales y pymes, este proceso comúnmente llamado envío y recepción de giros interbancarios a hoy se realiza personalmente a través de la sucursal física o de la mesa de dinero (telefónicamente). A continuación se presenta un diagrama conceptual que ilustra a alto nivel el proceso actual desde el punto de vista del cliente:
2019-11-06 20:28:04,452 - DEBUG - ---Con la digitalización de este proceso se pretende darle solución básicamente a dos aspectos:
2019-11-06 20:28:04,453 - DEBUG - ---Necesidad de desplazamiento a la sucursal física y la firma de declaraciones de cambio: actualmente, independiente del canal de negociación, para realizar el cumplimiento de la operación, el cliente se debe desplazar hasta la sucursal y radicar los documentos declaración de cambio y carta de instrucciones.
2019-11-06 20:28:04,454 - DEBUG - ---Alta congestión de mesa de dinero: a hoy un alto porcentaje de las operaciones entran directamente a la mesa, bien sea porque los clientes se sienten mejor asesorados o porque desde las oficinas, por desconocimiento, los remiten a la mesa, ocasionando así que se pierdan muchas veces mejores negocios por lo tiempos de espera en la mesa.
2019-11-06 20:28:04,458 - DEBUG - ---Alcance de la solución
2019-11-06 20:28:04,460 - DEBUG - ---La presente solución tiene como alcance los siguientes aspectos:
2019-11-06 20:28:04,461 - DEBUG - ---Consulta de histórico de transferencias internacionales recibidas.
2019-11-06 20:28:04,462 - DEBUG - ---Transacción de recepción manual de transferencias internacionales por la SVP, con abono a cuenta de ahorros o corriente.
2019-11-06 20:28:04,463 - DEBUG - ---Administración de la inscripción al servicio de abono automático para las transferencias internacionales recibidas.
2019-11-06 20:28:04,464 - DEBUG - ---Modificación de rutina de abono automático con beneficio de tasa digital.
2019-11-06 20:28:04,465 - DEBUG - ---Consulta de condiciones de negociación y tasa digital.
2019-11-06 20:28:04,466 - DEBUG - ---Alertas de recepción de transferencias internacionales.
2019-11-06 20:28:04,467 - DEBUG - ---Inscripción y administración de cuentas en el exterior.
2019-11-06 20:28:04,468 - DEBUG - ---Transacción de envío de transferencias internacionales por la SVP, con debito a cuenta ahorros o corriente.
2019-11-06 20:28:04,469 - DEBUG - ---Alertas de recibo y envío de transferencias internacionales.
2019-11-06 20:28:04,470 - DEBUG - ---Relación de la solución con otras Iniciativas 
2019-11-06 20:28:04,472 - DEBUG - ---Restricciones
2019-11-06 20:28:04,474 - DEBUG - ---Las siguientes son las restricciones de negocio y técnicas consideradas en el diseño de la arquitectura de la solución:   
2019-11-06 20:28:04,476 - DEBUG - ---

2019-11-06 20:28:04,477 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:28:04,479 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:28:04,480 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso a un alto nivel de acuerdo con los requisitos de negocio planteados para la solución.
2019-11-06 20:28:04,482 - DEBUG - ---

2019-11-06 20:28:04,484 - DEBUG - ---Actores de la solución
2019-11-06 20:28:04,485 - DEBUG - ---Se relacionan los actores que interactúan con la solución y su descripción desde la perspectiva del rol que desempeña:
2019-11-06 20:28:04,487 - DEBUG - ---  Puntos de acceso   
2019-11-06 20:28:04,488 - DEBUG - ---Los medios a través de los cuales los actores acceden a las funcionalidades de la solución son relacionados en la siguiente tabla:
2019-11-06 20:28:04,491 - DEBUG - ---   
2019-11-06 20:28:04,492 - DEBUG - ---Descomposición funcional
2019-11-06 20:28:04,494 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, su estado y quien es el dueño de dicho elemento, al igual que la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:28:04,496 - DEBUG - ---Requisitos Técnicos (RT)
2019-11-06 20:28:04,497 - DEBUG - ---Para la presente solución no se requiere de requisitos técnicos adicionales a los planteados en las responsabilidades de cada uno de los componentes y en las historias de usuario creadas por los usuarios.
2019-11-06 20:28:04,499 - DEBUG - ---Interacción de Componentes (Escenarios de uso de la solución)
2019-11-06 20:28:04,500 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:28:04,501 - DEBUG - ---

2019-11-06 20:28:04,502 - DEBUG - ---Gestión Abono Automático
2019-11-06 20:28:04,503 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario  de gestión de abono automático (inscripción, modificación y retiro) y la interacción entre ellos: 
2019-11-06 20:28:04,505 - DEBUG - ---Transferencias recibidas desde el exterior
2019-11-06 20:28:04,507 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de recepción manual de una transferencia desde el exterior y la interacción entre ellos: 
2019-11-06 20:28:04,510 - DEBUG - ---Abono Automático
2019-11-06 20:28:04,511 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de la ejecución de la rutina de abono automático y la interacción entre ellos: 
2019-11-06 20:28:04,514 - DEBUG - ---Notificaciones desde CIB
2019-11-06 20:28:04,515 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para la migración de notificaciones de Faxmail a Alertas y Notificaciones: 
2019-11-06 20:28:04,517 - DEBUG - ---Transferencias hacia el exterior
2019-11-06 20:28:04,518 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para inscripción de cuentas y transferencias hacia el exterior: 
2019-11-06 20:28:04,519 - DEBUG - ---	
2019-11-06 20:28:04,520 - DEBUG - ---Consulta de Tasa
2019-11-06 20:28:04,522 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario para la consulta de tasa digital y la interacción entre ellos: 
2019-11-06 20:28:04,525 - DEBUG - ---Interfaces de la solución
2019-11-06 20:28:04,526 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:28:04,528 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:28:04,530 - DEBUG - ---Visualización y accesos 
2019-11-06 20:28:04,531 - DEBUG - ---Se presentan los principales reportes/informes o punto de acceso a la información, que se crean o se modifican de forma relevante en la solución:
2019-11-06 20:28:04,533 - DEBUG - ---Para obtener mayor información sobre los tipos de reportes y las herramientas corporativas para su implementación, puede referirse a la 
2019-11-06 20:28:04,534 - DEBUG - ---   
2019-11-06 20:28:04,534 - DEBUG - ---

2019-11-06 20:28:04,535 - DEBUG - ---Vista física de la solución  
2019-11-06 20:28:04,536 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:28:04,538 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:28:04,541 - DEBUG - ---

2019-11-06 20:28:04,543 - DEBUG - ---Cuadro resumen de componentes técnicos
2019-11-06 20:28:04,544 - DEBUG - ---Se ubican los componentes en capas  y se  relaciona  la información técnica asociada a cada componente, tipo,  plataforma, sistema operativo, tecnologías y ubicación geográfica:
2019-11-06 20:28:04,546 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:28:04,547 - DEBUG - ---En esta seacción se muestra el diseño de la contingencia local y remota para los siguientes componentes de infraestructura nuevos de la solución:
2019-11-06 20:28:04,548 - DEBUG - ---Front Mercado Libre
2019-11-06 20:28:04,549 - DEBUG - ---Los demás componentes de infraestructura son los existentes, por lo tanto la alta disponibilidad, contingencia remota, monitoreo y ambientes de ejecución serán los mismos que a hoy se tienen definidos.
2019-11-06 20:28:04,550 - DEBUG - --- Alta Disponibilidad  (High Availability- HA)
2019-11-06 20:28:04,552 - DEBUG - ---La alta disponibilidad se puede ver en la sección 5.6 del presente documento.
2019-11-06 20:28:04,553 - DEBUG - ---Contingencia Remota (Disaster Recovery - DR)
2019-11-06 20:28:04,554 - DEBUG - ---La contingencia remota es la misma que existe actualmente para la infraestructura de WAS de la SVP, a continuación una imagen que detalla el tema:
2019-11-06 20:28:04,557 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:28:04,559 - DEBUG - ---Se debe implementar el mismo esquema de monitoreo que a hoy se tiene para los desarrollos de la SVP y el Framework Transaccional. Adicionalmente se deberán implementar mecanismos de monitoreo para garantizar que la aplicación del nuevo front este arriba, monitoreando el link y garantizando que la respuesta http sea correcta.
2019-11-06 20:28:04,561 - DEBUG - ---Ambientes de Ejecución
2019-11-06 20:28:04,562 - DEBUG - ---Se tendrán los siguientes ambientes para la solución:
2019-11-06 20:28:04,563 - DEBUG - ---Desarrollo
2019-11-06 20:28:04,564 - DEBUG - ---El ambiente de desarrollo será utilizando la infraestructura actual que tiene la SVP, para tal motivo se creará un nuevo servidor de aplicaciones para los desarrollos del front y otro servidor de aplicaciones para los desarrollos comunes del framework transaccional.
2019-11-06 20:28:04,566 - DEBUG - ---Certificación
2019-11-06 20:28:04,567 - DEBUG - ---El ambiente de certificación será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán dos nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros dos servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:28:04,570 - DEBUG - ---Producción
2019-11-06 20:28:04,571 - DEBUG - ---El ambiente de producción será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán cuatro nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros cuatro servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:28:04,577 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:28:04,578 - DEBUG - ---Las decisiones aplicativas, técnicas, de información y seguridad más relevantes con respecto a diversos aspectos de la arquitectura son relacionadas a continuación:
2019-11-06 20:28:04,580 - DEBUG - --- Riesgos y/o Alertas
2019-11-06 20:28:04,581 - DEBUG - ---En la siguiente tabla se relacionan los puntos relevantes generados a partir del diseño y de interés para certificación, desarrollo, gestión de la demanda e infraestructura: 
2019-11-06 20:28:04,583 - DEBUG - --- Estándares y definiciones
2019-11-06 20:28:04,584 - DEBUG - ---Se relacionan los estándares y definiciones que se consideraron para la elaboración del diseño de la arquitectura de la solución:
2019-11-06 20:28:04,585 - DEBUG - ---   
2019-11-06 20:28:04,586 - INFO - Indexing file: Tips OC 2154091.docx
2019-11-06 20:28:04,595 - DEBUG - ---Ejecucion OC 2154091
2019-11-06 20:28:04,596 - DEBUG - ----Se requiere subir archivo de monitoreo para ventas tajeta de credito y libre inversión
2019-11-06 20:28:04,596 - DEBUG - ---Solución:
2019-11-06 20:28:04,597 - DEBUG - ----Actualizar los siguientes war:
2019-11-06 20:28:04,597 - DEBUG - ---VIEW.Dashboard
2019-11-06 20:28:04,597 - DEBUG - ---VIEW.Tarjeta
2019-11-06 20:28:04,598 - DEBUG - ---VIEW.Creditos
2019-11-06 20:28:04,598 - DEBUG - ---Las aplicaciones a actualizar están desplegadas en el WAS CLUSTER2 apuntando a los IHS de Acceso digital y tienen los siguientes nombres:
2019-11-06 20:28:04,599 - DEBUG - ---PMO27262_VIEW_Dashboard
2019-11-06 20:28:04,599 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:28:04,599 - DEBUG - ---PMO27262_VIEW_Creditos
2019-11-06 20:28:04,600 - DEBUG - ---Una vez instales, reincias el CLUSTER2 para no generar afectación del servicio
2019-11-06 20:28:04,601 - DEBUG - ---Accesos de produccion
2019-11-06 20:28:04,602 - DEBUG - ---Softlayer (Abrir con el internet explorer)
2019-11-06 20:28:04,603 - DEBUG - ---Usuario:   ejbetanc     password:  Y6W6iY2&
2019-11-06 20:28:04,603 - DEBUG - ---Usuario : vcardona / Vcardona123*
2019-11-06 20:28:04,604 - DEBUG - ---Url consola was producción
2019-11-06 20:28:04,605 - DEBUG - ---user: 
2019-11-06 20:28:04,605 - DEBUG - ---wasadminb1    
2019-11-06 20:28:04,607 - DEBUG - ---pass:  
2019-11-06 20:28:04,608 - DEBUG - ---wasadminb1//* 
2019-11-06 20:28:04,609 - DEBUG - ---SSH
2019-11-06 20:28:04,609 - DEBUG - ---10.121.219.153
2019-11-06 20:28:04,610 - DEBUG - ---10.77.251.216
2019-11-06 20:28:04,610 - DEBUG - ---wasadmin
2019-11-06 20:28:04,611 - DEBUG - ---B1CAdminWAS
2019-11-06 20:28:04,611 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-06 20:28:04,701 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:28:04,703 - DEBUG - ---(PLATAFORMAS CENTRALES DE INTEGRACION)
2019-11-06 20:28:04,707 - DEBUG - ---Versión 1.0 
2019-11-06 20:28:04,708 - DEBUG - ---SVE, Facturanet, PSE
2019-11-06 20:28:04,711 - DEBUG - ---PMO17969
2019-11-06 20:28:04,713 - DEBUG - ---

2019-11-06 20:28:04,714 - DEBUG - ---Control del Documento
2019-11-06 20:28:04,717 - DEBUG - ---

2019-11-06 20:28:04,718 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:04,721 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:28:04,723 - DEBUG - ---Descripción detallada del diseño en la plataformac
2019-11-06 20:28:04,724 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:28:04,725 - DEBUG - --- 
2019-11-06 20:28:04,738 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:28:04,739 - DEBUG - ---(Telecomunicaciones, plataformas centrales, bases de datos, Distribuidas, monitoreo)
2019-11-06 20:28:04,740 - DEBUG - ---Diagrama que contiene cada uno de los componentes de tecnología y su relación (hardware y software) 
2019-11-06 20:28:04,742 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:04,743 - DEBUG - ---AMBIENTE DE PRODUCCIÓN
2019-11-06 20:28:04,746 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:28:04,750 - DEBUG - ---AMBIENTE DE DESARROLLO
2019-11-06 20:28:04,755 - DEBUG - ---(Información de  Configuraciones especificas, reglas, direccionamiento, VLANs, 
2019-11-06 20:28:04,757 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:04,758 - DEBUG - ---A nivel de Servidor de aplicaciones WAS
2019-11-06 20:28:04,771 - DEBUG - ---Seguridad a Nivel de Sistema Operativo
2019-11-06 20:28:04,773 - DEBUG - ---Seguridad a Nivel de Datos
2019-11-06 20:28:04,776 - DEBUG - ---Esquema de depuración de la base de datos
2019-11-06 20:28:04,777 - DEBUG - ---Ambiente de Producción
2019-11-06 20:28:04,778 - DEBUG - ---Ambiente de Certificación
2019-11-06 20:28:04,779 - DEBUG - ---Ambiente de Integración
2019-11-06 20:28:04,781 - DEBUG - ---Servidores de Producción
2019-11-06 20:28:04,782 - DEBUG - ---Servidores Certificación:
2019-11-06 20:28:04,784 - DEBUG - ---Servidores Desarrollo:
2019-11-06 20:28:04,786 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:28:04,786 - DEBUG - ---(Recomendaciones y procedimientos adicionales para la Implementación, soporte)
2019-11-06 20:28:04,787 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:04,790 - DEBUG - ---  
2019-11-06 20:28:04,793 - DEBUG - ---(Incluir desde la plataforma específica,  una lista de pasos recomendados para verificar el estado de la solución  y plasmarlo en  un diagrama  de flujo de decisión en cada paso mencionado)
2019-11-06 20:28:04,794 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:04,796 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:04,797 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:28:04,798 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación. 
2019-11-06 20:28:04,799 - DEBUG - ---Comprobar el estado del servidor web que recibe las peticiones para la aplicación.
2019-11-06 20:28:04,801 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones y del web server. 
2019-11-06 20:28:04,802 - DEBUG - ---  
2019-11-06 20:28:04,803 - DEBUG - ---Liste los  tipos de contingencia que tiene el servicio (de aplicación, de modo de operación, de infraestructura, etc)
2019-11-06 20:28:04,804 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:28:04,806 - DEBUG - ---Entrega el área que proporciona la contingencia
2019-11-06 20:28:04,809 - DEBUG - ---Los  procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:04,810 - DEBUG - ---Plataforma WAS
2019-11-06 20:28:04,812 - DEBUG - ---El servidor de aplicaciones cuenta con un esquema de disponibilidad ACTIVO/PASIVO; de esta manera la aplicación está disponible en uno de los servidores y tiene el otro como respaldo.
2019-11-06 20:28:04,813 - DEBUG - ---La plataforma también cuenta con DRP.
2019-11-06 20:28:04,815 - DEBUG - ---  
2019-11-06 20:28:04,816 - DEBUG - ---Errores funcionales del servicio, Errores Técnicos de aplicación, Errores de la Infraestructura, Errores en  Plataformas Centrales , Errores en  Plataformas Distribuidas, Errores en  Telecomunicaciones
2019-11-06 20:28:04,817 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:28:04,818 - DEBUG - ---Errores conocidos  
2019-11-06 20:28:04,819 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:28:04,821 - DEBUG - ---A nivel de WAS
2019-11-06 20:28:04,824 - DEBUG - ---.    Errores funcionales del servicio
2019-11-06 20:28:04,826 - DEBUG - --- 
2019-11-06 20:28:04,828 - INFO - Indexing file: Anexo 1 - Grafico de diseдo de arquitectura del cliente.docx
2019-11-06 20:28:04,833 - DEBUG - ---Grafico de diseño de arquitectura del cliente.
2019-11-06 20:28:04,833 - INFO - Indexing file: Hoja de datos WAS.docx
2019-11-06 20:28:04,842 - INFO - Indexing file: Hoja de datos Process server.docx
2019-11-06 20:28:04,847 - DEBUG - ---Hoja de datos Process server
2019-11-06 20:28:04,848 - INFO - Indexing file: Hoja de datos Datapower.docx
2019-11-06 20:28:04,853 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:28:04,854 - DEBUG - ---RIN – UNE (Servidor)
2019-11-06 20:28:04,854 - DEBUG - ---PMO16436
2019-11-06 20:28:04,855 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-06 20:28:04,885 - DEBUG - ---

2019-11-06 20:28:04,887 - DEBUG - ---PROCEDIMIENTO A REALIZAR
2019-11-06 20:28:04,890 - DEBUG - ---PEDIDOS QUE REALIZA PI
2019-11-06 20:28:04,893 - DEBUG - ---Solicitud del filesystem para el Proyecto 
2019-11-06 20:28:04,894 - DEBUG - ---Se solicita por medio de correo a nosotros con el nombre del proyecto y el Sizing del mismo.
2019-11-06 20:28:04,895 - DEBUG - ---Crear OC: 
2019-11-06 20:28:04,895 - DEBUG - ---Categoría: almacenamiento y creación de disco.
2019-11-06 20:28:04,896 - DEBUG - ---Adjuntar el formato (Solicitarlo a almacenamiento).
2019-11-06 20:28:04,897 - DEBUG - ---SOLICITAR AMPLIACIÓN - CREACIÓN - FILESYSTEM - DIRECTORIO - CARPETA oc'S:

2019-11-06 20:28:04,897 - DEBUG - ---Filesystem existente:
*orden de cambio ampliación - 456834
Categoría: Almacenamiento. Ampliación File Systems y presentación Discos SAN Plataformas Centrales 

2019-11-06 20:28:04,898 - DEBUG - ---Filesystem Nuevo:
*orden de cambio creación - 718604 
Categoría: Almacenamiento. Creación de Discos Nuevos Plataformas Centrales
2019-11-06 20:28:04,899 - DEBUG - ---PEDIDOS QUE REALIZA DESARROLLO
2019-11-06 20:28:04,900 - DEBUG - ---Creación de usuarios de red (AIX): Se solicita por USM, creación usuarios pSeries.
2019-11-06 20:28:04,900 - DEBUG - ---En caso de que el proveedor sea nuevo en el banco.
2019-11-06 20:28:04,901 - DEBUG - ---Pedidos USM a Control de Acceso
2019-11-06 20:28:04,902 - DEBUG - --- Se realiza la solicitud por medio de USM ().
2019-11-06 20:28:04,902 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:28:04,903 - DEBUG - ---Cuando tengan los nombres de los usuarios de red de cada desarrollador, deben solicitar la autorización por correo a GCIA PLATAFORMAS DE INTEGRACION  para la creación de los usuarios en la máquina 10.8.64.210 - PBMDEADDST04, para adjuntarlo al pedido. 
2019-11-06 20:28:04,904 - DEBUG - ---Con la aprobación realizan la solicitud para la creación de usuarios del SO para cada desarrollador y que pertenezcan al grupo “dstageXXX” (Fabrica) 
2019-11-06 20:28:04,904 - DEBUG - ---Servicios Especializados de TI (sólo para empleados VTI) -> Gestion de ambientes de pruebas y desarrollo -> Gestion de Ambientes - Administración control de Acceso -> Creación de usuarios Pseries -> Selecciona la opción de Creación de usuarios Pseries y descargamos el formato para diligenciarlo que se encuentra en la parte de abajo en letra roja, para luego adjuntarlo.
2019-11-06 20:28:04,907 - DEBUG - ---El usuario de red debe solicitarse para crear en el directorio activo de AMBIENTESBC para poderse conectar a través de las herramientas cliente (Designer, Director). Debe solicitarse con las siguientes características: 
2019-11-06 20:28:04,908 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:28:04,909 - DEBUG - ---La clave no puede expirar
2019-11-06 20:28:04,910 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:28:04,911 - DEBUG - ---Relación de confianza (SFTP): Aplica si utilizan conexión SFTP. 
2019-11-06 20:28:04,912 - DEBUG - ---Solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadmXXX y el de conexión creado previamente.
2019-11-06 20:28:04,912 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:28:04,913 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:28:04,914 - DEBUG - ---Solicitarse para crear en el directorio activo de AMBIENTESBC los usuarios de Tester (Certificadores). Debe solicitarse con las siguientes características:
2019-11-06 20:28:04,915 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:28:04,915 - DEBUG - ---La clave no puede expirar
2019-11-06 20:28:04,916 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:28:04,917 - DEBUG - ---AMBIENTE DE PRODUCCIÓN 
2019-11-06 20:28:04,918 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:28:04,919 - DEBUG - ---En éste ambiente no se crean usuarios de desarrollo por ser productivo.
2019-11-06 20:28:04,920 - DEBUG - ---Pedidos OC a nuestro grupo Plataformas de integración
2019-11-06 20:28:04,920 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:28:04,921 - DEBUG - ---Solicitan la creación del proyecto DESA_PROYECTO 
2019-11-06 20:28:04,921 - DEBUG - ---Solicitan matricular los usuarios de los desarrolladores creados en AMBIENTESBC y asociarlos al proyecto creado. (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx).
2019-11-06 20:28:04,922 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:28:04,924 - DEBUG - ---Ambiente
2019-11-06 20:28:04,925 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:28:04,925 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:28:04,926 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:28:04,926 - DEBUG - ---Nombre de la BD
2019-11-06 20:28:04,927 - DEBUG - ---Tabla o esquema
2019-11-06 20:28:04,928 - DEBUG - ---Puerto 
2019-11-06 20:28:04,928 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:04,929 - DEBUG - ---DNS del servidor
2019-11-06 20:28:04,929 - DEBUG - ---AMBIENTE CERTIFICACIÓN
2019-11-06 20:28:04,930 - DEBUG - ---Solicitan la creación del proyecto, CERT_ PROYECTO 
2019-11-06 20:28:04,930 - DEBUG - ---Solicitan matricular los usuarios de los Tester y asociarlos al proyecto creado (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx)
2019-11-06 20:28:04,931 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:28:04,931 - DEBUG - ---Ambiente
2019-11-06 20:28:04,932 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:28:04,932 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:28:04,933 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:28:04,933 - DEBUG - ---Nombre de la BD
2019-11-06 20:28:04,934 - DEBUG - ---Tabla o esquema
2019-11-06 20:28:04,934 - DEBUG - ---Puerto 
2019-11-06 20:28:04,935 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:04,935 - DEBUG - ---DNS del servidor
2019-11-06 20:28:04,936 - DEBUG - ---AMBIENTE PRODUCCIÓN
2019-11-06 20:28:04,937 - DEBUG - ---Solicitan la creación del proyecto PROD_ PROYECTOS 
2019-11-06 20:28:04,937 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:28:04,938 - DEBUG - ---Ambiente
2019-11-06 20:28:04,940 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:28:04,941 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:28:04,942 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:28:04,943 - DEBUG - ---Nombre de la BD
2019-11-06 20:28:04,943 - DEBUG - ---Tabla o esquema
2019-11-06 20:28:04,944 - DEBUG - ---Puerto 
2019-11-06 20:28:04,945 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:04,946 - DEBUG - ---DNS del servidor
2019-11-06 20:28:04,946 - DEBUG - ---	
2019-11-06 20:28:04,947 - DEBUG - ---Otros temas a tener en cuenta:
2019-11-06 20:28:04,947 - DEBUG - ---El nombre del proyecto se define de la siguiente forma:
2019-11-06 20:28:04,948 - DEBUG - ---Desarrollo: DESA_PROYECTO
2019-11-06 20:28:04,948 - DEBUG - ---Certificación: CERT_PROYECTO
2019-11-06 20:28:04,949 - DEBUG - ---Producción: PROD_PROYECTO
2019-11-06 20:28:04,949 - DEBUG - ---Los usuarios de SO se crean en Desarrollo y Certificación en el Engine DataStage (Dllo: 10.8.64.210, Cert: 10.4.33.30).
2019-11-06 20:28:04,950 - DEBUG - ---Los usuarios de Desarrollo deben tener un cliente instalado en su máquina o conectarse a través de Citrix.
2019-11-06 20:28:04,951 - DEBUG - ---Información que se solicita al analista del proyecto: 
2019-11-06 20:28:04,951 - DEBUG - ---Nombre de la Fábrica
2019-11-06 20:28:04,952 - DEBUG - ---Sizing (Tamaño del filesystem en cada uno de los ambientes).
2019-11-06 20:28:04,953 - DEBUG - ---Si es una conexión ODBC se necesita un String de Conexión para lo cual se requiere saber:
2019-11-06 20:28:04,953 - DEBUG - ---Tipo base de datos
2019-11-06 20:28:04,954 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:04,954 - DEBUG - ---DNS del servidor
2019-11-06 20:28:04,955 - DEBUG - ---Nombre de base de datos
2019-11-06 20:28:04,956 - DEBUG - ---Puerto
2019-11-06 20:28:04,957 - DEBUG - ---Si es una conexión sftp se deben conocer los usuarios de conexión y las máquinas destino a las cuáles se conectan.
2019-11-06 20:28:04,958 - DEBUG - ---Usuario iSeries (CNXxxx).
2019-11-06 20:28:04,958 - INFO - Indexing file: Guia_Instalacion_CambioCertificadoDigital.docx
2019-11-06 20:28:04,971 - DEBUG - ---	
2019-11-06 20:28:04,973 - DEBUG - ---Cambio Certificado Digital 
2019-11-06 20:28:04,974 - DEBUG - ---CerFirmaCarvajal.cer
2019-11-06 20:28:04,975 - DEBUG - ---Guía de instalación
2019-11-06 20:28:04,975 - DEBUG - ---OC 2230886
2019-11-06 20:28:04,976 - DEBUG - ---Versión 1.0
2019-11-06 20:28:04,982 - DEBUG - ---Manual de instalación 
2019-11-06 20:28:04,982 - DEBUG - ---OC 2230886
2019-11-06 20:28:04,983 - DEBUG - ---Datos para la instalación
2019-11-06 20:28:04,984 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:28:04,984 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:28:04,985 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:28:04,985 - DEBUG - ---CEL: 3115332927 
2019-11-06 20:28:04,986 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:28:04,986 - DEBUG - ---  
2019-11-06 20:28:04,987 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 6
2019-11-06 20:28:04,987 - DEBUG - ---Acceso Datapower 
2019-11-06 20:28:04,988 - DEBUG - ---Ingresar a  y a  - Datapower 2   con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio PRODUCCIÓN
2019-11-06 20:28:04,989 - DEBUG - ---Nota: Instalar también en el DataPower del DRP
2019-11-06 20:28:04,991 - DEBUG - ---Instalación de los Certificados nombres CC_FIRMA_CARVAJAL, certificado CerFirmaCarvajal.cer
2019-11-06 20:28:04,992 - DEBUG - ---Descargar los archivos CerFirmaCarvajal.cer  que se encuentra adjunto en la OC.
2019-11-06 20:28:04,993 - DEBUG - ---Sobrescribir el archivo en la carpeta cert del dominio de producción, el certificado CerFirmaCarvajal.cer 
2019-11-06 20:28:04,993 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:28:04,998 - DEBUG - ---Manual de instalación 
2019-11-06 20:28:04,998 - DEBUG - ---OC 2230886
2019-11-06 20:28:04,999 - DEBUG - ---Datos para la instalación
2019-11-06 20:28:04,999 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:28:05,000 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:28:05,000 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:28:05,001 - DEBUG - ---CEL: 3115332927  
2019-11-06 20:28:05,001 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:28:05,002 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 7
2019-11-06 20:28:05,002 - DEBUG - ---Acceso Datapower 
2019-11-06 20:28:05,003 - DEBUG - ---Ingresar a  - Datapower1 y a  - Datapower 2 , con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio Default
2019-11-06 20:28:05,004 - DEBUG - ---Instalación de los Certificados Nombre CC_FIRMA_CARVAJAL certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:28:05,005 - DEBUG - ---Descargar los archivos CC_FIRMA_CARVAJAL.cer que se encuentra adjunto en la OC.
2019-11-06 20:28:05,005 - DEBUG - ---Sobrescribir los archivos en la carpeta sharedcert del dominio de Default, el certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:28:05,007 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate CC_FIRMA_CARVAJAL que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:28:05,009 - DEBUG - ---Por favor instalar las cadenas de confianza adjuntas (AC_SUB_CERTICAMARA.cer y AC_Raiz_Certicamara.cer) en la carpeta pubcert en el dominio Default
2019-11-06 20:28:05,011 - DEBUG - ---Ingresar a la URL
2019-11-06 20:28:05,012 - DEBUG - ---​
2019-11-06 20:28:05,013 - DEBUG - ---​
2019-11-06 20:28:05,013 - DEBUG - ---Y deshabilitar el componente que aparece​ a continuación:
2019-11-06 20:28:05,014 - INFO - Indexing file: Reinicio_Datastage (1).txt
2019-11-06 20:28:05,015 - DEBUG - ---
REINICIO - ENGINE
Con el usuario DSADM

cd /opk/IBM/InformationServer/Server/DSEngine/
. ./dsenv 
uv -admin -stop

REINICIO LOGGIN AGENT
/opk/IBM/InformationServer/ASBNode/bin
sudo ./NodeAgents.sh stop

version.xml - /opk/IBM/InformationServer

sudo /opk/IBM/InformationServer/Server/DSEngine/

sudo sh "chown -R dsadm:dstage /opk /dataset1 /dataset2 /scratch1 /scratch2 /proyectos /interfaces" 
cd $DSHOME/scripts 
sudo sh DSEenable_impersonation.sh 

/opk/IBM/InformationServer/Server/DSComponents/bin
./dscompinst -username ceaherre -password Banco2013* -install -force /tmp/CC_ORA_aix_installation.jar

ps -ef | grep osh
ps -ef | grep DSD.RUN
ps -ef | grep dsapi

2019-11-06 20:28:05,640 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:28:05,655 - DEBUG - results found: 7
2019-11-06 20:28:23,484 - INFO - ------------------------------------------
2019-11-06 20:28:23,484 - INFO - -- Starting indexing process      --------
2019-11-06 20:28:23,485 - INFO - -- files path: /home/mgazzola/Documents/instructivos
2019-11-06 20:28:23,485 - INFO - ------------------------------------------
2019-11-06 20:28:23,501 - INFO - Indexing file: MANUAL DE OPERACIONES WSRR v.1.docx
2019-11-06 20:28:23,518 - DEBUG - ---GUÍA DE OPERACIONES WSRR v8.0
2019-11-06 20:28:23,518 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:28:23,519 - DEBUG - ---1. Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0:
2019-11-06 20:28:23,520 - DEBUG - ---AW0939
2019-11-06 20:28:23,520 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:28:23,521 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:28:23,521 - DEBUG - ---2. Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:28:23,522 - DEBUG - ---MQE_RecuperarDatosCliente (la versión 3.0 -->
2019-11-06 20:28:23,522 - DEBUG - ---http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0 [^]).
2019-11-06 20:28:23,523 - DEBUG - ---PASOS
2019-11-06 20:28:23,523 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:28:23,524 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:28:23,525 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:28:23,526 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:28:23,527 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:28:23,528 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:28:23,528 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:28:23,529 - DEBUG - ---

2019-11-06 20:28:23,530 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:28:23,530 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:28:23,531 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:28:23,532 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:28:23,533 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:28:23,534 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:28:23,534 - INFO - Indexing file: HOJA DE DATOS_WSP_RIN_ARGS(1).docx
2019-11-06 20:28:23,540 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:28:23,541 - DEBUG - ---RIN DOS VÍAS –Argos (Servidor)
2019-11-06 20:28:23,542 - DEBUG - ----Dummy
2019-11-06 20:28:23,542 - INFO - Indexing file: Tips Aristi.txt
2019-11-06 20:28:23,543 - DEBUG - ---Comandos Frecuentes WebSphere Message Queue

* Ruta de logs
/var/mqm/errors ( Logs del producto )
/var/mqm/qmgrs/BCOLQMGR/errors ( Logs de un Queue Manager )

* Ruta de almacenes de certificados
/var/mqm/qmgrs/BCOLQMGR/ssl

* Administrar certificados
gsk7cmd -keydb -create -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -expire <days> -stash
gsk7cmd -keydb -stashpw -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12>
gsk7cmd -certreq -create [-db <name>] [-crypto <module name> [-tokenlabel <token label>]|[-relativeSlotNumber <slot_number>]] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> [-san_ipaddr <ip addr>[,<ip addr>]] [-san_dnsname <dns name>[,<dns name>]] [-san_emailaddr <email addr>[,<email addr>]] [-usereasoncode] -dn <dist name> [-size <2048 | 1024 | 512>] -file <name>
gsk7cmd -certreq -recreate [-db <name>] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> -file <name>
gsk7cmd -cert -add -db <filename>.kdb -pw <password> -label <label> -format <ascii | binary> -trust <enable | disable> -file <filename>
gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary> 
gsk7cmd -cert -list <all | personal | CA | site> -db < dbname > -pw <password> -type <cms | jks |jceks | pkcs12> -expiry < days >
gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename>
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -details -db <filename>.kdb -pw <password> -label <label>

--Cambiar el label de un certificado personal
gsk7cmd -cert -export -db key.kdb -pw passw0rd -label friendlyName -type cms -target personal.p12 -target_pw target_password -target_type pkcs12
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -import -file personal.p12 -label friendlyName -new_label ibmwebspheremqqueuemanagername -type pkcs12 -pw passw0rd -target key.kdb -target_pw target_password

Ejemplo:
gsk7cmd -keydb -create -db ihskeystore.kdb -pw ihskeystore -type cms -stash
gsk7cmd -certreq -create -db ihskeystore.kdb -pw ihskeystore -type cms -label sasoprd -dn "CN=sasoprd.bancolombia.corp,OU=VICEPRESIDENCIA DE TECNOLOGIA,O=BANCOLOMBIA S.A.,L=MEDELLIN,ST=ANTIOQUIA,C=CO" -size 2048 -file sasoprd.arm -sig_alg sha1

gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAROOTCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAROOTCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAPOLICYNETCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAPOLICYNETCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAISSUING1CA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAISSUING1CA.cer

gsk7cmd -cert -receive -db ihskeystore.kdb -pw ihskeystore -format ascii -file /tmp/SASOpriskDesarrollo/sasoprd.bancolombia.corp.cer

* Administrar permisos sobre los objetos
dspmqaut -m BCOLQMGR -t qmgr -g cnmq
setmqaut -m BCOLQMGR -t qmgr -g cnmq +connect +inq
dspmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq
setmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq +browse +get +inq +put +set

* Ejemplo para conectar dos MQ Servers ( PanamÃ¡-Colombia )
PPANMQMGR

Cola transmisiÃ³n
define qlocal(PCOLQMGR) USAGE(XMITQ)

Colas remotas
define qremote(IBS_PAN.INT.REQ) RQMNAME(PCOLQMGR) RNAME(IBS_PAN.INT.REQ) XMITQ(PCOLQMGR)
define qremote(INT.SWIFTPA.SWIFT.QL.RES) RQMNAME(PCOLQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.RES) XMITQ(PCOLQMGR)

Colas locales
define qlocal(INT.SWIFTPA.SWIFT.QL.REQ)
define qlocal(LTC_INT_IBSPA.QL.REQ) MAXDEPTH(100000)

Canal SVRCONN
define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

Canal Receive
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Colombia-Panama')

Canal Sender
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Panama-Colombia') XMITQ(PCOLQMGR) CONNAME('PBMDEAPMEB01(1414)')

Canal Cliente
define channel(SWIFT.SVRCONN) CHLTYPE(CLNTCONN) CONNAME('PBPAMTPMEB01(1414)') QMNAME(PPANQMGR) SSLCIPH(TRIPLE_DES_SHA_US) DESCR('Swift channel client')

PCOLQMGR

Cola transmisiÃ³n
define qlocal(PPANMQGR) USAGE(XMITQ)

Colas remotas
define qremote(INT.SWIFTPA.SWIFT.QL.REQ) RQMNAME(PPANQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.REQ) XMITQ(PPANQMGR)
define qremote(LTC_INT_IBSPA.QL.REQ) RQMNAME(PPANQMGR) RNAME(LTC_INT_IBSPA.QL.REQ) XMITQ(PPANQMGR)

Colas locales
define qlocal(IBS_PAN.INT.REQ)
define qlocal(INT.SWIFTPA.SWIFT.QL.RES)

Canal Receive
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Panama-Colombia')

Canal Sender
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Colombia-Panama') XMITQ(PPANQMGR) CONNAME('PBPAMTPMEB01(1414)')

Comandos Frecuentes WebSphere Message Broker

* Ruta de logs de Broker
/opk/IBM/mqsi ( Para Desarrollo y QA )
/var/mqm/errors ( Para ProducciÃ³n )

* Ruta de logs de cada Execution Group
/var/mqsi/components/BCOLQMGR_BROKER/<UUID>/ ( Donde para saber el valor del UUID ejecutan ps -fea | grep <Execution_Group> )
/var/mqsi/components/BCOLQMGR_BROKER/13d99063-3201-0000-0080-f92214f27c0a

* Administrar certificados
keytool -genkey -alias ibmwebspheremqcnxqqdes -keyalg RSA -sigalg SHA1withRSA -keysize 2048 -keystore /tmp/tmppcc.jks -v
keytool -certreq -alias ibmwebspheremqcnxqqdes -sigalg SHA1withRSA -file /tmp/ibmwebspheremqcnxqqdes.csr -keystore /tmp/tmppcc.jks -v
keytool -import -alias ibmwebspheremqcnxqqdes -file /home/jdaristi/Downloads/ibmwebspheremqcnxqqdes.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiarootca -file /home/jdaristi/Downloads/bancolombiarootca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiapolicynetca -file /home/jdaristi/Downloads/bancolombiapolicynetca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiaissuing1ca -file /home/jdaristi/Downloads/bancolombiaissuing1ca.cer -keystore /tmp/tmppcc.jks -v

* ConfiguraciÃ³n de una conexiÃ³n JDBC Oracle
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o ORACLE_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"
* ConfiguraciÃ³n de una conexiÃ³n JDBC DB2
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,connectionUrlFormatAttr1,databaseName,databaseType,jarsURL,portNumber,securityIdentity,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1],EQUIVDDB,EQUIVDDB,Oracle,/home/wasencio/jars/oracle,1521,SI_PEQUIV,10.4.33.26,oracle.jdbc.xa.client.OracleXADataSource,oracle.jdbc.OracleDriver"
* ConfiguraciÃ³n de una conexiÃ³n ODBC
Editar el archivo odbc.ini. En la variable $ODBCINI se encuentra la ruta completa del archivo.
* ConfiguraciÃ³n de una conexiÃ³n SFTP
mqsicreateconfigurableservice BCOLQMGR_BROKER -c FtpServer -o ftpSENTRANSACCIONAL -n accountInfo,protocol,scanDelay,securityIdentity,serverName -v usersftp,SFTP,120,secIdFtpSENTRANSACCIONAL,172.30.224.194:10022

* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::ICRSecurityIdentity -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::SI_PEQUIV -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso ODBC
mqsisetdbparms BCOLQMGR_BROKER -n MRXINHOUSE -u CNXBRKVAR -p *****
* Configurar el usuario y clave para un recurso SFTP ( Correspondiente al ejemplo anterior )
mqsisetdbparms PCOLQMGR_BROKER -n sftp::secIdFtpBancolombia -u CNXCUSEB -p *****

* Revisar propiedades de configuraciÃ³n:

mqsireportproperties BCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c FtpServer -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c ServiceRegistries -o AllReportableEntityNames -r

* Revisar configuraciÃ³n de almacenes de certificados
mqsireportproperties BCOLQMGR_BROKER -o BrokerRegistry -r

* Revisar configuraciÃ³n del HTTPListener
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPListener -a

* Revisar configuraciÃ³n del HTTPSConector
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPSConnector -a

* Revisar configuraciÃ³n del HTTPConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPConnector -r

* Revisar configuraciÃ³n del HTTPSConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPSConnector -r

* Activar estadisticas y monitoreos, esto es lo mÃ¡s complejo pero mÃ¡s efectivo para realizar una revisiÃ³n sobre algun flujo

- Se crean las siguientes colas para estadisticas
define qlocal(STATS.Servicio.WhoIsWhoCRMFlow)
define qlocal(STATS.parametrizador.ia.AI_PEQFlow)
define qlocal(STATS.icr.IA_ICRFlow)
define qlocal(STATS.listaDeControl.standar.MQListaDeControl)

- Se crean las siguientes subscripciones para recolectar estadisticas
define sub(SUB.STATS.Servicio.WhoIsWhoCRMFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/Servicio.WhoIsWhoCRMFlow') DEST(STATS.Servicio.WhoIsWhoCRMFlow)
define sub(SUB.STATS.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ALL_COMMON/parametrizador.ia.AI_PEQFlow') DEST(STATS.parametrizador.ia.AI_PEQFlow)
define sub(SUB.STATS.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ICR/icr.IA_ICRFlow') DEST(STATS.icr.IA_ICRFlow)
define sub(SUB.STATS.listaDeControl.standar.MQListaDeControl) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/listaDeControl.standar.MQListaDeControl') DEST(STATS.listaDeControl.standar.MQListaDeControl)

- Se activan las estadisticas
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f Servicio.WhoIsWhoCRMFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f listaDeControl.standar.MQListaDeControl -a -n advanced -o xml -c inactive

- Se crean las siguientes colas para monitoreo
define qlocal(MON.parametrizador.ia.AI_PEQFlow)
define qlocal(MON.icr.IA_ICRFlow)

- Se crean las siguientes subscripciones para recolectar monitoreo
define sub(SUB.MON.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ALL_COMMON/parametrizador.ia.AI_PEQFlow') dest(MON.parametrizador.ia.AI_PEQFlow)
define sub(SUB.MON.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ICR/icr.IA_ICRFlow') dest(MON.icr.IA_ICRFlow)

- Se crean los siguientes servicios configurables para generar perfiles de monitoreo
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR

- Se exportan los perfiles de monitoreo desde desarrollo
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f parametrizador.ia.AI_PEQFlow -x -p /tmp/monitoreo_AI_PEQ.xml
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f icr.IA_ICRFlow -x -p /tmp/monitoreo_AI_ICR.xml

- Se importan los perfles de monitoreo en producciÃ³n
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ -n profileProperties -p /tmp/monitoreo_AI_PEQ.xml
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR -n profileProperties -p /tmp/monitoreo_AI_ICR.xml

- Se asocian los perfiles de monitoreo al flujo
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -m AI_PEQ
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -m AI_ICR

- Se activan los monitoreos
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -c inactive
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -c inactive

* Extraer mensajes de las colas sin borrar el mensaje
q -m PCOLQMGR -i INT_PEQ_INT.QL.RES
* Extraer mensajes de las colas borrando el mensaje
q -m PCOLQMGR -I INT_PEQ_INT.QL.RES
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -o INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -O INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt

2019-11-06 20:28:23,550 - INFO - Indexing file: PTR_continuidad_banismo_v2.docx
2019-11-06 20:28:23,574 - DEBUG - ---

2019-11-06 20:28:23,580 - DEBUG - ---

2019-11-06 20:28:23,581 - DEBUG - ---

2019-11-06 20:28:23,585 - DEBUG - ---

2019-11-06 20:28:23,586 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:28:23,587 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:28:23,589 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:28:23,590 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:28:23,591 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:28:23,593 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:28:23,594 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:28:23,595 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20 - SBBANBCE07v
2019-11-06 20:28:23,596 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21 - SBBANBCE08v
2019-11-06 20:28:23,597 - DEBUG - ---INFORMACIÓN SERVIDORES DE APLICACIONES (APLICACIÓN CEI)
2019-11-06 20:28:23,598 - DEBUG - ---<MáquinaAppServerBanistmoCEI>: Corresponde a la IP o nombre de la máquina APP Server donde esta alojada la aplicación CEI de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:28:23,599 - DEBUG - ---<MáquinaAppServerBanistmo[1]> = 10.5.134.68 - SBBANBCE01v
2019-11-06 20:28:23,600 - DEBUG - ---<MáquinaAppServerBanistmo[2]> = 10.5.134.69 - SBBANBCE02v
2019-11-06 20:28:23,601 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:28:23,603 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:28:23,604 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:28:23,606 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:28:23,608 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:28:23,609 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:28:23,610 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:28:23,611 - DEBUG - ---<NombreCanal> = PPAA.PDBDMF01
2019-11-06 20:28:23,613 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:28:23,614 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:28:23,615 - DEBUG - ---COMANDOS BAJAR HTTPSERVERS (IHS)
2019-11-06 20:28:23,616 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.20 HOSTNAME SBBANBCE07v
2019-11-06 20:28:23,617 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:23,619 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:28:23,620 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:28:23,621 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:23,623 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:28:23,624 - DEBUG - ---BAJAR APP SERVERS (CEI) PARA BANISTMO
2019-11-06 20:28:23,625 - DEBUG - ---El procedimiento para detener e iniciar los servidores de aplicaciones donde esta alojada la aplicación CEI  de Banistmo   es el siguiente (en el orden indicado):
2019-11-06 20:28:23,626 - DEBUG - ---COMANDOS APP SERVERS (CEI)
2019-11-06 20:28:23,627 - DEBUG - ---CONECTAR APP SERVER DE BANISTMO 10.5.134.68 HOSTNAME SBBANBCE01v
2019-11-06 20:28:23,627 - DEBUG - ---Conectarse a la máquina 10.5.134.68 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:23,629 - DEBUG - ---3.1.2 CONECTAR APP SERVER DE BANISTMO 10.5.134.69 HOSTNAME SBBANBCE02v
2019-11-06 20:28:23,629 - DEBUG - ---	
2019-11-06 20:28:23,631 - DEBUG - ---3.SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:28:23,632 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:28:23,633 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:28:23,633 - DEBUG - ---CONECTAR A GESTOR DE COLAS 10.5.132.12 HOSTNAME SBBANBLMQ01V
2019-11-06 20:28:23,634 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:28:23,635 - DEBUG - ---Aplicar 
2019-11-06 20:28:23,636 - DEBUG - ---sudo su - mqm
2019-11-06 20:28:23,636 - DEBUG - ---	
2019-11-06 20:28:23,638 - INFO - Indexing file: PTR_continuidad_banismo(1).docx
2019-11-06 20:28:23,658 - DEBUG - ---

2019-11-06 20:28:23,662 - DEBUG - ---

2019-11-06 20:28:23,662 - DEBUG - ---

2019-11-06 20:28:23,665 - DEBUG - ---

2019-11-06 20:28:23,669 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:28:23,671 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:28:23,674 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:28:23,676 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:28:23,679 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:28:23,681 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:28:23,683 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:28:23,684 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20
2019-11-06 20:28:23,684 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21
2019-11-06 20:28:23,685 - DEBUG - ---<NombreWebServer>: Nombre del web server.
2019-11-06 20:28:23,685 - DEBUG - ---<NombreWebServer[1]> = server1
2019-11-06 20:28:23,686 - DEBUG - ---<NombreWebServer[2]> = server1
2019-11-06 20:28:23,687 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:28:23,688 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:28:23,689 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:28:23,690 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:28:23,691 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:28:23,691 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:28:23,692 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:28:23,693 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:28:23,693 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:28:23,694 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:28:23,695 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.134.20 HOSTNAME SBBANBCE07v
2019-11-06 20:28:23,696 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:23,696 - DEBUG - ---BAJAR WEB SERVER WebServer1
2019-11-06 20:28:23,697 - DEBUG - ---          Ubicarse en la ruta   /opt/IBM/HTTPServer/bin
2019-11-06 20:28:23,698 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:28:23,699 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:28:23,700 - DEBUG - ---BAJAR WEB SERVER WEBSERVER1
2019-11-06 20:28:23,700 - DEBUG - ---Ubicarse en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:28:23,701 - DEBUG - ---SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:28:23,702 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:28:23,704 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:28:23,707 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:28:23,709 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:28:23,712 - INFO - Indexing file: TIPS-BROKER-MQ.txt
2019-11-06 20:28:23,713 - DEBUG - ---************************************************* Listar broker y puertos
 **************************************************
sdurier@pbmdeadmeb01(/home/sdurier)# ps -fea | grep runmqlsr

************************************************* Permisos sudo **************************************************

Cuando fallen los permisos sobre "su" se debe ejecutar la shell (sudo sh "su - mqm") por ejemplo

********************************************* ConfiguraciÃ³n Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n endpointAddress -v https://serviceregistry.bancolombia.corp/WSRR8_0/services/WSRRCoreSDOPort

******************************************** Verificacion Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsireportproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -r

********************************************* Repisado usuario registry ****************************************

mqsisetdbparms PBANQMGR_BROKER -n DefaultWSRR::WSRR -u CNXWPBBA

*********************************************Configuracion needCache ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n needCache -v false 

*********************************************Version Broker ****************************************
PBMDEADMEB01[mqsi7tes]/opk/IBM/mqsi/7.0/bin>mqsiservice -v


mqsiservice -v

*********************************************reiniciar grupo de ejecucion ****************************************

mqsistopmsgflow CPANQMGR -e FINACLE_SWIFT

mqsistopmsgflow -p 1414 -q PPANQMGR -b PPANQMGR_BROKER -e GD_COMMON


******************************************** Matar y reiniciar GE hilos grupos de ejecucion GE *********************************

mqsireload CPANQMGR_BROKER -e GEIAM_H01


******************************************** Refrescar seguridad MQ SSL *************************************

Paso 1: runmqsc CPANQMGR
Paso 2: REFRESH SECURITY TYPE(SSL)
esperas que termine y listo
si no funciona.. toca reiniciar el gestor de colas

******************************************** Usuarios MQ y Broker *********************************************

mqm/mqmb4nc0*
mqsiadm/mqsib4nc0*

********************************** Revisar un datasource de tipo ODBC ***************************************

mqsicvp CCOLQMGR_BROKER -n INDOCQDB

********************************* Reinciar Broker y el gestor *************************************************

mqsistop CPANQMGR_BROKER  -----  Con el usuario mqsiadm6
mqsistop CPANQMGR_CONFIG  -----  Con el usuario mqsiadm6
endmqm CPANQMGR ------  Con el usuario mqm


strmqm CPANQMGR  ------  Con el usuario mqm
mqsistart CPANQMGR_CONFIG -----  Con el usuario mqsiadm6
mqsistart CPANQMGR_BROKER -----  Con el usuario mqsiadm6


dspmq - Para verificar el estado del gestor (mqm)
mqsilist NOMBRE_BROKER (Esto debe listar todos los grupos de ejecuciÃ³n del broker con un nÃºmero de proceso por cada grupo)
ps -fe | grep bipbroker (Con esto lista todos los Broker)
ps -fea | grep lsr (Con esto lista usuario MQ)


***************************************** Inhibir y desinhibir colas *****************************************

dentro de la consola de comandos de MQ
runmqsc PPANQMGR
alter qlocal(INT_IAFINACLE_INT.QL.REQ) get(ENABLED) put(ENABLED)
alter qlocal(LA_COLA) get(ENABLED) put(ENABLED)

ALTER QLOCAL (IAM_CUSTOMERRESPONSE_INT.QL.RES) GET(ENABLED) PUT(ENABLED)


************************************** Permisos gestor y colas *********************************************

Permisos gestor

setmqaut -m BCOLQMGR -t qmgr -g grxqqswf +setall +setid +connect +inq +set

Validar Permisos Qmanager
estot
dspmqaut -m CCOLQMGR -t qmgr -g grxqqswf

Permisos colas

setmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb +inq +put +set


Validar Permisos Colas
dspmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb


Permisos Topicos

setmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Exception" -t topic q -g mqdpcnxd +setid +pub +sub

Validar Permisos Topicos

dspmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Info" -t top -g mqdpcnxd

****************************************** inyectar mensajes por consola ********************************
Usuario mqm

q -m CCOLQMGR -o INT_PEPSYS2CLS_INT.QL.CFG âF /tmp/INT_PEPSYS2CLS_INT.QL.CFG.txt

***************************************** Ver el consume de memoria de un proceso ***************************************

svmon -P 19923018 -O summary=basic,unit=MB

********************************** ruta donde estÃ¡ el log de java de un grupo de ejecuciÃ³n ********************************************

/var/mqsi/components/nombre-broker/+ codigo del GE 

PBMDEAPMEB01[sdurier]/home/sdurier>ps -fea | grep GEINT_H04
 mqsiadm 17563772  9633996   0 21:32:08      -  0:00 /bin/ksh /opk/IBM/mqsi/7.0/bin/startDataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 mqsiadm 19071054 17563772   1 21:32:08      - 90:44 DataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 sdurier 26607618 24838288   0 11:08:19 pts/12  0:00 grep GEINT_H04


/var/mqsi/components/nombre-broker8aec7593-3c01-0000-0080-8f3c80cf8deb


********************************** comrprimir el log de java de un grupo de ejecuciÃ³n ********************************************


tar cvf - stderr stdout  | gzip -c > /tmp/logs.tar.gz

******************************************* Ver los 10 procesos de mayor consumo ************************************************

ps auxw | sort -r +3 |head -10

******************************************* Creacion Colas .def **********************************************************************

runmqsc CCOLQMGR < QM-SAT25.def > QM-SAT25.def.txt

echo "define qlocal (SVE_NEGDIVISAS_INT.QL.RES)" | runmqsc CCOLQMGR
DEFINE QLOCAL (INT_TODO0062ERU_INT.QL.REQ)
DEFINE QALIAS(PCCALERENV) TARGQ(PCC_ALERTAS_ENVIADAS.QL.REQ) DESCR('Cola alias de la colaÂ  PCC_ALERTAS_ENVIADAS.QL.REQ') 

******************************************** Extraer y Eliminar una cantidad especifica de mensajes en una cola ***********************************

q -m PCOLQMGR -I INT_SINCCLIENTE_FIN.QL.REQ -L19 > /tmp/INT_SINCCLIENTE_FIN.QL.REQ1.txt (-L19 Cantidad a borrar)

**************************************** Extraer mensajes *****************************************************************

q -m PCOLQMGR -I GAF_INFOCIFIN.QL.RES > /tmp/GAF_INFOCIFIN.QL.RES.txt (Eliminando mensajes)


****************************************** Extraer de mensajes de una cola con encabezado *************************************************

q -m CBANQMGR -i FIN_OUTMENSAJEBAN_SWI.QL.ERR -dd3 > /tmp/FIN_OUTMENSAJEBAN_SWI.QL.ERR.txt  (Dejando copia)
donde MQ es el gestor, y Q el nombre de la cola

****************************************** Extraer de mensajes de una cola por mensaje (individual) *************************************************

/var/mqm/qload âm QMGR âi COLA âf /tmp/MENSAJES/mensaje%n.txt

/var/mqm/qload âm PBANQMGR âi FIN_OUTMENSAJEBAN_SWI.QL.ERR âf /tmp/MENSAJES/mensaje%n.txt

Extraer mensajes para reinyecciÃ³n posterior
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO%n
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO


********************************************* Copiar o mover mensajes entre Colas ******************************************************************

Move messages between Queues : q -m QueueManager -IQ1 -oQ2
Copy messages between Queues : q -m QueueManager -iQ1 -oQ2

q -m PPANQMGR -iFIN_FINACLE_INTEGR_SWIFTPA_QL_ERR -oFIN_OUTMENSAJEPA_SWI.QL.RES

******************************************** Conocer el puerto de un broker *****************************************************************************

ps -fea | grep runmqlsr

******************************************  Sobreescribir una variable en un .bar ***********************************************************

mqsiapplybaroverride -b archivo.bar -m "Variable=Valor"

mqsiapplybaroverride -b TOD0052_SCT.bar -m "Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS" 

TambiÃ©n se puede sobrescribir una variable a partir de un archivo

En el archivo solo escribe 

Variable=Valor
Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS

Se guarda el archivo con extensiÃ³n .properties

Y luego en consola se ingresa el siguiente comando

mqsiapplybaroverride -b archivo.bar -p archivo.properties

mqsiapplybaroverride -b CM_HUB-RecuperarCliente_SC.bar -p CM_HUB-RecuperarCliente_SC.properties

Para generar un nuevo bar con los valores que se sobre escribieron.

mqsiapplybaroverride -b SAT99_RecaudoTarjetaCredito.bar -p CM_HUB-RecuperarCliente_SC.properties -o SAT99_RecaudoTarjetaCredito_QA.bar

*************************************** Desplegar un .bar *****************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e ALL_COMMONS -a TODO1ConsumerAdapter.bar


**************************************** Desinstalar un flujo **************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e CRM_SINCFE_GEN -d com.bancolombia.client.CopyOriginalMsg_Agg.cmf

**************************************** Validar propiedades de un flujo **************************************************


mqsilist CPANQMGR_BROKER -e GEINT_M02 -r -d2 

**************************************** Habilitar eventos monitoreo ********************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "ErrorAdapterV2.0.terminal.in" -i enable

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "LoggingAdapterV2.0.terminal.in" -i enable


***************************************** Activar monitoreo en flujos ******************************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -c active

******************************************* Activar y desactivar estadisticas GE **************************************

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c active -o xml -n basic

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c inactive -o xml -n basic


**************************************** Creacion grupo ejecucion *************************************************

mqsicreateexecutiongroup CPANQMGR_BROKER -e GEINT_H02

*************************************** Reiniciar Flujos ************************************************************

mqsistopmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

mqsistartmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

****************************************** Ingreso password datasource (repisar) ***************************************

mqsisetdbparms broker -n Nombre del Datasource -u Usuario

mqsisetdbparms PPANQMGR_BROKER -n INDOCPDB -u CATALOGO

******************************************* Ingreso password SFTP *************************************************

mqsisetdbparms broker -n sftp:nombre de la conexiÃ³n SFTP -u usuario 

mqsisetdbparms CCOLQMGR_BROKER -n sftp::secIdFtpSenTrans -u usersftp -p Azsx.4123

********************************************** Ruta - Revision Datasources creados y SFTP *************************************

/var/mqsi/registry/CPANQMGR_BROKER/CurrentVersion/DSN

RUTA PARA VERIFICAR LOS ODBC EXISTENTES

 /odbc64.ini Ruta para verificar los ODBC existentes

 Para ver que .ini se esta utilizando echo $ODBCINI
 
 vi /home/mqsiadm/odbc64.ini
 
*********************************************** Reporte general de Configuracion Broker ******************************************

mqsireportproperties CPANQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r


*************************************************** Verificar el config Manager ************************************************

ps -fea | grep PPANQMGR_CONF

*********************************** INFORME DE PUERTO HTTP O HTTPS Y WEBSERVICES PERTENECIENTES A UN GRUPO DE EJECUCIÃN*********************************

Puerto HTTPS

mqsireportproperties BCOLQMGR2_BROKER -e Adaptadores -o HTTPConnector -r
mqsireportproperties CPANQMGR_BROKER -b httplistener -o HTTPSListener -a 

Puerto HTTP

mqsireportproperties PCOLQMGR_BROKER -e SAP_ERP_PROVEEDORES -o HTTPSConnector -r
mqsireportproperties PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -o HTTPSConnector -r
mqsireportproperties CPANQMGR_BROKER -e FINACLE_CRM -o HTTPSConnector -r

************************************************ PUERTOS HTTP Y HTTPS PARA CADA BROKER ***********************************************

mqsireportproperties BCOLQMGR2_BROKER -b httplistener -o HTTPConnector -a

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPListener -n enableSSLConnector -v true

mqsireportproperties CPANQMGR_BROKER -b httplistener -o AllReportableEntityNames -a 

**************************************************ASIGNACIÃN DE PUERTO ***************************************************************

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPSConnector -n port -v 7480 


**************************************************** LOG DE ERRORES *****************************************************************

var/mqm/errors/user.log 
/opk/IBM/mqsi/user.log PPANQMGR
/var/mqsi/common/log
var/mqm/qmgrs/BCOLQMGR2/errors


************************************************** Creacion canal *********************************************************

define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

****************************************************** CREACIÃN DE UN JDBC *******************************************************

mqsicreateconfigurableservice BCOLQMGR3_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"

mqsisetdbparms PPANQMGR_BROKER -n jdbc::HUBOPE_SecurityIdentity -u CNXBRKOPEFE

UBOPE_DS 
    connectionUrlFormat='jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1]'
    connectionUrlFormatAttr1='OPEFEQDB'
    connectionUrlFormatAttr2=''
    connectionUrlFormatAttr3=''
    connectionUrlFormatAttr4=''
    connectionUrlFormatAttr5=''
    databaseName='OPEFEQDB'
    databaseType='Oracle'
    databaseVersion='default_Database_Version'
    description='default_Description'
    environmentParms='default_none'
    jarsURL='/opk/mqsiadm/drivers/oracle'
    portNumber='1523'
    securityIdentity='HUBOPE_SecurityIdentity'
    serverName='PBMDEAQHUB01'
    type4DatasourceClassName='oracle.jdbc.xa.client.OracleXADataSource'
    type4DriverClassName='oracle.jdbc.OracleDriver'



****************************************************** CAMBIAR PROPIEDADES DE UN JDBC ****************************************************

mqsichangeproperties BCOLQMGR_BROKER -c JDBCProviders -o DS_TRACING -n databaseName -v TRACEDDB

-n --NombrePropiedad-- -v --ValorPropiedad- -o NombreJDBC

****************************************************** LISTAR TODOS LOS JDBC ****************************************************

mqsireportproperties PCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r 

************************************************** ExtracciÃ³n de Certificados ******************************************************************

keytool -export -keystore BrokerKeystore.jks -alias brokerdesarrollo -file Cert_Desarrollo.cert


display channel(MUREX.SVRCONN) all


***************************************************** OBTENCIÃN DE CERTIFICADOS MQ ******************************************************************

gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary>

gsk7cmd -cert -extract -db key_pcolqmgr.kdb -pw key_pcolqmgr -type cms -label ibmwebspheremqpcolqmgr -target /tmp/cert_pcolqmgr.arm -format ascii


***************************************************** Certificados *****************************************************************
gsk7cmd -cert -add -db BCOLQMGR2.kdb -pw BCOLQMGR2 -label ibmwebspheremqcnxqdmpt -format ascii -trust enable -file /tmp/ibmwebspheremqcnxqdmpt.cer (Cuando envian un certificado y deseo agregarlo a mi truestore en el caso de mq keystore, usuario externeo ejemplo ibmwebspheremqcnxqdmpt)

gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename> (Cuando es un certificado personal, por lo Gral es add (Punto 1))


gsk7cmd -cert -list personal -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert personales)
gsk7cmd -cert -list all -db BCOLQMGR2.kdb -pw BCOLQMGR2 -type cms


gsk7cmd -cert -extract -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms -label ibmwebspheremqccolqmg2 -target /tmp/ibmwebspheremqccolqmg2.cer -format ascii 


gsk7cmd -cert -list CA -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert firmantes)


**************************************************** para validar recursos en broker SMTP ******************************************************

mqsireportproperties CCOLQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r

para modificar un recurso en broker SMTP

mqsichangeproperties CCOLQMGR_BROKER -c SMTP -o BancolombiaSMTPService -n serverName -v Exchange.bancolombia.corp


**************************************************** Limpiar un log **************************************************

> user.log

**************************************************** Hacer un cambio a una propiedad *******************************************

mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsichangeproperties PPANQMGR_BROKER -c Aggregation -o HeaderESBXML_FINACLE -n timeoutSeconds -v 60
BIP8071I: Successful command completion.
mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsireportproperties PPANQMGR_BROKER -c Aggregation -o AllReportableEntityNames -r

Aggregation
  HeaderESBXML_FINACLE
    queuePrefix=''
    timeoutSeconds='60'
  IntAdap_Aggregate
    queuePrefix=''
    timeoutSeconds='20'

BIP8071I: Successful command completion.

******************************************************* Cambiar el numero de instancias en un flujo **********************************

1. Hacer un mqsireadbar al .bar y sacarlo a un .txt
2. En el archivo buscar el parametro por ejm (IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances)
3. a este parametro se le hace un mqsiapplybaroverride igualandolo al valor que indiquen ejm (mqsiapplybaroverride -b IA_FINACLE.bar -m "IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances=4")
4. desplegamos el bar y verificamos en la evidencia.

::::::::::::::::::::::::::::::::::

5.
Canales
--------------------------------------------------------------------------------------------------------------------------------
(listar las conexiones de un canal y su estado)
echo "display chstatus(NOMBRE_CANAL) status" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(OPTIONAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit y SSL)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(REQUIRED) sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)')" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente con SSL)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)') sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER
/var/mqm/qmgrs/[QUEUE_MANAGER]/@ipcc

(eliminar canal SVRCONN y CLNTCONN)
echo "delete channel(NOMBRE_CANAL)" | runmqsc PPANQMGR
echo "delete channel(NOMBRE_CANAL) CHLTABLE(CLNTTBL)" | runmqsc PPANQMGR

(detener/iniciar un canal)
echo "stop chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "start chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(refrescar canal)
echo "refresh qmgr type(CONFIGEV) name(NOMBRE_CANAL) object(CHANNEL)" | runmqsc NOMBRE_QUEUE_MANAGER

(inactivar un canal de manera controlada y de manera forzada, respectivamente)
echo "stop chl(NOMBRE_CANAL) mode(quiesce) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "stop chl(NOMBRE_CANAL) mode(force) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER





Activar
mqsichangetrace PCOLQMGR_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l debug -r -c 1048576


Desactivar
mqsichangetrace NOMBRE_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l none  



Convertir log                              
mqsireadlog NOMBRE_BROKER -u -e GETES_M01 -o log.xml
mqsiformatlog -i log.xml -o log_flujo.log 


********************************* mirar la dead letter queue de un gestor **************************************

mqm@pbmdeaqprs01(/var/mqm)# runmqsc CPANQMGR
5724-H72 (C) Copyright IBM Corp. 1994, 2009.  ALL RIGHTS RESERVED.
Starting MQSC for queue manager CPANQMGR.


dis qmgr all
     1 : dis qmgr all
AMQ8408: Display Queue Manager details.
   QMNAME(CPANQMGR)                        ACCTCONO(DISABLED)
   ACCTINT(1800)                           ACCTMQI(OFF)
   ACCTQ(OFF)                              ACTIVREC(MSG)
   ALTDATE(2013-05-23)                     ALTTIME(14.35.39)
   AUTHOREV(ENABLED)                       CCSID(819)
   CHAD(DISABLED)                          CHADEV(DISABLED)
   CHADEXIT( )                             CHLEV(ENABLED)
   CLWLDATA( )                             CLWLEXIT( )
   CLWLLEN(100)                            CLWLMRUC(999999999)
   CLWLUSEQ(LOCAL)                         CMDEV(ENABLED)
   CMDLEVEL(701)                           COMMANDQ(SYSTEM.ADMIN.COMMAND.QUEUE)
   CONFIGEV(ENABLED)                       CRDATE(2013-03-08)
   CRTIME(11.09.26)                        DEADQ(CPANQMGR.DEAD.LETTER.QUEUE)
   DEFXMITQ( )                             DESCR( )
   DISTL(YES)                              INHIBTEV(DISABLED)
   IPADDRV(IPV4)                           LOCALEV(DISABLED)
   LOGGEREV(DISABLED)                      MARKINT(5000)
   MAXHANDS(256)                           MAXMSGL(104857600)
   MAXPROPL(NOLIMIT)                       MAXPRTY(9)
   MAXUMSGS(10000)                         MONACLS(QMGR)
   MONCHL(OFF)                             MONQ(OFF)
   PARENT( )                               PERFMEV(ENABLED)
   PLATFORM(UNIX)                          PSRTYCNT(5)
   PSNPMSG(DISCARD)                        PSNPRES(NORMAL)
   PSSYNCPT(IFPER)                         QMID(CPANQMGR_2013-03-08_11.09.26)
   PSMODE(ENABLED)                         REMOTEEV(DISABLED)
   REPOS( )                                REPOSNL( )
   ROUTEREC(MSG)                           SCHINIT(QMGR)
   SCMDSERV(QMGR)                          SSLCRLNL( )
   SSLCRYP( )                              SSLEV(ENABLED)
   SSLFIPS(NO)
   SSLKEYR(/var/mqm/qmgrs/CPANQMGR/ssl/key_cpanqmgr)
   SSLRKEYC(0)                             STATACLS(QMGR)
   STATCHL(OFF)                            STATINT(1800)
   STATMQI(OFF)                            STATQ(OFF)
   STRSTPEV(ENABLED)                       SYNCPT
   TREELIFE(1800)                          TRIGINT(999999999)


*********Determinar nÃºmero de mensajes en la cola, y si aÃºn no han sido aplicados (COMMIT) *********

DISPLAY QSTATUS(REC_QRINOTCLI_RIN.QL.REQ) CURDEPTH UNCOM
DISPLAY QSTATUS(REC_QRINUNE_RIN.QL.REQ) CURDEPTH UNCOM

********************* Crear grupo de ejecucion ************************++

mqsicreateexecutiongroup CCOLQMGR_BROKER -e GE_GEN_01

************************* Activar monitoreo de flujos ******************+

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "ErrorAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoError_flujo.txt

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "LoggingAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoLogin_flujo.txt
2019-11-06 20:28:23,723 - INFO - Indexing file: Reinicio de Intermedia.docx
2019-11-06 20:28:23,729 - DEBUG - ---Reinicio de Intermedia
2019-11-06 20:28:23,730 - DEBUG - ---A continuación se detallará el paso a paso para reiniciar Intermedia.
2019-11-06 20:28:23,730 - DEBUG - ---Ubicarse en la consola de servicios de Windows.  Se puede ingresar por Panel de Control -> Herramientas Administrativas -> Servicios (como se ve en la imagen de abajo).
2019-11-06 20:28:23,731 - DEBUG - ---También se puede ingresar digitando en la ventana Ejecutar (Run) “services.msc” (como se ve en la imagen de abajo):
2019-11-06 20:28:23,731 - DEBUG - ---Luego, ubicarse en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “stop”:
2019-11-06 20:28:23,732 - DEBUG - ---En la ventana que aparece a continuación “Stop Other Services”, dar clic en el botón “Yes”.
2019-11-06 20:28:23,732 - DEBUG - ---Los servicios “beasvc valores_domain_IntermediaServer” y “beasvc valores_domain_ReportesIntServer” deben estar detenidos:
2019-11-06 20:28:23,733 - DEBUG - ---Luego, estando ubicado en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “Start”
2019-11-06 20:28:23,733 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:28:23,734 - DEBUG - ---El servicio “beasvc valores_domain_IntermediaServer” debe aparecer en estado Started.
2019-11-06 20:28:23,734 - DEBUG - ---Luego, iniciar el servicio “beasvc valores_domain_ReportesIntServer”, dando clic derecho sobre él y seleccionar “Start”:
2019-11-06 20:28:23,735 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:28:23,735 - DEBUG - ---El servicio “beasvc valores_domain_ReportesIntServer”, debe aparecer en estado Started.
2019-11-06 20:28:23,735 - INFO - Indexing file: PTR_ACT - LDAP - Subir servicios WAS sbbanbld01v .docx
2019-11-06 20:28:23,749 - DEBUG - ---

2019-11-06 20:28:23,750 - DEBUG - ---Control de Versiones
2019-11-06 20:28:23,750 - DEBUG - ---

2019-11-06 20:28:23,751 - DEBUG - ---Nombre del PTR
2019-11-06 20:28:23,751 - DEBUG - ---Consideraciones previas
2019-11-06 20:28:23,752 - DEBUG - ---Validar que el área de trabajo sea el DR utilizando el comando uptime:
2019-11-06 20:28:23,753 - DEBUG - ---Para las pruebas en el DR es posible que la dirección IP del controlador de dominio destinado sea diferente al configurado en WAS por lo que es necesario en primer lugar validar dicha configuración. Si se da este caso entonces es necesario proceder a actualizar la configuración de la celda WAS para que apunte al nuevo servidor. Después de realizar este cambio es necesario reiniciar la celda completa. De igual  manera proceder a ingresar por la consola web de WAS para validar que la autenticación se exitosa.
2019-11-06 20:28:23,754 - DEBUG - ---Ingresar al archivo LDAP_DMGR/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:28:23,757 - DEBUG - ---Ingresar al archivo LDAP_AppSrv01/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:28:23,759 - DEBUG - ---Validar en la celda que servidores de aplicación se encuentran iniciados. Para esto es necesario ingresar a la consola WEB y validar el estado de los Appserver.
2019-11-06 20:28:23,760 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:28:23,761 - DEBUG - ---También se puede realizar esta validación ingresando por una sesión SSH y validar los proceso java que se estén ejecutando en el servidor.
2019-11-06 20:28:23,762 - DEBUG - ---Para esto es necesario ingresar a los dos servidores donde se encuentra LDAP y validar que el dmgr, node y AppeServer se encuentran en estado de ejecución. 
2019-11-06 20:28:23,762 - DEBUG - ---SBBANBLD01v
2019-11-06 20:28:23,764 - DEBUG - ---SBBANBLD02v
2019-11-06 20:28:23,765 - DEBUG - ---Por último es necesario validar que la Shell que inicia y detiene servicios se encuentre en el home del usuario de servicio de WAS. Esto lo encontramos en la siguiente ruta.
2019-11-06 20:28:23,766 - DEBUG - ---wassvc01@SBBANBLD01v:~>
2019-11-06 20:28:23,767 - DEBUG - ---wassvc01@SBBANBLD02v:~>
2019-11-06 20:28:23,769 - DEBUG - ---Descripción de las actividades
2019-11-06 20:28:23,769 - DEBUG - ---Detener servicios del LDAP en WAS
2019-11-06 20:28:23,771 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:28:23,771 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:23,772 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:28:23,773 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:23,775 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:28:23,775 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:23,776 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:28:23,777 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:23,779 - DEBUG - ---Iniciar servicios del LDAP en WAS
2019-11-06 20:28:23,780 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:28:23,780 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:23,781 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:28:23,782 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:23,783 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:28:23,784 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:28:23,785 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:28:23,785 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:28:23,787 - DEBUG - ---Para finalizar se ingresa a la consola para validar que todo los servicios se encuentran en estado runin.
2019-11-06 20:28:23,789 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:28:23,790 - INFO - Indexing file: Bibliotecas Compartidas.docx
2019-11-06 20:28:23,800 - DEBUG - ---Bibliotecas Compartidas
2019-11-06 20:28:23,801 - DEBUG - ---Las bibliotecas compartidas permiten configurar los jar que serán usados por la aplicación. En el banco encontramos tres tipos de bibliotecas compartidas:
2019-11-06 20:28:23,801 - DEBUG - ---De uso común: Transversal a muchas aplicaciones. Hacen parte del framework de Bancolombia y están agrupadas por las tareas que ejecutan. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen. No se deben referenciar directorios. 
2019-11-06 20:28:23,802 - DEBUG - ---Bibliotecas de Uso Común
2019-11-06 20:28:23,802 - DEBUG - ---Biblioteca de Encripción
2019-11-06 20:28:23,803 - DEBUG - ---Bibliotecas de Transformación de Mensajería
2019-11-06 20:28:23,804 - DEBUG - ---Biblioteca Seguridad
2019-11-06 20:28:23,805 - DEBUG - ---Biblioteca Web Services
2019-11-06 20:28:23,805 - DEBUG - ---De framewors de terceros: En este caso se debe tener presente la versión referenciada en la biblioteca. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios.
2019-11-06 20:28:23,806 - DEBUG - ---Hibernate
2019-11-06 20:28:23,807 - DEBUG - ---Spring
2019-11-06 20:28:23,808 - DEBUG - ---De uso específico de la aplicación: También existen bibliotecas con jars específicos de la aplicación. Sin embargo, se aclara que en NINGÚN caso deben referenciar cualquiera de los siguientes jars: 
2019-11-06 20:28:23,809 - DEBUG - ---servlet.jar
2019-11-06 20:28:23,809 - DEBUG - ---jstl.jar
2019-11-06 20:28:23,810 - DEBUG - ---mail.jar
2019-11-06 20:28:23,810 - DEBUG - ---activation.jar
2019-11-06 20:28:23,810 - DEBUG - ---junit.jar
2019-11-06 20:28:23,811 - DEBUG - ---xercesImpl.jar
2019-11-06 20:28:23,811 - DEBUG - ---xml-apis.jar
2019-11-06 20:28:23,812 - DEBUG - ---el-api.jar
2019-11-06 20:28:23,812 - DEBUG - ---el-impl.jar
2019-11-06 20:28:23,812 - DEBUG - ---Su classpath es /wrkdirr/xxxdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios. Las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:28:23,813 - DEBUG - ---
Configuración del alcance (scope):
2019-11-06 20:28:23,813 - DEBUG - ---Al encontrarnos en una configuración Network Deployment tenemos la posibilidad de crear la biblioteca en los siguientes alcances:
2019-11-06 20:28:23,814 - DEBUG - ---Celda (Cell): Se debe seleccionar para las bibliotecas compartidas de uso común.
2019-11-06 20:28:23,815 - DEBUG - ---Grupo de servidores (Cluster): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en cluster.
2019-11-06 20:28:23,815 - DEBUG - ---Nodo (Node): No se debe usar.
2019-11-06 20:28:23,815 - DEBUG - ---Servidor (Server): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en un solo servidor de aplicaciones.
2019-11-06 20:28:23,816 - DEBUG - ---Excepciones: 
2019-11-06 20:28:23,816 - DEBUG - ---Si una aplicación desea referenciar un nuevo JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:28:23,817 - DEBUG - ---El JAR no afecta el correcto funcionamiento de las aplicaciones que actualmente usan dicha biblioteca compartida.
2019-11-06 20:28:23,817 - DEBUG - ---El JAR si es de uso común y no es especifico de la aplicación.
2019-11-06 20:28:23,818 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida solo con el (los) nuevos JAR’s, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:28:23,819 - DEBUG - ---Si una aplicación desea referenciar una versión diferente del JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:28:23,819 - DEBUG - ---¿Es una nueva versión? 
2019-11-06 20:28:23,820 - DEBUG - ---¿Es compatible con versiones anteriores, con el fin de no afectar aplicaciones que usen una versión anterior?
2019-11-06 20:28:23,820 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida con los JAR’s que usara la aplicación, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:28:23,821 - INFO - Indexing file: Archivos_Configuracion_y_Log.docx
2019-11-06 20:28:23,826 - DEBUG - ---Archivos de Configuración y Log
2019-11-06 20:28:23,827 - DEBUG - ---La idea es que el despliegue de las aplicaciones web se realice con base en un archivo de configuración inicial en formato XML. En este archivo se definen las propiedades que requiere el aplicativo de forma estática y que cambian de acuerdo al ambiente.
2019-11-06 20:28:23,827 - DEBUG - --- 
2019-11-06 20:28:23,828 - DEBUG - ---Propiedades como usuarios de conexión, passwords encriptados, rutas en el sistema de archivos, endpoints para acceder web services, nombres de librerías, nombres de dataqueues (en el caso de la plataforma ISeries), etc, deberán definirse en este archivo. El nombre de este XML de configuración, debe ser: xxx-conf.xml, donde las tres (3) X corresponden al nombre asignado al aplicativo. Ejemplos: tac-conf.xml, pcc-conf.xml, tmx-conf.xml, cae-conf.xml. 
2019-11-06 20:28:23,828 - DEBUG - ---Este archivo deberá ubicarse en una ruta creada para tal efecto y cuyo estándar es el siguiente: /wrkdir/xxxdir. Las tres (3) X corresponden a la sigla asignada al aplicativo. Como ejemplos tenemos: /wrkdirr/tacdirr, /wrkdirr/pccdirr, /wrkdirr/tmxdirr, /wrkdirr/caedirr. 
2019-11-06 20:28:23,829 - DEBUG - ---En este directorio se deben ubicar todos los componentes que hacen parte de la aplicación y que no hacen parte del EAR. Por ejemplo:
2019-11-06 20:28:23,829 - DEBUG - ---JAR’s propios de la aplicación.
2019-11-06 20:28:23,830 - DEBUG - ---Almacenes de certificados (KeyStore)
2019-11-06 20:28:23,830 - DEBUG - ---Archivos de configuración como el ya mencionado xxx-conf.xml
2019-11-06 20:28:23,831 - DEBUG - ---Para que la aplicación pueda acceder a estos archivos, la idea es crear una propiedad personalizada a nivel de la máquina virtual del servidor. El estándar para nombrar esta propiedad será: co.com.grporg.bancolombia.entappxxx.configfile, donde las tres (3) X corresponden a la sigla que identifica cada aplicativo. Dentro del archivo de configuración, debe hacerse referencia a una propiedad en la cual se parametriza la ruta en la que se localiza el archivo de configuración de log. Dicha propiedad en el ejemplo, se llama NombreArchivoLog. El estándar para el nombre de este archivo es xxx-log.xml, donde las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:28:23,832 - DEBUG - ---En este archivo se definen los niveles y tipos de archivo de log que debe generar el aplicativo. La idea es que se generen dos archivos: XXXInfo.log y XXXError.log. Nuevamente las tres (3) X corresponden a la sigla asignada al aplicativo. En el ejemplo tenemos TMXInfo.log y TMXError.log. Con ello, se previene que la aplicación escriba en la consola, práctica que debe ser erradicada en ambientes de producción. El insumo para estos archivos es la existencia de una ruta denominada /logdir/xxxdir. De nuevo, las tres (3) X identifican el aplicativo. Como ejemplo, tenemos /logdirr/tmxdirr.
2019-11-06 20:28:23,832 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-06 20:28:23,849 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:28:23,851 - DEBUG - ---Gerencia de infraestructura banistmo
2019-11-06 20:28:23,852 - DEBUG - ---SUCURSAL VIRTUAL PERSONAS 
2019-11-06 20:28:23,854 - DEBUG - ---BANISTMO
2019-11-06 20:28:23,856 - DEBUG - ---

2019-11-06 20:28:23,856 - DEBUG - ---Control del Documento
2019-11-06 20:28:23,858 - DEBUG - ---

2019-11-06 20:28:23,858 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:23,864 - DEBUG - ---

2019-11-06 20:28:23,865 - DEBUG - ---DIAGRAMA DE COMPONENTES DEL DISEÑO SEGÚN LA PLATAFORMA
2019-11-06 20:28:23,866 - DEBUG - ---Producción
2019-11-06 20:28:23,867 - DEBUG - ---

2019-11-06 20:28:23,867 - DEBUG - ---Diagrama E2E
2019-11-06 20:28:23,869 - DEBUG - ---DESCRIPCIÓN DETALLADA DE CADA COMPONENTE EN LA PLATAFORMA BANCO 
2019-11-06 20:28:23,870 - DEBUG - ---PRODUCCIÓN
2019-11-06 20:28:23,872 - DEBUG - ---SECURITY GATEWAY:
2019-11-06 20:28:23,873 - DEBUG - ---El aplicativo Security Gateway cumple el rol de mediador entre el Front-End y los sistemas externos Integrador (ESB), DetectID y Directorio Activo, ADM.
2019-11-06 20:28:23,874 - DEBUG - ---ADM:
2019-11-06 20:28:23,874 - DEBUG - ---Administración de Usuarios. 
2019-11-06 20:28:23,875 - DEBUG - ---Es la aplicación de administración de usuarios, se valida existencia del usuario que está ingresando a la SVP.
2019-11-06 20:28:23,876 - DEBUG - ---DETECT ID
2019-11-06 20:28:23,876 - DEBUG - ---Aplicación que centraliza parte de la seguridad de la nueva Sucursal Virtual Personas (Autenticación, pregunta y respuesta secreta, creación de usuario y contraseña, imagen etc.).
2019-11-06 20:28:23,877 - DEBUG - ---BUS DE INTEGRACION
2019-11-06 20:28:23,878 - DEBUG - ---INTERMEDIARIO
2019-11-06 20:28:23,879 - DEBUG - ---Servidor De Aplicaciones:
2019-11-06 20:28:23,880 - DEBUG - ---Es un producto de la suite de websphere, que está diseñado para soportar sitios web dinámicos, aplicaciones y servicios web. De carácter integrador y multiplataforma (middleware), presta servicios de conectividad de bases de datos, conexión entre diferentes ESB, entre otras funcionalidades a base de código java.
2019-11-06 20:28:23,881 - DEBUG - ---DESCRIPCIÓN DETALLADA DEL DISEÑO EN LA PLATAFORMA
2019-11-06 20:28:23,882 - DEBUG - ---SERVIDOR DE APLICACIONES:
2019-11-06 20:28:23,883 - DEBUG - ---PRODUCCION – UAT – DESARROLLO
2019-11-06 20:28:23,884 - DEBUG - ---Lista De Chequeo recomendado para diagnostico  
2019-11-06 20:28:23,885 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:23,886 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:28:23,888 - DEBUG - ---Ej: https://10.5.161.169:9043/admin
2019-11-06 20:28:23,890 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación y validar los logs del App Server systemerr y systemout
2019-11-06 20:28:23,891 - DEBUG - ---Comprobar el ‘estado de salud’ de la máquina. Lo más importante es identificar el consumo de memoria y disco.
2019-11-06 20:28:23,892 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones. 
2019-11-06 20:28:23,892 - DEBUG - ---Contingencia de Infraestructura  Asociadas al servicio
2019-11-06 20:28:23,893 - DEBUG - ---Los procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:23,894 - DEBUG - ---El servidor de aplicaciones se encuentra instalado en dos máquinas distintas (Power HA) de modo activo – activo. En las mismas maquinas también está instalado el WebServer y este debe permanecer con el esquema activo – pasivo y con este se determina cuál de las dos máquinas se encuentra atendiendo el servicio.
2019-11-06 20:28:23,895 - DEBUG - ---

2019-11-06 20:28:23,896 - DEBUG - ---Errores conocidos de la Infraestructura
2019-11-06 20:28:23,897 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:28:23,897 - DEBUG - ---A Nivel De Was
2019-11-06 20:28:23,898 - DEBUG - ---A Nivel De La Aplicación
2019-11-06 20:28:23,899 - INFO - Indexing file: SAS ALM REINICIO SERVICIOS AML APP - PRODUCCION.txt
2019-11-06 20:28:23,900 - DEBUG - ---REINICIO DE SERVICIOS ALD - PRODUCCION - APP Y WEB - nuevos
--------------------------------------------------------------------------------------------------

OJO: PARA DETENER PRIMERO TODO LO DEL WAS Y LUEGO TODO EL SERVIDOR DE APLICACIONES.
PARA INICIAR, PRIMERO TODO EL SERVIDOR APLICACIONES Y LUEGO EL SERVIDOR WEB

				DETENCION DE SERVICIOS
               		------------------------------------------
SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------

1. DETENCION SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Autenticarse con el usuario wassvc en el servidor 10.4.80.25 y ejecutar:

DETENCION DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopManager.sh" -profileName "WAS01DMGRAML"

Se debe garantizar que no quede ningun proceso asociado al DMGR, al perfil ni tampoco a los application servers, para ello, en putty, ejecutar

ps -fea |grep WAS01AMLAS4
ps -fea |grep WAS01AMLAS3
ps -fea |grep WAS01AMLAS2
ps -fea |grep WAS01AMLAS1
ps -fea |grep WAS01AMLPF
ps -fea |grep WAS01DMGRAML

No nos deberia devolver procesos asociados, en caso contrario matarlos con kill -9

2. DETENCION SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP

Para garantizar que no quede ningun proceso asociado al puerto 5095 (remote services) se debe ejecutar por putty el comando:

netstat -Aan | grep 5095

Lo cual devuelve un resultado como:

f100070001028bb0 tcp4       0      0  *.5095            *.*      LISTEN     para el puerto 5095
valor de ejemplo


con este dato, ejecutamos en consola el comando: 

rmsock f100070001028bb0 tcpcb    donde el valor de la mitad es a modo de ejemplo y se obtiene de la validación inicial del puerto

el resultado de este comando nos da el numero del proceso asociado al puerto que está LISTEN, nos da un resultado como:


The socket 0x1028808 is being held by proccess  (java).
          Valor ejemplo  

Con lo cual podríamos hacer un 

Kill -9 nro proceso   ejemplo: kill -9 766076



SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

3. DETENCION SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP


	                           INICIO DE SERVICIOS
               		------------------------------------------	

Para iniciar servicios:

SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

1. INICIO SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------

Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------
2. INICIO SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------

ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

3. INICIO DE SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC
--------------------------------------------------------------------------------------------------

INICIO DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/startManager.sh" -profileName "WAS01DMGRAML"
"/was7/IBM/WebSphere/AppServer/bin/startNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"


VALIDACION URL'S
--------------------------------------------------------------------------------------------------

Consola Administracion de WAS por puerto no seguro: http://pbmdeapwas01.bancolombia.corp:51400/ibm/console/unsecureLogon.jsp

SAS Stored Process Web Application:    		http://pbmdeapwas01.bancolombia.corp:51450/SASStoredProcess/do
SAS Web Administration Console:        		http://pbmdeapwas01.bancolombia.corp:51450/SASAdmin
SAS Web Report Studio:		       		http://pbmdeapwas01.bancolombia.corp:51500/SASWebReportStudio
SAS Information Delivery Portal        		http://pbmdeapwas01.bancolombia.corp:51450/SASPortal
SAS BI Dashboard		       		http://pbmdeapwas01.bancolombia.corp:51450/SASBIDashboard
SAS Flex Application Themes:           		http://pbmdeapwas01.bancolombia.corp:51450/SASThemeDesignerForFlex. 
SAS Enterprise Case Management Mid-tier: 	http://pbmdeapwas01.bancolombia.corp:51550/SASEntCaseManagement
SAS Help Viewer for Midtier Applications: 	http://pbmdeapwas01.bancolombia.corp:51500/SASWebDoc
SAS Anti-Money Laundering Investigation UI 5.1: http://pbmdeapwas01.bancolombia.corp:51550/AntiMoneyLaunderingInvestUI_BusinessUnit
pdnwsaml
pbmdeapwas01








2019-11-06 20:28:23,904 - INFO - Indexing file: Datos ECM - Arquitectura PSeries.docx
2019-11-06 20:28:23,972 - DEBUG - ---Las urls de Capacitación son: 
2019-11-06 20:28:23,972 - DEBUG - ---WAS: 
2019-11-06 20:28:23,973 - INFO - Indexing file: Datos ECM - Arquitectura Windows.docx
2019-11-06 20:28:23,978 - INFO - Indexing file: Pasos Instalacion TLSv1-2 RSA.docx
2019-11-06 20:28:23,981 - DEBUG - ---Ingresar al dmgr de calidad
2019-11-06 20:28:23,982 - DEBUG - ---Ir a security a la opción de la imagen a continuación.
2019-11-06 20:28:23,982 - DEBUG - ---Clic en NodeDefaultSSLSettings del nodo de calidad
2019-11-06 20:28:23,983 - DEBUG - ---Seleccionar TLSv1.2, dar clic en OK y finalmente reinciar el CLUSTER de RAS de forma escalonada.
2019-11-06 20:28:23,983 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:28:24,012 - DEBUG - ---Manual de Operaciones
2019-11-06 20:28:24,013 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:28:24,015 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:28:24,040 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:28:24,044 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:28:24,046 - DEBUG - ---DESARROLLO
2019-11-06 20:28:24,049 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:24,052 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,055 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:24,057 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:24,061 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:24,066 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:24,071 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:24,073 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:24,075 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,078 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:24,079 - DEBUG - ---

2019-11-06 20:28:24,080 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:28:24,081 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:24,083 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,085 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:24,086 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:24,088 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:24,090 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:24,094 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:24,104 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:24,106 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,109 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:24,110 - DEBUG - ---

2019-11-06 20:28:24,112 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:28:24,113 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:24,115 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:28:24,117 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:24,118 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:28:24,120 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:24,121 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:28:24,123 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:24,136 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:24,139 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,142 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:24,147 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:28:24,148 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:24,150 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,152 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:24,153 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:24,154 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:24,155 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:24,158 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:24,161 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:24,166 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:24,167 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:24,168 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:24,169 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:24,170 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:24,171 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:24,172 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:28:24,181 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:28:24,183 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:28:24,184 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:24,187 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:24,195 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,200 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:24,202 - DEBUG - ---

2019-11-06 20:28:24,203 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:28:24,205 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:24,207 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,209 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:24,210 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:24,210 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:24,211 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:24,213 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:24,214 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:24,215 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:24,215 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:24,217 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:28:24,218 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:28:24,219 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:28:24,221 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:24,231 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:24,235 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:24,237 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:24,239 - DEBUG - ---

2019-11-06 20:28:24,241 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:28:24,242 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:28:24,243 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:28:24,244 - DEBUG - ---AW0939
2019-11-06 20:28:24,245 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:28:24,246 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:28:24,246 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:28:24,247 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:28:24,248 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:28:24,249 - DEBUG - ---PASOS
2019-11-06 20:28:24,250 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:28:24,253 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:28:24,256 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:28:24,259 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:28:24,262 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:28:24,265 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:28:24,267 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:28:24,269 - DEBUG - ---

2019-11-06 20:28:24,271 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:28:24,273 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:28:24,276 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:28:24,278 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:28:24,281 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:28:24,283 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:28:24,284 - INFO - Indexing file: Configuración Activation specifications.docx
2019-11-06 20:28:24,295 - DEBUG - ---Activation Specifications
2019-11-06 20:28:24,295 - DEBUG - ---Seleccionar el scope respectivo, luego > NewLlenar los siguientes campos, nombre del recurso JMS 
2019-11-06 20:28:24,296 - DEBUG - ---Nombre de recurso asociado a la cola:
2019-11-06 20:28:24,297 - DEBUG - ---Nombre del gestor de colas:
2019-11-06 20:28:24,297 - DEBUG - ---Transporte: cliente, en el campo Connection name list se deben colocar las máquinas con el respectivo puerto del gestor, separadas por , 
2019-11-06 20:28:24,297 - DEBUG - ---El Test Connection en was siempre da fallido, esto no significa que la conexión no se vaya a realizar o este mal parametrizada:
2019-11-06 20:28:24,298 - DEBUG - ---

2019-11-06 20:28:24,298 - DEBUG - ---Luego de creado el activation specification se debe acceder a el para terminar de realizar las configuraciones:
2019-11-06 20:28:24,299 - DEBUG - ---Configurar SSL para canal seguro:
2019-11-06 20:28:24,300 - DEBUG - ---

2019-11-06 20:28:24,300 - DEBUG - ---Creación de colas:
2019-11-06 20:28:24,301 - DEBUG - ---

2019-11-06 20:28:24,301 - DEBUG - ---

2019-11-06 20:28:24,301 - DEBUG - ---Para activar la configuration
2019-11-06 20:28:24,302 - DEBUG - ---Se debe exportar la aplicación fsbmdb.ear
2019-11-06 20:28:24,303 - DEBUG - ---Luego se debe redesplegar una nueva aplicación fsbmdb con un nuevo nombre
2019-11-06 20:28:24,303 - DEBUG - ---Cambiar el nombre de la aplicación, relacionándolo con el nuevo recurso JMS
2019-11-06 20:28:24,304 - DEBUG - ---Seleccionar al módulo asociado los servidores y/o clusters relacionados:
2019-11-06 20:28:24,305 - DEBUG - ---Relacionar con el recurso jms creado (Activation Specification):
2019-11-06 20:28:24,306 - DEBUG - ---Luego activar la aplicación fsbmdb_HA01
2019-11-06 20:28:24,306 - INFO - Indexing file: test.docx
2019-11-06 20:28:24,309 - DEBUG - ---Documento de prueba
2019-11-06 20:28:24,309 - DEBUG - ---parrafa 1 ok
2019-11-06 20:28:24,309 - DEBUG - ---parrafa 2 ok
2019-11-06 20:28:24,309 - DEBUG - ---parrafa 3 ok
2019-11-06 20:28:24,310 - DEBUG - ---parrafa 4 ok
2019-11-06 20:28:24,310 - INFO - Indexing file: test.txt
2019-11-06 20:28:24,310 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-06 20:28:24,312 - INFO - Indexing file: portal.txt
2019-11-06 20:28:24,312 - DEBUG - ---
home bancolombia --> intergrupo
home banitsmo    ------> nosotros

arquitecrua
---------------------------------------------
dallas nodo 1, dmgr
washington nodo 2
server 1 ihs y ventas digitales banitsmo
server 2 ihs y ventas digitales banitsmo
db 1  en HADR
db 2  en HADR
balanceadores de carga (con redes)

la db apunta a un nodo en particular, si hay contigencia se debe apuntar a mano

el producto portal utiliza el usuario 'portal'
los WAS usand el usuario 'portal'
los ihs usan 'wasadmin'

todo estÃ¡ en un keepass  -------> conseguir

para probar cargar www.banitsmo.com

esructuras
--------------------
dllo y QA son administrador por intergrupo
el XML de estructura se exporta desde ahi y se importa en producciÃ³n con XMLAccess


contenidos
--------------------
automatico a las 1pm y 6pm
puede hacerse manual con la consola web
tambien hay script que tiene intergrupo

dentro de WAS la aplicaciÃ³n
------------------------------
las urls de DMGR estÃ¡n en el manual
http://10.209.17.3:9443|9043/ibm/console

los datasources wp ...   son del portal
tienen un duplicado wp ... _DR que apunte al nodo de DB de contingencia
eso no funciona

los 2 nodos espejan bien pero ante una contingencia hay que apuntar los DS (los normales sin DR) manualmente al nodo activo.

las aplicaciones web que administramos en el portal son las que se llaman '*anitsmo'. Las otras forman parte del producto.
las aplicaciones Banitsmo son el theme del portal
las aplicaciones banitsmo_dtd_* son de contenido como tal

consola de portal
----------------------------
portal contenet --> suscribers
sindicacion de contenido por consola web - suscribers, donde se configura que el contenido viene desde QA
probar conexion con el proveedor de contenido, primer icono
sindicaciÃ³n manual, segun Ã­cono
editar suscripcion, tercer icono

monitoreo
---------------
new relic
xrbc --> bancolombia
xrvi --> banitsmo

dudas
---------------
usuarios de DMGR
usuarios de consola de portal
keepass
contraseÃ±a de wasadmin
cer si mi usuario de softlayer funciona o no con esto
pedir usuario de new relic


2019-11-06 20:28:24,314 - INFO - Indexing file: Instalacion_WinScp.docx
2019-11-06 20:28:24,321 - DEBUG - ---Instalación y uso de la herramienta WinScp
2019-11-06 20:28:24,322 - DEBUG - ---Se ejecuta el instalador  y clic en aceptar.
2019-11-06 20:28:24,322 - DEBUG - --- 
2019-11-06 20:28:24,322 - DEBUG - ---Clic en siguiente
2019-11-06 20:28:24,323 - DEBUG - ---Clic en aceptar
2019-11-06 20:28:24,324 - DEBUG - ---Clic en siguiente
2019-11-06 20:28:24,324 - DEBUG - ---

2019-11-06 20:28:24,324 - DEBUG - ---Clic en siguiente
2019-11-06 20:28:24,325 - DEBUG - ---Clic en instalar
2019-11-06 20:28:24,325 - DEBUG - ---                
2019-11-06 20:28:24,326 - DEBUG - ---Clic en finalizar
2019-11-06 20:28:24,326 - DEBUG - ---

2019-11-06 20:28:24,326 - DEBUG - ---Para realizar copias de archivos de servidores a PC de escritorio y viceversa se efectúa de la siguiente manera:
2019-11-06 20:28:24,327 - DEBUG - ---Ingresar a Password Safe e ingresar a un servidor (En este caso Linux) y antes de abrir una sesión SSH copiar todo el contenido de la sección “Username/IP”:
2019-11-06 20:28:24,328 - DEBUG - ---Abrir preferiblemente un internet explorer y en el campo de texto de la dirección URL pegar la línea copiada y agregar al principio “sftp://” y al final (:4422) como se ve en la imagen:
2019-11-06 20:28:24,328 - DEBUG - ---

2019-11-06 20:28:24,329 - DEBUG - ---Dar enter e inmediatamente se ejecuta la herramienta winScp:
2019-11-06 20:28:24,329 - DEBUG - ---Ya con esto se pueden realizar copias entre PC y servidor.
2019-11-06 20:28:24,330 - DEBUG - ---Nota: es preferible realizar las copias inicialmente al directorio “/tmp”, ya después por sesión ssh a través del putty hacer las operaciones requeridas con los archivos copiados.
2019-11-06 20:28:24,330 - INFO - Indexing file: ConfigurarPutty.txt
2019-11-06 20:28:24,331 - DEBUG - ---ÿþW i n d o w s   R e g i s t r y   E d i t o r   V e r s i o n   5 . 0 0 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h ] 
 
 @ = " U R L : S e c u r e   S h e l l   P r o t o c o l " 
 
 " U R L   P r o t o c o l " = " " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ D e f a u l t I c o n ] 
 
 @ = " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n \ c o m m a n d ] 
 
 @ = " c m d   / V : O N   / s   / c   @ e c h o   o f f   & &   s e t   u r l = % 1   & &   f o r   / f   \ " t o k e n s = 1 , 2 , 3   d e l i m s = : /   \ "   % % a   i n   ( \ " ! u r l ! \ " )   d o   s e t   p r o t o c o l = % % a & s e t   h o s t = % % b & s e t   p o r t = % % c   & &   s t a r t   \ " \ "   \ " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e \ "   - P   ! p o r t !   ! h o s t ! " 
 
 
 
 
2019-11-06 20:28:24,331 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 20:28:24,332 - DEBUG - ---ï»¿WAS iSeries
--------------------
crear perfil (/qibm/proddata/websphere/appserver/v85/nd/bin)
./manageprofiles -create -profileName WAS01PFCSV02 -templatePath managed -nodeName WASSV1_WAS01PFCSV02 -hostname WASSV1.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL01PFCSV02 -templatePath managed -nodeName WASNLSV1_WNL01PFCSV02 -hostname WASNLSV1.BANCOLOMBIA.COM
./manageprofiles -create -profileName WAS02PFCSV02 -templatePath managed -nodeName WASSV2_WAS02PFCSV02 -hostname WASSV2.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL02PFCSV02 -templatePath managed -nodeName WASNLSV2_WNL02PFCSV02 -hostname WASNLSV2.BANCOLOMBIA.COM 

./manageprofiles -delete -profileName WNL01PFCSV02

habilitar java 7 (/qibm/proddata/websphere/appserver/v85/nd/bin)
./managesdk -enableProfile -profileName WAS01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WAS02PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL02PFCSV02 -sdkname 1.7_64 -enableServers

federar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
#./addNode 10.8.3.174 49503 -username mgazzola -password ************
#./addNode 10.8.3.174 49503 -username svcwps01 -password W3v$p1*Er9
./addNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM

sincronizar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
./stopNode
 -username wassvc -password C0nf1d3nci@lECM
./syncNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM
./startNode

resultado
system administration - node agents - aparece el nuevo nodo

WAS pSeries
-----------------
crear perfiles dmgr y managed
./manageprofiles.sh -create -profileName DMGR85LIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBDMGRLIVEBPDNA01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/management/
./manageprofiles.sh -create -profileName DWEBLIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBLIVEBPDNODE01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/managed/

habilitar java
./managesdk.sh -enableProfileAll -sdkname 1.7_64 -enableServers

borrar perfiles
bin ./manageprofiles.sh -delete -profileName DWEB85RECMIGPF01
bin ./manageprofiles.sh -delete -profileName DWEBLIVEBPDPF01


parachado de WAS
------------------

PARA ACTUALIZAR WAS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/WAS_85/IBM/WebSphere/AppServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

PARA ACTUALZIAR PLUGIN
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/Plugins -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress -properties user.wasjava=java6

PARA ACTUALIZAR IHS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/HTTPServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

VERIFICAR LOS MEDIOS INSTALADOS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl  listInstalledPackages -long



2019-11-06 20:28:24,334 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 20:28:24,353 - DEBUG - ---

2019-11-06 20:28:24,355 - DEBUG - ---

2019-11-06 20:28:24,357 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:28:24,358 - DEBUG - ---Nota
2019-11-06 20:28:24,359 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:28:24,360 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:28:24,362 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:28:24,363 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:28:24,364 - DEBUG - ---Nota
2019-11-06 20:28:24,365 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:28:24,366 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:24,368 - DEBUG - ---a.
2019-11-06 20:28:24,368 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:24,370 - DEBUG - ---b.
2019-11-06 20:28:24,371 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:24,372 - DEBUG - ---f.
2019-11-06 20:28:24,373 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:24,375 - DEBUG - ---

2019-11-06 20:28:24,376 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:28:24,377 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:28:24,378 - DEBUG - ---Recordar:
2019-11-06 20:28:24,379 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:28:24,379 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:28:24,380 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:28:24,382 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:28:24,383 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:28:24,384 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:28:24,385 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:28:24,386 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:28:24,386 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:28:24,387 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:28:24,388 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:28:24,389 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:28:24,390 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:28:24,391 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:28:24,392 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:28:24,393 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:28:24,393 - DEBUG - --- 
2019-11-06 20:28:24,394 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:28:24,395 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:28:24,396 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:28:24,397 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:28:24,398 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:28:24,399 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:28:24,400 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:28:24,401 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:28:24,402 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:28:24,403 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:28:24,405 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:28:24,406 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:28:24,406 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:28:24,407 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:28:24,408 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:28:24,409 - INFO - Indexing file: pass.txt
2019-11-06 20:28:24,409 - DEBUG - ---WSZA855C3S
2019-11-06 20:28:24,409 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-06 20:28:24,419 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:28:24,421 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:28:24,423 - DEBUG - ---Elaborado para
2019-11-06 20:28:24,424 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:28:24,424 - DEBUG - ---Elaborado por
2019-11-06 20:28:24,425 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:28:24,426 - DEBUG - ---Fecha
2019-11-06 20:28:24,426 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:28:24,431 - DEBUG - ---Objetivo
2019-11-06 20:28:24,432 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:28:24,432 - DEBUG - ---Rotación de servicios
2019-11-06 20:28:24,433 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:28:24,433 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:28:24,440 - DEBUG - ---Menú iSeries
2019-11-06 20:28:24,440 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:28:24,442 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:28:24,442 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:28:24,443 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:28:24,443 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:28:24,444 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:28:24,444 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:28:24,445 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:28:24,446 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:28:24,446 - DEBUG - ---Opciones del menú
2019-11-06 20:28:24,447 - DEBUG - ---Contingencia Medellín
2019-11-06 20:28:24,448 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:28:24,449 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:28:24,449 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:28:24,450 - DEBUG - ---Regresar
2019-11-06 20:28:24,450 - DEBUG - ---Salir
2019-11-06 20:28:24,451 - DEBUG - ---Rotación servicios
2019-11-06 20:28:24,452 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:28:24,452 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:28:24,453 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:28:24,454 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:24,455 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:24,457 - DEBUG - ---Actividades IPL
2019-11-06 20:28:24,457 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:28:24,458 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:28:24,458 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:28:24,459 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:28:24,460 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:28:24,460 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:28:24,461 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:28:24,461 - INFO - Indexing file: Actualizar_certificado_celda_WAS.docx
2019-11-06 20:28:24,471 - DEBUG - ---TERCERIZACIÓN DE LOS SERVICIOS DE ADMINISTRACIÓN DE LA PLATAFORMA SOA
2019-11-06 20:28:24,472 - DEBUG - ---PARA BANCOLOMBIA
2019-11-06 20:28:24,473 - DEBUG - ---Procedimiento
2019-11-06 20:28:24,474 - DEBUG - ---Actualizar Certificado Personal en una Celda WAS
2019-11-06 20:28:24,474 - DEBUG - ---Elaborado para
2019-11-06 20:28:24,475 - DEBUG - ---Bancolombia
2019-11-06 20:28:24,476 - DEBUG - ---Elaborado por:
2019-11-06 20:28:24,476 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:28:24,477 - DEBUG - ---Fecha: agosto de 2016
2019-11-06 20:28:24,478 - DEBUG - ---Contenido
2019-11-06 20:28:24,483 - DEBUG - ---INTRODUCCION
2019-11-06 20:28:24,484 - DEBUG - ---Este documento describe el procedimiento para actualizar el certificado personal de una celda de WebSphere Application Server.
2019-11-06 20:28:24,485 - DEBUG - ---Datos Generales
2019-11-06 20:28:24,487 - DEBUG - ---Descripción Procedimiento
2019-11-06 20:28:24,488 - DEBUG - ---Con el objetivo de generar menos impacto se sugiere generar un nuevo certificado y luego indicarle a la celda cual certificado debe usar.
2019-11-06 20:28:24,489 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:28:24,490 - DEBUG - ---Ir a la opción solicitud de certificados personales y hacer clic en New.
2019-11-06 20:28:24,491 - DEBUG - ---

2019-11-06 20:28:24,491 - DEBUG - ---Diligenciar el formulario tal como lo muestra la imagen y hacer clic en OK.
2019-11-06 20:28:24,492 - DEBUG - ---

2019-11-06 20:28:24,492 - DEBUG - ---Validar que la solicitud de certificado se haya creado. Descargar el certificado de la ruta indicada en el paso dos y enviarlo al área de seguridades de Bancolombia para su firma. 
2019-11-06 20:28:24,494 - DEBUG - ---

2019-11-06 20:28:24,494 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:28:24,495 - DEBUG - ---Importar los certificados que conforman la cadena de confianza del certificado firmado en el almacén de certificados personales de la celda (CellDefaultKeystore) en la opción de certificados de confianza (Signer certificates). 
2019-11-06 20:28:24,496 - DEBUG - ---Ir a la opción de certificados personales y hacer clic en el botón de recibir de una autoridad de certificados (Receive from a certificate authority)
2019-11-06 20:28:24,497 - DEBUG - ---Ingresar la ruta donde se encuentra el certificado enviado por el área de seguridades de Bancolombia.
2019-11-06 20:28:24,498 - DEBUG - ---Validar que el certificado haya sido recibido correctamente.
2019-11-06 20:28:24,499 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:28:24,500 - DEBUG - ---Se debe importar el certificado público en los siguientes almacenes:
2019-11-06 20:28:24,501 - DEBUG - ---CMSKeyStore para cada uno de los web servers.
2019-11-06 20:28:24,501 - DEBUG - ---CellDefaultTrustStore
2019-11-06 20:28:24,502 - DEBUG - ---NodeDefaultTrustStore para cada uno de nodos.
2019-11-06 20:28:24,503 - DEBUG - ---

2019-11-06 20:28:24,504 - DEBUG - ---Extraer el certificado público de la celda
2019-11-06 20:28:24,505 - DEBUG - ---Indicar la ruta donde se debe exportar el certificado público
2019-11-06 20:28:24,506 - DEBUG - ---

2019-11-06 20:28:24,507 - DEBUG - ---Ir a cada almacén y añadir el certificado público.
2019-11-06 20:28:24,508 - DEBUG - ---Configurar la celda para que use el nuevo certificado
2019-11-06 20:28:24,509 - DEBUG - ---Validar los endpoints y donde se encuentre el certificado anterior asociar el nuevo certificado.
2019-11-06 20:28:24,510 - DEBUG - ---

2019-11-06 20:28:24,511 - DEBUG - ---Asociar el nuevo certificado en la configuración SSL de la celda.
2019-11-06 20:28:24,512 - DEBUG - ---Reinicio de la celda
2019-11-06 20:28:24,513 - DEBUG - ---Sincronizar los nodos usando la opción de sincronización completa.
2019-11-06 20:28:24,514 - DEBUG - ---Una vez sincronizados podemos reiniciar los servicios usando la consola en la opción de reiniciar todos los servidores de aplicación para el nodo seleccionado. Se debe esperar a que dicho reinicio termine para continuar con otro nodo.
2019-11-06 20:28:24,515 - DEBUG - ---Una vez reiniciado todos los servidores de aplicación y nodos se reinician el deployment manager (dmgr).
2019-11-06 20:28:24,516 - DEBUG - ---Consideraciones y Recomendaciones
2019-11-06 20:28:24,517 - DEBUG - ---Las siguientes actividades pueden ejecutarse previo a la ventana de mantenimiento:
2019-11-06 20:28:24,517 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:28:24,518 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:28:24,518 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:28:24,519 - INFO - Indexing file: Aplicar reglas a Proxy Server.docx
2019-11-06 20:28:24,524 - DEBUG - ---Aplicar reglas a Proxy Server
2019-11-06 20:28:24,524 - DEBUG - ---Ingresar al cluster de proxy server al cual se le desea aplicar la regla.
2019-11-06 20:28:24,525 - DEBUG - ---Seleccionar la opción Proxy actions, que se encuentra dentro del menú Proxy virtual host configuration.
2019-11-06 20:28:24,526 - DEBUG - ---Ir a Routing Actions y seleccionar New,  y luego dar click en Fail Route…
2019-11-06 20:28:24,527 - DEBUG - ---Se configura el nombre y el código que se desea retorne ante esa acción. 
2019-11-06 20:28:24,527 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy rule expressions.
2019-11-06 20:28:24,528 - DEBUG - ---Dar click en New 
2019-11-06 20:28:24,528 - DEBUG - ---Colocar el nombre que se desea colocar a la expresión, luego presionar en el botón Subexpresion Builder, luego seleccionar en Operand la opción Module. Luego en Module seleccionar el modulo war que se desea restringir, por último se da click en el botón Generate subexpression. Adicional en la parte inferior en los Routing Actions seleccionar la acción que se creo previamente. 
2019-11-06 20:28:24,529 - DEBUG - ---                                                     dar click en el botón OK, y luego en Preview, asegurándose de sincronizar todos los nodos.
2019-11-06 20:28:24,529 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy virtual hosts.
2019-11-06 20:28:24,530 - DEBUG - ---Se da click en el botón New para generar una nueva configuración.
2019-11-06 20:28:24,530 - DEBUG - ---En la casilla Virtual host name, se deja el valor *, en la casilla Virtual host port, se debe indicar el puerto al que se desea aplicar la regla, luego seleccionar la expresión previamente creada, quedando así: se presiona en OK y luego Review y asegurarse de sincronizar los nodos.
2019-11-06 20:28:24,531 - DEBUG - ---Se deben reiniciar los Clusters de Proxy Servers.
2019-11-06 20:28:24,531 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:28:24,542 - DEBUG - ---Creación Proxy Servers en WAS 8.5
2019-11-06 20:28:24,545 - DEBUG - ---Change log
2019-11-06 20:28:24,545 - DEBUG - ---Audiencia
2019-11-06 20:28:24,546 - DEBUG - ---Administradores de productos de capa media IBM.
2019-11-06 20:28:24,546 - DEBUG - ---Abstract
2019-11-06 20:28:24,547 - DEBUG - ---Un proxy servers permite direccionar tráfico http y gestionar archivos estáticos como lo hace un servidor web Apache o un IHS. Sin embargo, no es un producto separado. Un proxy es un pequeño servidor WAS basado en un template diferente que es más sencillo de administrar que un IHS.
2019-11-06 20:28:24,548 - DEBUG - ---Los proxy servers pueden funcionar independientemente o en forma de cluster, en este instructivo se explicará cómo crearlos de ambas maneras y las configuraciones adicionales que la celda necesita para hacer que las aplicaciones se expongan a través de los proxy.
2019-11-06 20:28:24,548 - DEBUG - ---Creación de un proxy server
2019-11-06 20:28:24,549 - DEBUG - ---A continuación se especifican los pasos para la creación de un nuevo Websphere Proxy Server en WAS 8.5.
2019-11-06 20:28:24,550 - DEBUG - ---1. Desde la consola del DMGR, ubicarnos en tipos de servidores y dar clic en Websphere proxy servers.
2019-11-06 20:28:24,551 - DEBUG - ---2. Dar clic en nuevo.
2019-11-06 20:28:24,551 - DEBUG - ---3. Se debe ingresar el nombre que se aprovisionara al nuevo proxy server.
2019-11-06 20:28:24,552 - DEBUG - ---4. Utilizar las opciones seleccionadas a continuación para un aprovisionamiento estándar.
2019-11-06 20:28:24,554 - DEBUG - ---5. Se utiliza la plantilla de proxy_server_foundation.
2019-11-06 20:28:24,555 - DEBUG - ---6. Finalmente se debe revisar el resumen de las configuraciones realizadas sean las deseadas.
2019-11-06 20:28:24,556 - DEBUG - ---Y dar clic en “Finish”.
2019-11-06 20:28:24,557 - DEBUG - ---7. Guardar las configuraciones.
2019-11-06 20:28:24,558 - DEBUG - ---8. Se verifica que el proxy server nuevo creado aparece ya en la consola de WAS para su administración.
2019-11-06 20:28:24,559 - DEBUG - ---Una vez hecho esto se puede validar el inicio del nuevo proxy server.
2019-11-06 20:28:24,561 - DEBUG - ---Creación de cluster de proxy servers
2019-11-06 20:28:24,562 - DEBUG - ---1. click en el menú izquierdo
2019-11-06 20:28:24,562 - DEBUG - ---Servers  clusters  proxy Server clusters  new
2019-11-06 20:28:24,563 - DEBUG - ---2. colocar un nombre
2019-11-06 20:28:24,564 - DEBUG - ---Se acepta la convensión CLPS[aplicación][numero], ejemplo CLPSPSE01.
2019-11-06 20:28:24,564 - DEBUG - ---Dejar el resto de los campos con el valor por defecto.
2019-11-06 20:28:24,565 - DEBUG - ---3. agregar miembros del cluster
2019-11-06 20:28:24,566 - DEBUG - ---a. nombre del miembro, se acepta la convensión PS[aplicación][numero]
2019-11-06 20:28:24,566 - DEBUG - ---b. seleccionar el nodo al que el miembro quedará asociado (pueden ser diferentes miembros asociados a diferentes nodos)
2019-11-06 20:28:24,567 - DEBUG - ---4. crear miembros adicionales
2019-11-06 20:28:24,567 - DEBUG - ---Colocar el nombre del miembro y seleccionar el nodo asociados, luego click en Add member
2019-11-06 20:28:24,568 - DEBUG - ---5. repetir el paso 4 por cada miembro adicional hasta completar los miembros.
2019-11-06 20:28:24,569 - DEBUG - ---Luego click en ‘Next’
2019-11-06 20:28:24,570 - DEBUG - ---6. Sumary
2019-11-06 20:28:24,570 - DEBUG - ---Click en Finish
2019-11-06 20:28:24,572 - DEBUG - ---Grabar los cambios.
2019-11-06 20:28:24,572 - DEBUG - ---Configuraciones adicionales
2019-11-06 20:28:24,573 - DEBUG - ---1. Se debe validar que los puertos a utilizar por el nuevo proxy server, server deben estar abiertos en el la maquina donde esta instalado el producto
2019-11-06 20:28:24,573 - DEBUG - ---Para el caso de maquinas Pseries se puede validar con el comando
2019-11-06 20:28:24,574 - DEBUG - ---netstat –Aan | grep #puerto
2019-11-06 20:28:24,574 - DEBUG - ---Para validar cuales son los puertos configurados en el proxy server vamos a la siguiente ubicación.
2019-11-06 20:28:24,575 - DEBUG - ---Donde se pueden observar los puertos y realizar los cambios según se requiera.
2019-11-06 20:28:24,576 - DEBUG - ---2. Las aplicaciones tienen por default habilitada la opción “Enable Proxy” de tal forma que el servicio se resuelva desde el proxy server. Debemos garantizar que la aplicación que va a utilizar proxy server ten la opción habilitada como se muestra en el ejemplo a continuación.
2019-11-06 20:28:24,577 - DEBUG - --- 
2019-11-06 20:28:24,581 - DEBUG - ---3. Se deben configurar los puertos en que van a utilizar las aplicaciones desde “Enviroment”, y desde el Virtual Host deseado se debe agregar los puertos requeridos en la consideración #1. 
2019-11-06 20:28:24,583 - DEBUG - ---Opcionalmente, como buena practica, se puede crear un nuevo virtual host particular para configurar los puertos que exclusivamente vaya a utilizar una aplicación y mapear desde la misma app el virtual host creado desde la siguiente ubicación, como se muestra en el ejemplo a continuación.
2019-11-06 20:28:24,584 - DEBUG - ---NOTA: Una vez se realice cualquier cambio de los anteriores mencionados en las consideraciones, debemos realizar reinicio del proxy server.
2019-11-06 20:28:24,585 - DEBUG - ---Configuraciones adicionales para was en iSeries
2019-11-06 20:28:24,586 - DEBUG - ---Además de las configuraciones mencionadas en el apartado anterior, para los WAS instalados en plataformas iSeries que utilicen proxy servers en combinación en el appliance F5 como balanceador de carga se necesita aplicar la siguiente configuración:
2019-11-06 20:28:24,587 - DEBUG - ---Matricular en los Virtual Host de WAS, el nombre (DNS) con el cual se consume el servicio por F5 y el puerto por el cual se expone el servicio en los Proxy Server.
2019-11-06 20:28:24,588 - DEBUG - ---1. ingresar a la configuración del proxy servers a configurar, y en la sección Ports, buscar los puertos con los que se expone el servicio
2019-11-06 20:28:24,588 - DEBUG - ---PROXY_HTTP_ADDRESS
2019-11-06 20:28:24,589 - DEBUG - ---PROXY_HTTPS_ADDRESS
2019-11-06 20:28:24,590 - DEBUG - ---2. crear en la sección Virtual Hosts > default_host > Host Aliases dos nuevos aliases con la combinación de los puertos de los proyx servers y el DNS provisto por F5 para la aplicación a exponer:
2019-11-06 20:28:24,591 - DEBUG - ---3. reiniciar los proxy servers
2019-11-06 20:28:24,592 - INFO - Indexing file: test.txt
2019-11-06 20:28:24,592 - DEBUG - ---WASX7209I: Connected to process "dmgr" on node QWEBDMGR using SOAP connector;  The type of process is: DeploymentManager
2017-12-11 14:50:02,571 [INFO] using WDR (https://wdr.github.io/WDR/) version 0.8.2
2017-12-11 14:50:02,598 [INFO] the client is connected to host localhost:10403 using SOAP connector
2017-12-11 14:50:02,604 [INFO] the target process is CeldaJuanFWAS85/QWEBDMGR/dmgr
 Lista Aplicaciones en la celda :
['DynaCacheEsi', 'Dynamic Cache Monitor', 'query']

2019-11-06 20:28:24,593 - INFO - Indexing file: ReadMe.txt
2019-11-06 20:28:24,594 - DEBUG - ---${WAS_85_INSTALL_ROOT}/bin/wsadmin.sh
-lang jython
-connType SOAP
-username user
-password pwd
-f /wrkdirr/ibmdirr/wsadminUtils/main.py [options]
    -m or --mode, Script mode: createCluster
    -w or --workdir, Script work space, required because is a script inside wsadmin environment
    -cl or --cluster, Cluster name. Used in createCluster
    -n1 or --node1, Node name. Used in createCluster
    -n2 or --node2, Node name. Used in createCluster
    -s1 or --server1, Server name. Used in createCluster
    -s2 or --server2, Server name. Used in createCluster
    -h1 or --host1, Host name. Used in createCluster
    -h2 or --host2, Host name. Used in createCluster
    -p1 or --port1, Initial port. Used in createCluster
    -p2 or --port2, Initial port. Used in createCluster
    -ih1 or --initialHeap1, Initial heap size. Used in createCluster
    -ih2 or --initialHeap2, Initial heap size. Used in createCluster
    -mh1 or --maxHeap1, Max heap size. Used in createCluster
    -mh2 or --maxHeap2, Max heap size. Used in createCluster
Example:
/opt/IBM/WebSphere/AppServer85/profiles/ProfileDmgr01/bin/wsadmin.sh -lang jython -connType SOAP -f /wrkdirr/ibmdirr/wsadminUtils/main.py -m createCluster -w /wrkdirr/ibmdirr/ -s1 ServerMng04 -s2 ServerMng05 -n1 NodeMng01 -n2 NodeMng02 -h1 localhost -h2 localhost -p1 6000 -p2 6100 -ih1 128 -mh1 512 -ih2 128 -mh2 512 -cl CLMNG02
2019-11-06 20:28:24,595 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 20:28:24,611 - DEBUG - ---

2019-11-06 20:28:24,616 - DEBUG - ---

2019-11-06 20:28:24,616 - DEBUG - ---

2019-11-06 20:28:24,618 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:28:24,619 - DEBUG - ---Nota
2019-11-06 20:28:24,620 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:28:24,621 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:28:24,622 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:28:24,623 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:28:24,624 - DEBUG - ---Nota
2019-11-06 20:28:24,624 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:28:24,625 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:24,626 - DEBUG - ---a.
2019-11-06 20:28:24,627 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:24,627 - DEBUG - ---b.
2019-11-06 20:28:24,628 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:24,629 - DEBUG - ---f.
2019-11-06 20:28:24,629 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:24,631 - DEBUG - ---

2019-11-06 20:28:24,632 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:28:24,633 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:28:24,634 - DEBUG - ---Recordar:
2019-11-06 20:28:24,635 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:28:24,635 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:28:24,641 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:28:24,643 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:28:24,644 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:28:24,645 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:28:24,646 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:28:24,647 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:28:24,648 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:28:24,649 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:28:24,650 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:28:24,650 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:28:24,652 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:28:24,652 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:28:24,653 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:28:24,654 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:28:24,655 - DEBUG - --- 
2019-11-06 20:28:24,655 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:28:24,657 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:28:24,658 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:28:24,659 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:28:24,660 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:28:24,661 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:28:24,663 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:28:24,664 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:28:24,665 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:28:24,666 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:28:24,667 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:28:24,668 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:28:24,669 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:28:24,669 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:28:24,670 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:28:24,671 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 20:28:24,692 - DEBUG - ---

2019-11-06 20:28:24,692 - DEBUG - ---

2019-11-06 20:28:24,694 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:28:24,695 - DEBUG - ---Nota
2019-11-06 20:28:24,696 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:28:24,697 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:28:24,698 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:28:24,699 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:28:24,700 - DEBUG - ---Nota
2019-11-06 20:28:24,700 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:28:24,701 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:24,702 - DEBUG - ---a.
2019-11-06 20:28:24,703 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:24,704 - DEBUG - ---b.
2019-11-06 20:28:24,705 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:24,705 - DEBUG - ---f.
2019-11-06 20:28:24,706 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:24,708 - DEBUG - ---

2019-11-06 20:28:24,709 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:28:24,710 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:28:24,711 - DEBUG - ---Recordar:
2019-11-06 20:28:24,712 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:28:24,712 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:28:24,713 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:28:24,714 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:28:24,715 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:28:24,716 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:28:24,717 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:28:24,718 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:28:24,719 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:28:24,720 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:28:24,720 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:28:24,721 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:28:24,723 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:28:24,723 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:28:24,724 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:28:24,725 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:28:24,726 - DEBUG - --- 
2019-11-06 20:28:24,728 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:28:24,730 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:28:24,731 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:28:24,732 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:28:24,733 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:28:24,734 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:28:24,735 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:28:24,736 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:28:24,737 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:28:24,738 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:28:24,739 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:28:24,740 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:28:24,741 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:28:24,742 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:28:24,743 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:28:24,744 - INFO - Indexing file: Manual_Menu_iSeries(2).docx
2019-11-06 20:28:24,757 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:28:24,759 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:28:24,760 - DEBUG - ---Elaborado para
2019-11-06 20:28:24,761 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:28:24,762 - DEBUG - ---Elaborado por
2019-11-06 20:28:24,762 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:28:24,763 - DEBUG - ---Fecha
2019-11-06 20:28:24,763 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:28:24,765 - DEBUG - ---Objetivo
2019-11-06 20:28:24,766 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:28:24,766 - DEBUG - ---Rotación de servicios
2019-11-06 20:28:24,767 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:28:24,767 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:28:24,773 - DEBUG - ---Menú iSeries
2019-11-06 20:28:24,774 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:28:24,775 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:28:24,776 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:28:24,777 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:28:24,777 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:28:24,778 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:28:24,778 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:28:24,779 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:28:24,780 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:28:24,780 - DEBUG - ---Opciones del menú
2019-11-06 20:28:24,781 - DEBUG - ---Contingencia Medellín
2019-11-06 20:28:24,782 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:28:24,782 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:28:24,783 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:28:24,784 - DEBUG - ---Regresar
2019-11-06 20:28:24,785 - DEBUG - ---Salir
2019-11-06 20:28:24,785 - DEBUG - ---Rotación servicios
2019-11-06 20:28:24,786 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:28:24,787 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:28:24,787 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:28:24,788 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:24,790 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:28:24,791 - DEBUG - ---Actividades IPL
2019-11-06 20:28:24,792 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:28:24,793 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:28:24,794 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:28:24,794 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:28:24,795 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:28:24,795 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:28:24,796 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:28:24,797 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:28:24,816 - DEBUG - ---

2019-11-06 20:28:24,817 - DEBUG - ---Control de Versiones
2019-11-06 20:28:24,818 - DEBUG - ---

2019-11-06 20:28:24,819 - DEBUG - ---VERIFICAR INTERFACES CORRESPONDIENTES A CADA SERVIDOR DE APLICACION EN AMBAS MAQUINAS ( WAS y WASNL) Y TOMAR EVIDENCIAS DE ELLO
2019-11-06 20:28:24,820 - DEBUG - ---Se deben tomar evidencias de las interfaces correspondientes a cada aplicativo en ambas máquinas. 
2019-11-06 20:28:24,821 - DEBUG - ---Ingresamos a WAS y ejecutamos el comando CFGTCP
2019-11-06 20:28:24,823 - DEBUG - ---Luego seleccionamos la opción 1 del menú (Trabajar con interfaces  TCP/IP)
2019-11-06 20:28:24,825 - DEBUG - ---Nos aparecerá la pantalla con las interfaces.
2019-11-06 20:28:24,827 - DEBUG - ---En la pantalla de las interfaces, presionamos la tecla F11 para ver los estados de las interfaces y la pantalla quedaría así:
2019-11-06 20:28:24,829 - DEBUG - ---Para generar un respaldo podemos usar la opción F6 que llevara la información a nuestro spool el cual podrá ser descargado posteriormente como un archivo de texto.
2019-11-06 20:28:24,830 - DEBUG - ---NOTA: LOS MISMOS PASOS ANTERIORES APLICAN PARA LA MAQUINA DE WASNL
2019-11-06 20:28:24,831 - DEBUG - ---CAMBIAR EL PARÁMETRO  DE INICIO AUTOSTAR  A LAS INTERFACES CORRESPONDIENTES A CADA APLICATIVO.
2019-11-06 20:28:24,832 - DEBUG - ---Se debe ingresar a las máquinas (WAS y WASNL). Luego ejecutamos el siguiente comando donde debemos cambiar el valor del parámetro de AUTOINICIO a *NO donde se requiere que permanezca abajo la interfaz al momento de un IPL y *YES a las interfaces que se requiere que permanezcan activas en la máquina una vez se haga un IPL; esto depende de en qué máquina se dejarán los servicios operando.
2019-11-06 20:28:24,834 - DEBUG - ---Ejemplos:
2019-11-06 20:28:24,835 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*NO)
2019-11-06 20:28:24,836 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*YES)
2019-11-06 20:28:24,837 - DEBUG - ---PTR detener servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:28:24,839 - DEBUG - ---Consideraciones previas
2019-11-06 20:28:24,843 - DEBUG - ---[Si aplica: premisas, riesgos]
2019-11-06 20:28:24,848 - DEBUG - ---Descripción de las actividades
2019-11-06 20:28:24,849 - DEBUG - ---PTR detener servicios Contingencia Medellin - MEDHA 
2019-11-06 20:28:24,851 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:28:24,871 - DEBUG - ---ACTIVIDADES PREVIAS
2019-11-06 20:28:24,872 - DEBUG - ---Tomar pantallas de las interfaces (Punto 1 de este PTR), servidores de aplicaciones y web servers en WAS y WASNL como se indica a continuación:
2019-11-06 20:28:24,873 - DEBUG - ---Validar estado de subsistemas WAS y servidores de aplicaciones websphere:
2019-11-06 20:28:24,874 - DEBUG - ---wrkactjob sbs(QWAS8)
2019-11-06 20:28:24,875 - DEBUG - ---wrkactjob sbs(QWAS85)
2019-11-06 20:28:24,876 - DEBUG - ---Validar estado de subsistema QHTTPSVR y sus webservers:
2019-11-06 20:28:24,876 - DEBUG - ---wrkactjob sbs(QHTTPSVR)
2019-11-06 20:28:24,877 - DEBUG - ---Ejemplo pantallazo subsistema QWAS85:
2019-11-06 20:28:24,879 - DEBUG - ---ACTIVIDADES DURANTE LA CONTINGENCIA
2019-11-06 20:28:24,880 - DEBUG - ---3.1 Detener servidores web y servidores de aplicaciones
2019-11-06 20:28:24,881 - DEBUG - ---Cuando bajen los servicios y se dé la señal, se debe bajar el subsistema QHTTPSVR y una vez esté completamente detenido, proceder a bajar los servidores de aplicación que  tengan conexiones a la máquina MEDELLINET01.
2019-11-06 20:28:24,882 - DEBUG - ---Comandos 
2019-11-06 20:28:24,883 - DEBUG - ---DETENER SERVIDORES WEB:
2019-11-06 20:28:24,884 - DEBUG - ---ENDTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:28:24,884 - DEBUG - ---Se valida que todos los web server estén detenidos con el siguiente comando:
2019-11-06 20:28:24,885 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:28:24,886 - DEBUG - ---DETENER SERVIDORES DE APLICACIONES:
2019-11-06 20:28:24,887 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:28:24,888 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:28:24,890 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:24,891 - DEBUG - ---ASADM01
2019-11-06 20:28:24,891 - DEBUG - ---ASADM02
2019-11-06 20:28:24,892 - DEBUG - ---ASADM03
2019-11-06 20:28:24,893 - DEBUG - ---ASADM04
2019-11-06 20:28:24,894 - DEBUG - ---ASADM05
2019-11-06 20:28:24,894 - DEBUG - ---ASADM06
2019-11-06 20:28:24,895 - DEBUG - ---ASALM01
2019-11-06 20:28:24,896 - DEBUG - ---ASALM02
2019-11-06 20:28:24,897 - DEBUG - ---ASBTS01
2019-11-06 20:28:24,898 - DEBUG - ---ASBTS02
2019-11-06 20:28:24,899 - DEBUG - ---ASCAN01
2019-11-06 20:28:24,900 - DEBUG - ---ASCAN02
2019-11-06 20:28:24,901 - DEBUG - ---ASCAN03
2019-11-06 20:28:24,902 - DEBUG - ---ASCAN04
2019-11-06 20:28:24,903 - DEBUG - ---ASMRP01
2019-11-06 20:28:24,903 - DEBUG - ---ASMRP02
2019-11-06 20:28:24,904 - DEBUG - ---ASPAC01
2019-11-06 20:28:24,905 - DEBUG - ---ASPAC02
2019-11-06 20:28:24,906 - DEBUG - ---ASRIN01
2019-11-06 20:28:24,907 - DEBUG - ---ASRIN02
2019-11-06 20:28:24,907 - DEBUG - ---ASRSA01
2019-11-06 20:28:24,908 - DEBUG - ---ASRSA02
2019-11-06 20:28:24,909 - DEBUG - ---ASTAC01
2019-11-06 20:28:24,910 - DEBUG - ---ASTAC02
2019-11-06 20:28:24,911 - DEBUG - ---ASWAP01
2019-11-06 20:28:24,912 - DEBUG - ---ASWAP02
2019-11-06 20:28:24,912 - DEBUG - ---ASWSE01
2019-11-06 20:28:24,913 - DEBUG - ---ASWSE02
2019-11-06 20:28:24,914 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:28:24,916 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:24,916 - DEBUG - ---ASAPP01
2019-11-06 20:28:24,917 - DEBUG - ---ASAPP02
2019-11-06 20:28:24,918 - DEBUG - ---ASAPP03
2019-11-06 20:28:24,919 - DEBUG - ---ASAPP04
2019-11-06 20:28:24,920 - DEBUG - ---ASSVP01
2019-11-06 20:28:24,921 - DEBUG - ---ASSVP02
2019-11-06 20:28:24,922 - DEBUG - ---ASSVP03
2019-11-06 20:28:24,922 - DEBUG - ---ASSVP04
2019-11-06 20:28:24,923 - DEBUG - ---ASSVE01
2019-11-06 20:28:24,924 - DEBUG - ---ASSVE02
2019-11-06 20:28:24,925 - DEBUG - ---ASSVE03
2019-11-06 20:28:24,926 - DEBUG - ---ASSVE04
2019-11-06 20:28:24,927 - DEBUG - ---Luego, se debe verificar que todos los web server queden detenidos, con el siguiente comando:
2019-11-06 20:28:24,928 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:28:24,929 - DEBUG - ---NOTA: No deben de aparecer trabajos en el subsistema, como aparece en la imagen, una vez los web server queden detenidos.
2019-11-06 20:28:24,932 - DEBUG - ---PTR activar servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:28:24,933 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:28:24,935 - DEBUG - ---4.1 Iniciar servicios
2019-11-06 20:28:24,936 - DEBUG - ---PASO 1 SUBIR SERVIDORES DE APLICACIONES:
2019-11-06 20:28:24,937 - DEBUG - ---Cuando comience a subir y se dé la señal, se deben iniciar los servidores de aplicaciones 
2019-11-06 20:28:24,938 - DEBUG - ---Comandos 
2019-11-06 20:28:24,939 - DEBUG - ---INICIAR SERVIDORES DE APLICACIONES:
2019-11-06 20:28:24,939 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:28:24,941 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:28:24,942 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:24,943 - DEBUG - ---ASADM01
2019-11-06 20:28:24,944 - DEBUG - ---ASADM02
2019-11-06 20:28:24,944 - DEBUG - ---ASADM03
2019-11-06 20:28:24,945 - DEBUG - ---ASADM04
2019-11-06 20:28:24,946 - DEBUG - ---ASADM05
2019-11-06 20:28:24,947 - DEBUG - ---ASADM06
2019-11-06 20:28:24,947 - DEBUG - ---ASALM01
2019-11-06 20:28:24,948 - DEBUG - ---ASALM02
2019-11-06 20:28:24,949 - DEBUG - ---ASBTS01
2019-11-06 20:28:24,949 - DEBUG - ---ASBTS02
2019-11-06 20:28:24,950 - DEBUG - ---ASCAN01
2019-11-06 20:28:24,951 - DEBUG - ---ASCAN02
2019-11-06 20:28:24,951 - DEBUG - ---ASCAN03
2019-11-06 20:28:24,952 - DEBUG - ---ASCAN04
2019-11-06 20:28:24,953 - DEBUG - ---ASMRP01
2019-11-06 20:28:24,954 - DEBUG - ---ASMRP02
2019-11-06 20:28:24,954 - DEBUG - ---ASPAC01
2019-11-06 20:28:24,955 - DEBUG - ---ASPAC02
2019-11-06 20:28:24,956 - DEBUG - ---ASRIN01
2019-11-06 20:28:24,957 - DEBUG - ---ASRIN02
2019-11-06 20:28:24,957 - DEBUG - ---ASRSA01
2019-11-06 20:28:24,958 - DEBUG - ---ASRSA02
2019-11-06 20:28:24,959 - DEBUG - ---ASTAC01
2019-11-06 20:28:24,959 - DEBUG - ---ASTAC02
2019-11-06 20:28:24,960 - DEBUG - ---ASWAP01
2019-11-06 20:28:24,961 - DEBUG - ---ASWAP02
2019-11-06 20:28:24,962 - DEBUG - ---ASWSE01
2019-11-06 20:28:24,962 - DEBUG - ---ASWSE02
2019-11-06 20:28:24,963 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:28:24,964 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:28:24,965 - DEBUG - ---ASAPP01
2019-11-06 20:28:24,966 - DEBUG - ---ASAPP02
2019-11-06 20:28:24,967 - DEBUG - ---ASAPP03
2019-11-06 20:28:24,967 - DEBUG - ---ASAPP04
2019-11-06 20:28:24,968 - DEBUG - ---ASSVP01
2019-11-06 20:28:24,969 - DEBUG - ---ASSVP02
2019-11-06 20:28:24,969 - DEBUG - ---ASSVP03
2019-11-06 20:28:24,970 - DEBUG - ---ASSVP04
2019-11-06 20:28:24,971 - DEBUG - ---ASSVE01
2019-11-06 20:28:24,972 - DEBUG - ---ASSVE02
2019-11-06 20:28:24,972 - DEBUG - ---ASSVE03
2019-11-06 20:28:24,973 - DEBUG - ---ASSVE04
2019-11-06 20:28:24,974 - DEBUG - ---Validar que las interfaces suban donde deben subir en WAS y WASNL (Luego de que se ejecute la activación por iSeries).
2019-11-06 20:28:24,975 - DEBUG - ---Validar que los app server suban bien
2019-11-06 20:28:24,976 - DEBUG - ---Revisar los logs para garantizar que los servidores subieron bien y no colgaron hebras o no subieron (validar errores o hebras colgadas “hung”).
2019-11-06 20:28:24,976 - DEBUG - ---Debe aparecer Mensaje: open for e-business
2019-11-06 20:28:24,978 - DEBUG - ---Hacer estas verificaciones en el orden de prioridad de la tabla que se encuentra al final del documento (PRIORIDAD DE LOS SERVICIOS)
2019-11-06 20:28:24,979 - DEBUG - ---Es necesario iniciar RSA primero para que sincronice los token con BOLE.
2019-11-06 20:28:24,980 - DEBUG - ---APLICACIONES
2019-11-06 20:28:24,981 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:28:24,982 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:28:24,982 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:28:24,983 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:28:24,985 - DEBUG - ---PASO 2 SUBIR QHTTPSVR (NO PROCEDER HASTA QUE SUBAN SERVICIOS EN ISERIES, QWAS8 y QWAS85 ARRIBA):
2019-11-06 20:28:24,986 - DEBUG - ---QHTTPSERVER - Luego de que hayan subido, mínimo los servidores de aplicaciones de SVE, SVP y APP (para no encolar)
2019-11-06 20:28:24,987 - DEBUG - ---Para subir los servidores web (HTTP server) se tiene el comando 
2019-11-06 20:28:24,988 - DEBUG - ---STRTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:28:24,989 - DEBUG - ---Validar con las pantallas tomadas inicialmente que si queden activos los que deben quedar. Los que no, detenerlos (4, F4)
2019-11-06 20:28:24,990 - DEBUG - ---IMPORTANTE: Revisar que no suba el IWADFT, APACHEDFT para que no cree conflicto con el puerto 80 para el web Server ADMWS21180.
2019-11-06 20:28:24,991 - DEBUG - ---PRIORIDAD DE LOS SERVICIOS
2019-11-06 20:28:24,992 - DEBUG - ---RSA
2019-11-06 20:28:24,992 - DEBUG - ---SVE
2019-11-06 20:28:24,993 - DEBUG - ---SVP
2019-11-06 20:28:24,994 - DEBUG - ---APP
2019-11-06 20:28:24,995 - DEBUG - ---FCN y PSE
2019-11-06 20:28:24,995 - DEBUG - ---WAP
2019-11-06 20:28:24,996 - DEBUG - ---RIN
2019-11-06 20:28:24,997 - DEBUG - ---PAC
2019-11-06 20:28:24,997 - DEBUG - ---TAC
2019-11-06 20:28:24,998 - DEBUG - ---PCC
2019-11-06 20:28:24,999 - DEBUG - ---SVS
2019-11-06 20:28:24,999 - DEBUG - ---Resto de servicios.
2019-11-06 20:28:25,000 - DEBUG - ---La documentación la encontramos en el archivo catalogo_WAS_iSeries.xlsx
2019-11-06 20:28:25,002 - INFO - Indexing file: Banistmo PTR_WAS SBBANBSM01V.docx
2019-11-06 20:28:25,012 - DEBUG - ---

2019-11-06 20:28:25,012 - DEBUG - ---Control de Versiones
2019-11-06 20:28:25,013 - DEBUG - ---

2019-11-06 20:28:25,013 - DEBUG - ---Nombre del PTR
2019-11-06 20:28:25,014 - DEBUG - ---Consideraciones previas
2019-11-06 20:28:25,014 - DEBUG - ---La máquina Windows inicia el servidor de aplicaciones por medio de un servicio, sin embargo, el servidor de aplicaciones tiene la seguridad habilitada y el controlador de dominio (LDAP) al que apunta es de Producción, el cual es diferente al DR.
2019-11-06 20:28:25,015 - DEBUG - ---Se deben ejecutar algunas acciones para modificar esta configuración. 
2019-11-06 20:28:25,016 - DEBUG - ---Descripción de las actividades
2019-11-06 20:28:25,016 - DEBUG - ---Terminar el servicio de WAS
2019-11-06 20:28:25,017 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:28:25,017 - DEBUG - ---Finalizar el servicio de WAS, si se intenta detener por medio del administrador de servicios este se quedará en el estado stopping.
2019-11-06 20:28:25,018 - DEBUG - ---Por lo tanto, es necesario terminar el proceso. Se abre el task manager, clic en Show process from all users.
2019-11-06 20:28:25,019 - DEBUG - ---Se buscan los procesos WASService.exe y java.exe y clic en End Process
2019-11-06 20:28:25,020 - DEBUG - ---Actualizar el controlador de dominio.
2019-11-06 20:28:25,021 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:28:25,021 - DEBUG - ---Sacar un respaldo del archivo security.xml
2019-11-06 20:28:25,021 - DEBUG - ---Editar el archivo security.xml ubicado en la ruta:
2019-11-06 20:28:25,022 - DEBUG - ---C:\IBM\WebSphere\AppServer\profiles\SMG3\config\cells\SBBANBSM01VNode02Cell\
2019-11-06 20:28:25,022 - DEBUG - ---Se debe reemplazar la IP 10.5.133.4 por 10.61.178.10
2019-11-06 20:28:25,024 - DEBUG - ---Iniciar los servicios de WAS
2019-11-06 20:28:25,025 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:28:25,026 - DEBUG - ---Iniciar el servicio IBM WebSphere Application Server V8.5 - SBBANBSM01VNode02
2019-11-06 20:28:25,028 - DEBUG - ---Ingresar a la consola administrativa para verificar que los servicios se encuentren iniciados. 
2019-11-06 20:28:25,029 - INFO - Indexing file: Paso a paso Start-Stop FATCA-jar.docx
2019-11-06 20:28:25,036 - DEBUG - ---PASO A PASO START-STOP FATCA - JAR
2019-11-06 20:28:25,037 - DEBUG - ---Inicio del aplicativo MonitorFATCA_JOB
2019-11-06 20:28:25,037 - DEBUG - ---Ejecución del aplicativo MonitorFATCA_JOB
2019-11-06 20:28:25,038 - DEBUG - ---Consideraciones
2019-11-06 20:28:25,039 - DEBUG - ---Ruta Base
2019-11-06 20:28:25,040 - DEBUG - ---

2019-11-06 20:28:25,040 - DEBUG - ---Para iniciar la aplicación se debe ejecutar el archivo .SH encargado de iniciar la aplicación. Para esto nos ubicamos en la ruta:
2019-11-06 20:28:25,041 - DEBUG - ---/nas/htsl-fat512/bin/
2019-11-06 20:28:25,042 - DEBUG - ---Luego, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:28:25,042 - DEBUG - ---./start_fatca.sh
2019-11-06 20:28:25,043 - DEBUG - ---Para validar si la aplicación JOB se está ejecutando, se puede ejecutar el siguiente comando en la consola:
2019-11-06 20:28:25,043 - DEBUG - ---ps -ef | grep co.com.tata.MonitorStartJob
2019-11-06 20:28:25,044 - DEBUG - ---Si no se está ejecutando el aplicativo, se muestra un mensaje parecido al siguiente:
2019-11-06 20:28:25,045 - DEBUG - ---Si el programa está arriba, se debe ver un mensaje parecido al siguiente:
2019-11-06 20:28:25,045 - DEBUG - ---

2019-11-06 20:28:25,046 - DEBUG - ---Detener el aplicativo MonitorFATCA_JOB
2019-11-06 20:28:25,046 - DEBUG - ---Datos varios
2019-11-06 20:28:25,047 - DEBUG - ---Para detener el aplicativo FATCA_JOB.jar, debemos ingresar a la ruta:
2019-11-06 20:28:25,048 - DEBUG - ---/nas/htsl-fat512/bin/flag/
2019-11-06 20:28:25,048 - DEBUG - ---En esta ruta, se debe encontrar el archivo KILLME.txt. 
2019-11-06 20:28:25,049 - DEBUG - ---Este archivo debe ser eliminado por completo del FileSystem.
2019-11-06 20:28:25,049 - DEBUG - ---Para eliminar el archivo, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:28:25,050 - DEBUG - ---rm KILLME.txt
2019-11-06 20:28:25,050 - DEBUG - ---Debemos esperar al menos 2 minutos mientras el programa cierra todos los hilos de ejecución que se encuentren arriba.
2019-11-06 20:28:25,051 - DEBUG - ---Contacto: Diana Lopez Parra (dilparr@bancolombia.com.co)
2019-11-06 20:28:25,052 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:28:25,067 - DEBUG - ---Manual de Operaciones
2019-11-06 20:28:25,068 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:28:25,071 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:28:25,075 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:28:25,078 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:28:25,079 - DEBUG - ---DESARROLLO
2019-11-06 20:28:25,080 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:25,082 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,084 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:25,085 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:25,086 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:25,088 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:25,090 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:25,092 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:25,095 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,098 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:25,100 - DEBUG - ---

2019-11-06 20:28:25,101 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:28:25,103 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:25,106 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,109 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:25,110 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:28:25,111 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:25,112 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:28:25,114 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:25,117 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:25,119 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,122 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:25,124 - DEBUG - ---

2019-11-06 20:28:25,126 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:28:25,127 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:25,129 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:28:25,131 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:25,132 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:28:25,133 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:28:25,134 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:28:25,135 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:25,149 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:28:25,151 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,154 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:25,158 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:28:25,159 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:25,161 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,163 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:25,164 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:25,165 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:25,166 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:25,167 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:25,168 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:25,169 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:28:25,170 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:25,171 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:25,172 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:28:25,173 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:28:25,174 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:25,175 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:28:25,176 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:28:25,178 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:28:25,179 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:25,182 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:25,185 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,187 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:25,189 - DEBUG - ---

2019-11-06 20:28:25,191 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:28:25,193 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:25,194 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,197 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:25,198 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:28:25,198 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:25,199 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:28:25,201 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:28:25,202 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:28:25,202 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:28:25,203 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:28:25,205 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:28:25,206 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:28:25,207 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:28:25,208 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:28:25,210 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:28:25,213 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:28:25,215 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:28:25,217 - DEBUG - ---

2019-11-06 20:28:25,218 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:28:25,219 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:28:25,221 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:28:25,222 - DEBUG - ---AW0939
2019-11-06 20:28:25,222 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:28:25,223 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:28:25,224 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:28:25,225 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:28:25,226 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:28:25,227 - DEBUG - ---PASOS
2019-11-06 20:28:25,228 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:28:25,231 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:28:25,233 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:28:25,236 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:28:25,238 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:28:25,250 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:28:25,252 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:28:25,254 - DEBUG - ---

2019-11-06 20:28:25,255 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:28:25,258 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:28:25,260 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:28:25,262 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:28:25,264 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:28:25,267 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:28:25,268 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER1.docx
2019-11-06 20:28:25,273 - DEBUG - ---Procedimiento para el reinicio CLUSTER1 Ventas Digitales Produccion
2019-11-06 20:28:25,274 - DEBUG - ---Cuando soliciten reinicio del CLUSTER1, Se deben ejecutar las siguientes actividades:
2019-11-06 20:28:25,274 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:28:25,275 - DEBUG - ---Detener  los APPSERVERs del CLUSTER1 
2019-11-06 20:28:25,275 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:28:25,275 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:25,276 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:25,276 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:25,277 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:25,277 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:25,278 - DEBUG - ---disableAllApps()
2019-11-06 20:28:25,278 - DEBUG - ---save()
2019-11-06 20:28:25,278 - DEBUG - ---Subir los APPSERVERs del CLUSTER1
2019-11-06 20:28:25,279 - DEBUG - ---Subir la aplicacion
2019-11-06 20:28:25,279 - DEBUG - ---AW1128001_VTDAPI_COMMONMensajesError
2019-11-06 20:28:25,280 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:28:25,280 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:28:25,281 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:25,281 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:25,282 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:25,282 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:25,283 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:25,283 - DEBUG - ---enableAllApps()
2019-11-06 20:28:25,283 - DEBUG - ---save()
2019-11-06 20:28:25,284 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER2.docx
2019-11-06 20:28:25,288 - DEBUG - ---Procedimiento para el reinicio CLUSTER2 Ventas Digitales Produccion
2019-11-06 20:28:25,289 - DEBUG - ---Cuando soliciten reinicio del CLUSTER2, Se deben ejecutar las siguientes actividades:
2019-11-06 20:28:25,289 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:28:25,289 - DEBUG - ---Detener  los APPSERVERs del CLUSTER2
2019-11-06 20:28:25,290 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:28:25,290 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:25,291 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:25,291 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:25,292 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:25,292 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:25,293 - DEBUG - ---disableAllApps()
2019-11-06 20:28:25,293 - DEBUG - ---save()
2019-11-06 20:28:25,293 - DEBUG - ---Subir los APPSERVERs del CLUSTER2
2019-11-06 20:28:25,294 - DEBUG - ---Subir la aplicacion
2019-11-06 20:28:25,294 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:28:25,295 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:28:25,295 - DEBUG - ---AW0937001_VTDFrontAutenticacion
2019-11-06 20:28:25,295 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:28:25,296 - DEBUG - ---PMO27262_API_PreaprobadoTDC
2019-11-06 20:28:25,296 - DEBUG - ---PMO27262_API_InfoUsuario
2019-11-06 20:28:25,296 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:28:25,297 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:28:25,297 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:28:25,298 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:28:25,298 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:28:25,299 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:28:25,299 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:28:25,299 - DEBUG - ---enableAllApps()
2019-11-06 20:28:25,300 - DEBUG - ---save()
2019-11-06 20:28:25,300 - INFO - Indexing file: TD_Arquitectura_Ventas_Digitales_v1.1.docx
2019-11-06 20:28:25,339 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:28:25,340 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:28:25,344 - DEBUG - ---Reto 3 – Ventas Digitales
2019-11-06 20:28:25,345 - DEBUG - ---PMO25445
2019-11-06 20:28:25,355 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:25,357 - DEBUG - ---Control del Documento	3
2019-11-06 20:28:25,358 - DEBUG - ---Referencias	4
2019-11-06 20:28:25,359 - DEBUG - ---1.	Contextualización y Alcance de la Solución	5
2019-11-06 20:28:25,360 - DEBUG - ---2.	Vista funcional de la solución	7
2019-11-06 20:28:25,361 - DEBUG - ---2.1.	Componentes de la solución y relaciones de uso	7
2019-11-06 20:28:25,362 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito	8
2019-11-06 20:28:25,362 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión	9
2019-11-06 20:28:25,363 - DEBUG - ---Release 3 – Créditos Online (Motor)	10
2019-11-06 20:28:25,364 - DEBUG - ---2.1.1.	Detalle de componentes involucrados en Reportería (Visualización)	11
2019-11-06 20:28:25,365 - DEBUG - ---2.1.2.	Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos	13
2019-11-06 20:28:25,366 - DEBUG - ---2.1.3.	Detalle de componentes involucrados en la solución para Precalculados	14
2019-11-06 20:28:25,367 - DEBUG - ---2.1.4.	Descomposición funcional	15
2019-11-06 20:28:25,368 - DEBUG - ---2.1.5.	Validación con Expertos de la VSTI	20
2019-11-06 20:28:25,370 - DEBUG - ---2.2.	Interacción de Componentes	20
2019-11-06 20:28:25,371 - DEBUG - ---2.3.	Interfaces de la solución	25
2019-11-06 20:28:25,372 - DEBUG - ---3.	Vista física de la solución	25
2019-11-06 20:28:25,373 - DEBUG - ---3.1.	Diagrama de componentes técnicos	25
2019-11-06 20:28:25,373 - DEBUG - ---3.2.	Continuidad Tecnológica	27
2019-11-06 20:28:25,374 - DEBUG - ---3.2.1.	Esquema de Disponibilidad Local	27
2019-11-06 20:28:25,375 - DEBUG - ---3.2.2.	Esquema de Disponibilidad Remota	28
2019-11-06 20:28:25,376 - DEBUG - ---3.3.	Monitoreo de la solución	28
2019-11-06 20:28:25,377 - DEBUG - ---4.	Decisiones de Arquitectura	29
2019-11-06 20:28:25,386 - DEBUG - ---	
2019-11-06 20:28:25,388 - DEBUG - ---
Control del Documento
2019-11-06 20:28:25,394 - DEBUG - ---

2019-11-06 20:28:25,396 - DEBUG - ---Referencias
2019-11-06 20:28:25,397 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:28:25,400 - DEBUG - ---

2019-11-06 20:28:25,401 - DEBUG - ---Contextualización y Alcance de la Solución
2019-11-06 20:28:25,403 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:28:25,404 - DEBUG - ---El tercer reto que se afrontará dentro del programa será el de Ventas Digitales, el cual en su primera fase, tiene el siguiente alcance:
2019-11-06 20:28:25,406 - DEBUG - ---Con este reto se pretende darle solución a dos necesidades macro que actualmente tiene el banco:
2019-11-06 20:28:25,408 - DEBUG - ---Crear un nuevo portal de ventas digitales que habilite una experiencia de usuario enriquecedora a nuestros clientes.
2019-11-06 20:28:25,409 - DEBUG - ---Habilitar el portal para ventas que sean 100% en línea, en donde nuestros clientes disfruten de una experiencia de principio a fin sin necesidad de desplazarse a una sucursal física.  
2019-11-06 20:28:25,410 - DEBUG - ---El presente documento contempla el siguiente alcance:
2019-11-06 20:28:25,413 - DEBUG - ---El alcance adicional se realizará de manera incremental e iterativa.
2019-11-06 20:28:25,424 - DEBUG - ---Nota aclaratoria: como decisión del proyecto, no se va a realizar la migración de las actuales pantallas de solicitud de productos (seguros, tarjeta de crédito y libre inversión) que existen en Bancolombia a un Clic.
2019-11-06 20:28:25,426 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:28:25,427 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:28:25,428 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso de acuerdo con los requisitos de negocio planteados para la solución
2019-11-06 20:28:25,430 - DEBUG - ---

2019-11-06 20:28:25,431 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito
2019-11-06 20:28:25,436 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión
2019-11-06 20:28:25,438 - DEBUG - ---Release 3 – Créditos Online (Motor)
2019-11-06 20:28:25,441 - DEBUG - ---A continuación se detallan por medio de diagramas de componentes algunas funcionalidades que se tienen en la solución:
2019-11-06 20:28:25,442 - DEBUG - ---Detalle de componentes involucrados en Reportería (Visualización)
2019-11-06 20:28:25,443 - DEBUG - ---Los siguientes diagramas muestran la solución objetivo y transitoria para la visualización de la información de la base de datos de ventas digitales. 
2019-11-06 20:28:25,444 - DEBUG - ---Se hace necesario un modelo transitorio debido a que en Bancolombia aun no contamos con la herramienta Flume con gobierno desde TI. Esto se espera suceda en la segunda mitad del 2018.
2019-11-06 20:28:25,446 - DEBUG - ---Objetivo: en esta solución se transportará la información desde la base de datos de ventas digitales directamente hacia la LZ, esto a través de unos procesos micro-batch con la herramienta Flume. 
2019-11-06 20:28:25,447 - DEBUG - ---La explotación de la información se puede hacer directamente en la LZ con alguna de sus herramientas o a través de SAS o SAS Web Report Studio.
2019-11-06 20:28:25,449 - DEBUG - ---Transitorio: en esta solución se hace necesario involucrar una base de datos intermedia que servirá para ir descargando la información (cada hora aproximadamente) y mediante un proceso batch se llevará el histórico a la LZ. 
2019-11-06 20:28:25,450 - DEBUG - ---La explotación de la información se realizará mediante las herramientas propias de la LZ, SAS, Modeler o para algunos usuarios que no cuentan con skill o licencia se construirá un reporte en SAP BO.
2019-11-06 20:28:25,453 - DEBUG - ---

2019-11-06 20:28:25,456 - DEBUG - ---Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos
2019-11-06 20:28:25,458 - DEBUG - ---Al ser una solución nueva para Bancolombia, el siguiente diagrama muestra los componentes involucrados en la solución para la administración de tasas para créditos.
2019-11-06 20:28:25,460 - DEBUG - ---

2019-11-06 20:28:25,461 - DEBUG - ---Detalle de componentes involucrados en la solución para Precalculados
2019-11-06 20:28:25,463 - DEBUG - ---El siguiente diagrama muestra los componentes involucrados en la solución de precalculados desde que se generan los preaprobados hasta que quedan disponibles para ser consultados o actualizados vía capa de integración.
2019-11-06 20:28:25,466 - DEBUG - ---

2019-11-06 20:28:25,468 - DEBUG - ---Descomposición funcional
2019-11-06 20:28:25,470 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:28:25,478 - DEBUG - ---Validación con Expertos de la VSTI
2019-11-06 20:28:25,481 - DEBUG - ---Interacción de Componentes 
2019-11-06 20:28:25,482 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:28:25,484 - DEBUG - ---

2019-11-06 20:28:25,485 - DEBUG - ---Autenticación de clientes
2019-11-06 20:28:25,486 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la autenticación de los clientes dentro del portal de ventas digitales. Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:28:25,491 - DEBUG - ---Consulta de preaprobados
2019-11-06 20:28:25,492 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la consulta de los productos preaprobados de un cliente por cualquiera de los canales habilitados (SVP, APP y Portal de Ventas).
2019-11-06 20:28:25,494 - DEBUG - ---Carga de preaprobados
2019-11-06 20:28:25,496 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la carga de la base de datos transaccional de precalculados.
2019-11-06 20:28:25,498 - DEBUG - ---Venta de preaprobados TDC
2019-11-06 20:28:25,499 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes cuando se vende un producto preaprobado de Tarjeta de Crédito.
2019-11-06 20:28:25,503 - DEBUG - ---Replicar Información Solicitudes
2019-11-06 20:28:25,505 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para la replicación de la información de solicitudes desde la base de datos en IBM Bluemix hasta la base de datos intermedia y su posterior histórico en la LZ.
2019-11-06 20:28:25,507 - DEBUG - ---Nota: la periodicidad de ejecución de este proceso se propone sea cada hora de 6 a.m. a 6 p.m.
2019-11-06 20:28:25,509 - DEBUG - ---SSO entre canales
2019-11-06 20:28:25,510 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar el single sign on de un cliente desde la SVP/APP hacia el portal de ventas.3 Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:28:25,513 - DEBUG - ---Venta de preaprobados de Libre Inversión y CrediAgil
2019-11-06 20:28:25,513 - DEBUG - ---Venta de créditos con aprobación en línea.
2019-11-06 20:28:25,516 - DEBUG - ---Interfaces de la solución
2019-11-06 20:28:25,517 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:28:25,518 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:28:25,520 - DEBUG - ---<Enlace>
2019-11-06 20:28:25,524 - DEBUG - ---Vista física de la solución  
2019-11-06 20:28:25,526 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:28:25,527 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:28:25,528 - DEBUG - --- 
2019-11-06 20:28:25,529 - DEBUG - ---

2019-11-06 20:28:25,541 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:28:25,543 - DEBUG - ---En esta sección se muestra el diseño de los esquemas de disponibilidad local y remota desde la perspectiva de la necesidad de la solución y únicamente para componentes nuevos dentro de la arquitectura del banco. Los componentes existentes ya cuentan con su esquema de continuidad definido.
2019-11-06 20:28:25,544 - DEBUG - --- Esquema de Disponibilidad Local
2019-11-06 20:28:25,546 - DEBUG - ---Aplicación Administración de Tasas para Créditos
2019-11-06 20:28:25,547 - DEBUG - ---Base de datos de Preaprobados
2019-11-06 20:28:25,550 - DEBUG - ---Autenticación, manejo de sesión y Tx de consulta de preaprobados para la SVP
2019-11-06 20:28:25,552 - DEBUG - ---Esquema de Disponibilidad Remota
2019-11-06 20:28:25,554 - DEBUG - ---De acuerdo a la definición entregada por Riesgos y Continuidad del negocio en donde se indica que el Portal de Ventas al ser un canal alterno no está incluido en el BIA y por lo tanto no se requiere tener un esquema de disponibilidad remota (DR).
2019-11-06 20:28:25,556 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:28:25,558 - DEBUG - ---A continuación se describen de manera general, el monitoreo que deben tener los componentes que son nuevos dentro de la solución y que se encuentren en infraestructura nueva.
2019-11-06 20:28:25,561 - DEBUG - ---   
2019-11-06 20:28:25,562 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:28:25,568 - INFO - Indexing file: acceso.txt
2019-11-06 20:28:25,568 - DEBUG - ---Softlayer (Abrir con el internet explorer)
https://vpn.hou02.softlayer.com
Usuario:   ejbetanc     password:  Y6W6iY2&
Usuario : vcardona / Vcardona123*

Url consola was producción
https://10.121.219.153:10001/ibm/console/logon.jsp
user: 
wasadminb1    
pass:  
wasadminb1//* 


SSH
10.121.219.153
10.77.251.216

wasadmin
B1CAdminWAS
2019-11-06 20:28:25,569 - INFO - Indexing file: Procedimiento reinicio CLUSTER2 Ventas Digitales Produccion.docx
2019-11-06 20:28:25,576 - DEBUG - ---Instructivo para realizar reinicio CLUSTER2 de ventas Digitales
2019-11-06 20:28:25,578 - DEBUG - ---Detener las aplicaciones, para ello desde la consola WAS ir a la ruta Applications - Application Types - WebSphere enterprise applications y buscar las aplicaciones 
2019-11-06 20:28:25,578 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:28:25,579 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:28:25,580 - DEBUG - ---El Cluser2 está compuesto por los APPSERVER ASPDNB1C03 y ASPDNB1C04, para continuar con el proceso de reinicio se debe detener  primero el APPSERVER ASPDNB1C03
2019-11-06 20:28:25,582 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:28:25,583 - DEBUG - ---En el servidor 10.73.29.83 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:28:25,584 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C03 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:28:25,586 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C03
2019-11-06 20:28:25,587 - DEBUG - ---Despues de validar que suba el APPSERVER ASPDNB1C03, se procede a detener el APPSERVER ASPDNB1C04
2019-11-06 20:28:25,589 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:28:25,590 - DEBUG - ---En el servidor 10.170.187.21 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:28:25,591 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C04 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:28:25,593 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C04
2019-11-06 20:28:25,594 - INFO - Indexing file: TD_Arquitectura_Mercado_Libre_Divisas_Personas_v1.3.docx
2019-11-06 20:28:25,663 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:28:25,665 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:28:25,672 - DEBUG - ---Reto Mercado Libre de Divisas
2019-11-06 20:28:25,679 - DEBUG - ---	
2019-11-06 20:28:25,681 - DEBUG - ---

2019-11-06 20:28:25,684 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:25,688 - DEBUG - ---
Control del Documento
2019-11-06 20:28:25,693 - DEBUG - ---

2019-11-06 20:28:25,694 - DEBUG - ---Referencias
2019-11-06 20:28:25,697 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:28:25,700 - DEBUG - ---

2019-11-06 20:28:25,701 - DEBUG - ---Contextualización de la Solución
2019-11-06 20:28:25,703 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:28:25,704 - DEBUG - ---El primer reto que se afrontará dentro del programa será el de Mercado Libre de Divisas, el cual pretende digitalizar a través de la SVP el proceso de compra y venta de divisas (solo formulario cambiario cinco) para personas naturales y pymes, este proceso comúnmente llamado envío y recepción de giros interbancarios a hoy se realiza personalmente a través de la sucursal física o de la mesa de dinero (telefónicamente). A continuación se presenta un diagrama conceptual que ilustra a alto nivel el proceso actual desde el punto de vista del cliente:
2019-11-06 20:28:25,707 - DEBUG - ---Con la digitalización de este proceso se pretende darle solución básicamente a dos aspectos:
2019-11-06 20:28:25,711 - DEBUG - ---Necesidad de desplazamiento a la sucursal física y la firma de declaraciones de cambio: actualmente, independiente del canal de negociación, para realizar el cumplimiento de la operación, el cliente se debe desplazar hasta la sucursal y radicar los documentos declaración de cambio y carta de instrucciones.
2019-11-06 20:28:25,713 - DEBUG - ---Alta congestión de mesa de dinero: a hoy un alto porcentaje de las operaciones entran directamente a la mesa, bien sea porque los clientes se sienten mejor asesorados o porque desde las oficinas, por desconocimiento, los remiten a la mesa, ocasionando así que se pierdan muchas veces mejores negocios por lo tiempos de espera en la mesa.
2019-11-06 20:28:25,719 - DEBUG - ---Alcance de la solución
2019-11-06 20:28:25,720 - DEBUG - ---La presente solución tiene como alcance los siguientes aspectos:
2019-11-06 20:28:25,724 - DEBUG - ---Consulta de histórico de transferencias internacionales recibidas.
2019-11-06 20:28:25,726 - DEBUG - ---Transacción de recepción manual de transferencias internacionales por la SVP, con abono a cuenta de ahorros o corriente.
2019-11-06 20:28:25,729 - DEBUG - ---Administración de la inscripción al servicio de abono automático para las transferencias internacionales recibidas.
2019-11-06 20:28:25,730 - DEBUG - ---Modificación de rutina de abono automático con beneficio de tasa digital.
2019-11-06 20:28:25,731 - DEBUG - ---Consulta de condiciones de negociación y tasa digital.
2019-11-06 20:28:25,732 - DEBUG - ---Alertas de recepción de transferencias internacionales.
2019-11-06 20:28:25,733 - DEBUG - ---Inscripción y administración de cuentas en el exterior.
2019-11-06 20:28:25,734 - DEBUG - ---Transacción de envío de transferencias internacionales por la SVP, con debito a cuenta ahorros o corriente.
2019-11-06 20:28:25,735 - DEBUG - ---Alertas de recibo y envío de transferencias internacionales.
2019-11-06 20:28:25,737 - DEBUG - ---Relación de la solución con otras Iniciativas 
2019-11-06 20:28:25,742 - DEBUG - ---Restricciones
2019-11-06 20:28:25,745 - DEBUG - ---Las siguientes son las restricciones de negocio y técnicas consideradas en el diseño de la arquitectura de la solución:   
2019-11-06 20:28:25,749 - DEBUG - ---

2019-11-06 20:28:25,751 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:28:25,754 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:28:25,756 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso a un alto nivel de acuerdo con los requisitos de negocio planteados para la solución.
2019-11-06 20:28:25,760 - DEBUG - ---

2019-11-06 20:28:25,763 - DEBUG - ---Actores de la solución
2019-11-06 20:28:25,764 - DEBUG - ---Se relacionan los actores que interactúan con la solución y su descripción desde la perspectiva del rol que desempeña:
2019-11-06 20:28:25,766 - DEBUG - ---  Puntos de acceso   
2019-11-06 20:28:25,767 - DEBUG - ---Los medios a través de los cuales los actores acceden a las funcionalidades de la solución son relacionados en la siguiente tabla:
2019-11-06 20:28:25,768 - DEBUG - ---   
2019-11-06 20:28:25,769 - DEBUG - ---Descomposición funcional
2019-11-06 20:28:25,770 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, su estado y quien es el dueño de dicho elemento, al igual que la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:28:25,774 - DEBUG - ---Requisitos Técnicos (RT)
2019-11-06 20:28:25,775 - DEBUG - ---Para la presente solución no se requiere de requisitos técnicos adicionales a los planteados en las responsabilidades de cada uno de los componentes y en las historias de usuario creadas por los usuarios.
2019-11-06 20:28:25,777 - DEBUG - ---Interacción de Componentes (Escenarios de uso de la solución)
2019-11-06 20:28:25,779 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:28:25,780 - DEBUG - ---

2019-11-06 20:28:25,781 - DEBUG - ---Gestión Abono Automático
2019-11-06 20:28:25,782 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario  de gestión de abono automático (inscripción, modificación y retiro) y la interacción entre ellos: 
2019-11-06 20:28:25,784 - DEBUG - ---Transferencias recibidas desde el exterior
2019-11-06 20:28:25,786 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de recepción manual de una transferencia desde el exterior y la interacción entre ellos: 
2019-11-06 20:28:25,790 - DEBUG - ---Abono Automático
2019-11-06 20:28:25,792 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de la ejecución de la rutina de abono automático y la interacción entre ellos: 
2019-11-06 20:28:25,795 - DEBUG - ---Notificaciones desde CIB
2019-11-06 20:28:25,796 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para la migración de notificaciones de Faxmail a Alertas y Notificaciones: 
2019-11-06 20:28:25,798 - DEBUG - ---Transferencias hacia el exterior
2019-11-06 20:28:25,800 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para inscripción de cuentas y transferencias hacia el exterior: 
2019-11-06 20:28:25,801 - DEBUG - ---	
2019-11-06 20:28:25,803 - DEBUG - ---Consulta de Tasa
2019-11-06 20:28:25,807 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario para la consulta de tasa digital y la interacción entre ellos: 
2019-11-06 20:28:25,811 - DEBUG - ---Interfaces de la solución
2019-11-06 20:28:25,813 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:28:25,816 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:28:25,820 - DEBUG - ---Visualización y accesos 
2019-11-06 20:28:25,822 - DEBUG - ---Se presentan los principales reportes/informes o punto de acceso a la información, que se crean o se modifican de forma relevante en la solución:
2019-11-06 20:28:25,828 - DEBUG - ---Para obtener mayor información sobre los tipos de reportes y las herramientas corporativas para su implementación, puede referirse a la 
2019-11-06 20:28:25,829 - DEBUG - ---   
2019-11-06 20:28:25,830 - DEBUG - ---

2019-11-06 20:28:25,831 - DEBUG - ---Vista física de la solución  
2019-11-06 20:28:25,833 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:28:25,834 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:28:25,838 - DEBUG - ---

2019-11-06 20:28:25,842 - DEBUG - ---Cuadro resumen de componentes técnicos
2019-11-06 20:28:25,845 - DEBUG - ---Se ubican los componentes en capas  y se  relaciona  la información técnica asociada a cada componente, tipo,  plataforma, sistema operativo, tecnologías y ubicación geográfica:
2019-11-06 20:28:25,850 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:28:25,853 - DEBUG - ---En esta seacción se muestra el diseño de la contingencia local y remota para los siguientes componentes de infraestructura nuevos de la solución:
2019-11-06 20:28:25,856 - DEBUG - ---Front Mercado Libre
2019-11-06 20:28:25,859 - DEBUG - ---Los demás componentes de infraestructura son los existentes, por lo tanto la alta disponibilidad, contingencia remota, monitoreo y ambientes de ejecución serán los mismos que a hoy se tienen definidos.
2019-11-06 20:28:25,863 - DEBUG - --- Alta Disponibilidad  (High Availability- HA)
2019-11-06 20:28:25,866 - DEBUG - ---La alta disponibilidad se puede ver en la sección 5.6 del presente documento.
2019-11-06 20:28:25,870 - DEBUG - ---Contingencia Remota (Disaster Recovery - DR)
2019-11-06 20:28:25,873 - DEBUG - ---La contingencia remota es la misma que existe actualmente para la infraestructura de WAS de la SVP, a continuación una imagen que detalla el tema:
2019-11-06 20:28:25,879 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:28:25,882 - DEBUG - ---Se debe implementar el mismo esquema de monitoreo que a hoy se tiene para los desarrollos de la SVP y el Framework Transaccional. Adicionalmente se deberán implementar mecanismos de monitoreo para garantizar que la aplicación del nuevo front este arriba, monitoreando el link y garantizando que la respuesta http sea correcta.
2019-11-06 20:28:25,887 - DEBUG - ---Ambientes de Ejecución
2019-11-06 20:28:25,890 - DEBUG - ---Se tendrán los siguientes ambientes para la solución:
2019-11-06 20:28:25,893 - DEBUG - ---Desarrollo
2019-11-06 20:28:25,895 - DEBUG - ---El ambiente de desarrollo será utilizando la infraestructura actual que tiene la SVP, para tal motivo se creará un nuevo servidor de aplicaciones para los desarrollos del front y otro servidor de aplicaciones para los desarrollos comunes del framework transaccional.
2019-11-06 20:28:25,899 - DEBUG - ---Certificación
2019-11-06 20:28:25,902 - DEBUG - ---El ambiente de certificación será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán dos nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros dos servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:28:25,906 - DEBUG - ---Producción
2019-11-06 20:28:25,908 - DEBUG - ---El ambiente de producción será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán cuatro nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros cuatro servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:28:25,913 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:28:25,915 - DEBUG - ---Las decisiones aplicativas, técnicas, de información y seguridad más relevantes con respecto a diversos aspectos de la arquitectura son relacionadas a continuación:
2019-11-06 20:28:25,919 - DEBUG - --- Riesgos y/o Alertas
2019-11-06 20:28:25,922 - DEBUG - ---En la siguiente tabla se relacionan los puntos relevantes generados a partir del diseño y de interés para certificación, desarrollo, gestión de la demanda e infraestructura: 
2019-11-06 20:28:25,926 - DEBUG - --- Estándares y definiciones
2019-11-06 20:28:25,929 - DEBUG - ---Se relacionan los estándares y definiciones que se consideraron para la elaboración del diseño de la arquitectura de la solución:
2019-11-06 20:28:25,932 - DEBUG - ---   
2019-11-06 20:28:25,934 - INFO - Indexing file: Tips OC 2154091.docx
2019-11-06 20:28:25,943 - DEBUG - ---Ejecucion OC 2154091
2019-11-06 20:28:25,945 - DEBUG - ----Se requiere subir archivo de monitoreo para ventas tajeta de credito y libre inversión
2019-11-06 20:28:25,947 - DEBUG - ---Solución:
2019-11-06 20:28:25,948 - DEBUG - ----Actualizar los siguientes war:
2019-11-06 20:28:25,949 - DEBUG - ---VIEW.Dashboard
2019-11-06 20:28:25,950 - DEBUG - ---VIEW.Tarjeta
2019-11-06 20:28:25,951 - DEBUG - ---VIEW.Creditos
2019-11-06 20:28:25,952 - DEBUG - ---Las aplicaciones a actualizar están desplegadas en el WAS CLUSTER2 apuntando a los IHS de Acceso digital y tienen los siguientes nombres:
2019-11-06 20:28:25,953 - DEBUG - ---PMO27262_VIEW_Dashboard
2019-11-06 20:28:25,953 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:28:25,954 - DEBUG - ---PMO27262_VIEW_Creditos
2019-11-06 20:28:25,955 - DEBUG - ---Una vez instales, reincias el CLUSTER2 para no generar afectación del servicio
2019-11-06 20:28:25,956 - DEBUG - ---Accesos de produccion
2019-11-06 20:28:25,957 - DEBUG - ---Softlayer (Abrir con el internet explorer)
2019-11-06 20:28:25,959 - DEBUG - ---Usuario:   ejbetanc     password:  Y6W6iY2&
2019-11-06 20:28:25,959 - DEBUG - ---Usuario : vcardona / Vcardona123*
2019-11-06 20:28:25,961 - DEBUG - ---Url consola was producción
2019-11-06 20:28:25,961 - DEBUG - ---user: 
2019-11-06 20:28:25,962 - DEBUG - ---wasadminb1    
2019-11-06 20:28:25,962 - DEBUG - ---pass:  
2019-11-06 20:28:25,963 - DEBUG - ---wasadminb1//* 
2019-11-06 20:28:25,964 - DEBUG - ---SSH
2019-11-06 20:28:25,965 - DEBUG - ---10.121.219.153
2019-11-06 20:28:25,965 - DEBUG - ---10.77.251.216
2019-11-06 20:28:25,966 - DEBUG - ---wasadmin
2019-11-06 20:28:25,966 - DEBUG - ---B1CAdminWAS
2019-11-06 20:28:25,967 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-06 20:28:26,038 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:28:26,041 - DEBUG - ---(PLATAFORMAS CENTRALES DE INTEGRACION)
2019-11-06 20:28:26,044 - DEBUG - ---Versión 1.0 
2019-11-06 20:28:26,045 - DEBUG - ---SVE, Facturanet, PSE
2019-11-06 20:28:26,047 - DEBUG - ---PMO17969
2019-11-06 20:28:26,048 - DEBUG - ---

2019-11-06 20:28:26,050 - DEBUG - ---Control del Documento
2019-11-06 20:28:26,052 - DEBUG - ---

2019-11-06 20:28:26,054 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:28:26,059 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:28:26,061 - DEBUG - ---Descripción detallada del diseño en la plataformac
2019-11-06 20:28:26,062 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:28:26,062 - DEBUG - --- 
2019-11-06 20:28:26,078 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:28:26,078 - DEBUG - ---(Telecomunicaciones, plataformas centrales, bases de datos, Distribuidas, monitoreo)
2019-11-06 20:28:26,079 - DEBUG - ---Diagrama que contiene cada uno de los componentes de tecnología y su relación (hardware y software) 
2019-11-06 20:28:26,080 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:26,081 - DEBUG - ---AMBIENTE DE PRODUCCIÓN
2019-11-06 20:28:26,084 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:28:26,091 - DEBUG - ---AMBIENTE DE DESARROLLO
2019-11-06 20:28:26,096 - DEBUG - ---(Información de  Configuraciones especificas, reglas, direccionamiento, VLANs, 
2019-11-06 20:28:26,097 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:26,098 - DEBUG - ---A nivel de Servidor de aplicaciones WAS
2019-11-06 20:28:26,111 - DEBUG - ---Seguridad a Nivel de Sistema Operativo
2019-11-06 20:28:26,113 - DEBUG - ---Seguridad a Nivel de Datos
2019-11-06 20:28:26,114 - DEBUG - ---Esquema de depuración de la base de datos
2019-11-06 20:28:26,115 - DEBUG - ---Ambiente de Producción
2019-11-06 20:28:26,116 - DEBUG - ---Ambiente de Certificación
2019-11-06 20:28:26,117 - DEBUG - ---Ambiente de Integración
2019-11-06 20:28:26,119 - DEBUG - ---Servidores de Producción
2019-11-06 20:28:26,121 - DEBUG - ---Servidores Certificación:
2019-11-06 20:28:26,124 - DEBUG - ---Servidores Desarrollo:
2019-11-06 20:28:26,126 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:28:26,127 - DEBUG - ---(Recomendaciones y procedimientos adicionales para la Implementación, soporte)
2019-11-06 20:28:26,128 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:26,130 - DEBUG - ---  
2019-11-06 20:28:26,131 - DEBUG - ---(Incluir desde la plataforma específica,  una lista de pasos recomendados para verificar el estado de la solución  y plasmarlo en  un diagrama  de flujo de decisión en cada paso mencionado)
2019-11-06 20:28:26,132 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:28:26,134 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:26,135 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:28:26,137 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación. 
2019-11-06 20:28:26,140 - DEBUG - ---Comprobar el estado del servidor web que recibe las peticiones para la aplicación.
2019-11-06 20:28:26,141 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones y del web server. 
2019-11-06 20:28:26,143 - DEBUG - ---  
2019-11-06 20:28:26,145 - DEBUG - ---Liste los  tipos de contingencia que tiene el servicio (de aplicación, de modo de operación, de infraestructura, etc)
2019-11-06 20:28:26,146 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:28:26,147 - DEBUG - ---Entrega el área que proporciona la contingencia
2019-11-06 20:28:26,148 - DEBUG - ---Los  procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:28:26,150 - DEBUG - ---Plataforma WAS
2019-11-06 20:28:26,151 - DEBUG - ---El servidor de aplicaciones cuenta con un esquema de disponibilidad ACTIVO/PASIVO; de esta manera la aplicación está disponible en uno de los servidores y tiene el otro como respaldo.
2019-11-06 20:28:26,153 - DEBUG - ---La plataforma también cuenta con DRP.
2019-11-06 20:28:26,155 - DEBUG - ---  
2019-11-06 20:28:26,157 - DEBUG - ---Errores funcionales del servicio, Errores Técnicos de aplicación, Errores de la Infraestructura, Errores en  Plataformas Centrales , Errores en  Plataformas Distribuidas, Errores en  Telecomunicaciones
2019-11-06 20:28:26,158 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:28:26,160 - DEBUG - ---Errores conocidos  
2019-11-06 20:28:26,161 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:28:26,162 - DEBUG - ---A nivel de WAS
2019-11-06 20:28:26,164 - DEBUG - ---.    Errores funcionales del servicio
2019-11-06 20:28:26,166 - DEBUG - --- 
2019-11-06 20:28:26,167 - INFO - Indexing file: Anexo 1 - Grafico de diseдo de arquitectura del cliente.docx
2019-11-06 20:28:26,173 - DEBUG - ---Grafico de diseño de arquitectura del cliente.
2019-11-06 20:28:26,174 - INFO - Indexing file: Hoja de datos WAS.docx
2019-11-06 20:28:26,181 - INFO - Indexing file: Hoja de datos Process server.docx
2019-11-06 20:28:26,186 - DEBUG - ---Hoja de datos Process server
2019-11-06 20:28:26,187 - INFO - Indexing file: Hoja de datos Datapower.docx
2019-11-06 20:28:26,194 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:28:26,195 - DEBUG - ---RIN – UNE (Servidor)
2019-11-06 20:28:26,195 - DEBUG - ---PMO16436
2019-11-06 20:28:26,196 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-06 20:28:26,212 - DEBUG - ---

2019-11-06 20:28:26,212 - DEBUG - ---PROCEDIMIENTO A REALIZAR
2019-11-06 20:28:26,213 - DEBUG - ---PEDIDOS QUE REALIZA PI
2019-11-06 20:28:26,213 - DEBUG - ---Solicitud del filesystem para el Proyecto 
2019-11-06 20:28:26,214 - DEBUG - ---Se solicita por medio de correo a nosotros con el nombre del proyecto y el Sizing del mismo.
2019-11-06 20:28:26,214 - DEBUG - ---Crear OC: 
2019-11-06 20:28:26,215 - DEBUG - ---Categoría: almacenamiento y creación de disco.
2019-11-06 20:28:26,215 - DEBUG - ---Adjuntar el formato (Solicitarlo a almacenamiento).
2019-11-06 20:28:26,216 - DEBUG - ---SOLICITAR AMPLIACIÓN - CREACIÓN - FILESYSTEM - DIRECTORIO - CARPETA oc'S:

2019-11-06 20:28:26,217 - DEBUG - ---Filesystem existente:
*orden de cambio ampliación - 456834
Categoría: Almacenamiento. Ampliación File Systems y presentación Discos SAN Plataformas Centrales 

2019-11-06 20:28:26,217 - DEBUG - ---Filesystem Nuevo:
*orden de cambio creación - 718604 
Categoría: Almacenamiento. Creación de Discos Nuevos Plataformas Centrales
2019-11-06 20:28:26,218 - DEBUG - ---PEDIDOS QUE REALIZA DESARROLLO
2019-11-06 20:28:26,219 - DEBUG - ---Creación de usuarios de red (AIX): Se solicita por USM, creación usuarios pSeries.
2019-11-06 20:28:26,219 - DEBUG - ---En caso de que el proveedor sea nuevo en el banco.
2019-11-06 20:28:26,221 - DEBUG - ---Pedidos USM a Control de Acceso
2019-11-06 20:28:26,222 - DEBUG - --- Se realiza la solicitud por medio de USM ().
2019-11-06 20:28:26,223 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:28:26,224 - DEBUG - ---Cuando tengan los nombres de los usuarios de red de cada desarrollador, deben solicitar la autorización por correo a GCIA PLATAFORMAS DE INTEGRACION  para la creación de los usuarios en la máquina 10.8.64.210 - PBMDEADDST04, para adjuntarlo al pedido. 
2019-11-06 20:28:26,224 - DEBUG - ---Con la aprobación realizan la solicitud para la creación de usuarios del SO para cada desarrollador y que pertenezcan al grupo “dstageXXX” (Fabrica) 
2019-11-06 20:28:26,225 - DEBUG - ---Servicios Especializados de TI (sólo para empleados VTI) -> Gestion de ambientes de pruebas y desarrollo -> Gestion de Ambientes - Administración control de Acceso -> Creación de usuarios Pseries -> Selecciona la opción de Creación de usuarios Pseries y descargamos el formato para diligenciarlo que se encuentra en la parte de abajo en letra roja, para luego adjuntarlo.
2019-11-06 20:28:26,226 - DEBUG - ---El usuario de red debe solicitarse para crear en el directorio activo de AMBIENTESBC para poderse conectar a través de las herramientas cliente (Designer, Director). Debe solicitarse con las siguientes características: 
2019-11-06 20:28:26,227 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:28:26,228 - DEBUG - ---La clave no puede expirar
2019-11-06 20:28:26,228 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:28:26,229 - DEBUG - ---Relación de confianza (SFTP): Aplica si utilizan conexión SFTP. 
2019-11-06 20:28:26,229 - DEBUG - ---Solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadmXXX y el de conexión creado previamente.
2019-11-06 20:28:26,230 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:28:26,231 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:28:26,232 - DEBUG - ---Solicitarse para crear en el directorio activo de AMBIENTESBC los usuarios de Tester (Certificadores). Debe solicitarse con las siguientes características:
2019-11-06 20:28:26,233 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:28:26,233 - DEBUG - ---La clave no puede expirar
2019-11-06 20:28:26,234 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:28:26,235 - DEBUG - ---AMBIENTE DE PRODUCCIÓN 
2019-11-06 20:28:26,236 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:28:26,237 - DEBUG - ---En éste ambiente no se crean usuarios de desarrollo por ser productivo.
2019-11-06 20:28:26,240 - DEBUG - ---Pedidos OC a nuestro grupo Plataformas de integración
2019-11-06 20:28:26,240 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:28:26,241 - DEBUG - ---Solicitan la creación del proyecto DESA_PROYECTO 
2019-11-06 20:28:26,242 - DEBUG - ---Solicitan matricular los usuarios de los desarrolladores creados en AMBIENTESBC y asociarlos al proyecto creado. (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx).
2019-11-06 20:28:26,243 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:28:26,244 - DEBUG - ---Ambiente
2019-11-06 20:28:26,244 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:28:26,245 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:28:26,245 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:28:26,246 - DEBUG - ---Nombre de la BD
2019-11-06 20:28:26,247 - DEBUG - ---Tabla o esquema
2019-11-06 20:28:26,247 - DEBUG - ---Puerto 
2019-11-06 20:28:26,248 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:26,248 - DEBUG - ---DNS del servidor
2019-11-06 20:28:26,249 - DEBUG - ---AMBIENTE CERTIFICACIÓN
2019-11-06 20:28:26,250 - DEBUG - ---Solicitan la creación del proyecto, CERT_ PROYECTO 
2019-11-06 20:28:26,251 - DEBUG - ---Solicitan matricular los usuarios de los Tester y asociarlos al proyecto creado (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx)
2019-11-06 20:28:26,251 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:28:26,252 - DEBUG - ---Ambiente
2019-11-06 20:28:26,253 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:28:26,254 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:28:26,256 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:28:26,257 - DEBUG - ---Nombre de la BD
2019-11-06 20:28:26,258 - DEBUG - ---Tabla o esquema
2019-11-06 20:28:26,259 - DEBUG - ---Puerto 
2019-11-06 20:28:26,260 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:26,260 - DEBUG - ---DNS del servidor
2019-11-06 20:28:26,261 - DEBUG - ---AMBIENTE PRODUCCIÓN
2019-11-06 20:28:26,262 - DEBUG - ---Solicitan la creación del proyecto PROD_ PROYECTOS 
2019-11-06 20:28:26,263 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:28:26,264 - DEBUG - ---Ambiente
2019-11-06 20:28:26,264 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:28:26,265 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:28:26,265 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:28:26,266 - DEBUG - ---Nombre de la BD
2019-11-06 20:28:26,267 - DEBUG - ---Tabla o esquema
2019-11-06 20:28:26,267 - DEBUG - ---Puerto 
2019-11-06 20:28:26,268 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:26,268 - DEBUG - ---DNS del servidor
2019-11-06 20:28:26,269 - DEBUG - ---	
2019-11-06 20:28:26,269 - DEBUG - ---Otros temas a tener en cuenta:
2019-11-06 20:28:26,270 - DEBUG - ---El nombre del proyecto se define de la siguiente forma:
2019-11-06 20:28:26,271 - DEBUG - ---Desarrollo: DESA_PROYECTO
2019-11-06 20:28:26,271 - DEBUG - ---Certificación: CERT_PROYECTO
2019-11-06 20:28:26,272 - DEBUG - ---Producción: PROD_PROYECTO
2019-11-06 20:28:26,273 - DEBUG - ---Los usuarios de SO se crean en Desarrollo y Certificación en el Engine DataStage (Dllo: 10.8.64.210, Cert: 10.4.33.30).
2019-11-06 20:28:26,273 - DEBUG - ---Los usuarios de Desarrollo deben tener un cliente instalado en su máquina o conectarse a través de Citrix.
2019-11-06 20:28:26,274 - DEBUG - ---Información que se solicita al analista del proyecto: 
2019-11-06 20:28:26,275 - DEBUG - ---Nombre de la Fábrica
2019-11-06 20:28:26,276 - DEBUG - ---Sizing (Tamaño del filesystem en cada uno de los ambientes).
2019-11-06 20:28:26,276 - DEBUG - ---Si es una conexión ODBC se necesita un String de Conexión para lo cual se requiere saber:
2019-11-06 20:28:26,277 - DEBUG - ---Tipo base de datos
2019-11-06 20:28:26,277 - DEBUG - ---Nombre del Datasource
2019-11-06 20:28:26,278 - DEBUG - ---DNS del servidor
2019-11-06 20:28:26,278 - DEBUG - ---Nombre de base de datos
2019-11-06 20:28:26,279 - DEBUG - ---Puerto
2019-11-06 20:28:26,279 - DEBUG - ---Si es una conexión sftp se deben conocer los usuarios de conexión y las máquinas destino a las cuáles se conectan.
2019-11-06 20:28:26,280 - DEBUG - ---Usuario iSeries (CNXxxx).
2019-11-06 20:28:26,280 - INFO - Indexing file: Guia_Instalacion_CambioCertificadoDigital.docx
2019-11-06 20:28:26,292 - DEBUG - ---	
2019-11-06 20:28:26,293 - DEBUG - ---Cambio Certificado Digital 
2019-11-06 20:28:26,294 - DEBUG - ---CerFirmaCarvajal.cer
2019-11-06 20:28:26,294 - DEBUG - ---Guía de instalación
2019-11-06 20:28:26,295 - DEBUG - ---OC 2230886
2019-11-06 20:28:26,296 - DEBUG - ---Versión 1.0
2019-11-06 20:28:26,302 - DEBUG - ---Manual de instalación 
2019-11-06 20:28:26,303 - DEBUG - ---OC 2230886
2019-11-06 20:28:26,304 - DEBUG - ---Datos para la instalación
2019-11-06 20:28:26,306 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:28:26,307 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:28:26,308 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:28:26,308 - DEBUG - ---CEL: 3115332927 
2019-11-06 20:28:26,309 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:28:26,309 - DEBUG - ---  
2019-11-06 20:28:26,310 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 6
2019-11-06 20:28:26,310 - DEBUG - ---Acceso Datapower 
2019-11-06 20:28:26,311 - DEBUG - ---Ingresar a  y a  - Datapower 2   con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio PRODUCCIÓN
2019-11-06 20:28:26,312 - DEBUG - ---Nota: Instalar también en el DataPower del DRP
2019-11-06 20:28:26,313 - DEBUG - ---Instalación de los Certificados nombres CC_FIRMA_CARVAJAL, certificado CerFirmaCarvajal.cer
2019-11-06 20:28:26,314 - DEBUG - ---Descargar los archivos CerFirmaCarvajal.cer  que se encuentra adjunto en la OC.
2019-11-06 20:28:26,314 - DEBUG - ---Sobrescribir el archivo en la carpeta cert del dominio de producción, el certificado CerFirmaCarvajal.cer 
2019-11-06 20:28:26,315 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:28:26,320 - DEBUG - ---Manual de instalación 
2019-11-06 20:28:26,321 - DEBUG - ---OC 2230886
2019-11-06 20:28:26,323 - DEBUG - ---Datos para la instalación
2019-11-06 20:28:26,324 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:28:26,324 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:28:26,325 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:28:26,325 - DEBUG - ---CEL: 3115332927  
2019-11-06 20:28:26,326 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:28:26,327 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 7
2019-11-06 20:28:26,327 - DEBUG - ---Acceso Datapower 
2019-11-06 20:28:26,328 - DEBUG - ---Ingresar a  - Datapower1 y a  - Datapower 2 , con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio Default
2019-11-06 20:28:26,329 - DEBUG - ---Instalación de los Certificados Nombre CC_FIRMA_CARVAJAL certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:28:26,330 - DEBUG - ---Descargar los archivos CC_FIRMA_CARVAJAL.cer que se encuentra adjunto en la OC.
2019-11-06 20:28:26,330 - DEBUG - ---Sobrescribir los archivos en la carpeta sharedcert del dominio de Default, el certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:28:26,331 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate CC_FIRMA_CARVAJAL que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:28:26,331 - DEBUG - ---Por favor instalar las cadenas de confianza adjuntas (AC_SUB_CERTICAMARA.cer y AC_Raiz_Certicamara.cer) en la carpeta pubcert en el dominio Default
2019-11-06 20:28:26,333 - DEBUG - ---Ingresar a la URL
2019-11-06 20:28:26,334 - DEBUG - ---​
2019-11-06 20:28:26,335 - DEBUG - ---​
2019-11-06 20:28:26,335 - DEBUG - ---Y deshabilitar el componente que aparece​ a continuación:
2019-11-06 20:28:26,336 - INFO - Indexing file: Reinicio_Datastage (1).txt
2019-11-06 20:28:26,338 - DEBUG - ---
REINICIO - ENGINE
Con el usuario DSADM

cd /opk/IBM/InformationServer/Server/DSEngine/
. ./dsenv 
uv -admin -stop

REINICIO LOGGIN AGENT
/opk/IBM/InformationServer/ASBNode/bin
sudo ./NodeAgents.sh stop

version.xml - /opk/IBM/InformationServer

sudo /opk/IBM/InformationServer/Server/DSEngine/

sudo sh "chown -R dsadm:dstage /opk /dataset1 /dataset2 /scratch1 /scratch2 /proyectos /interfaces" 
cd $DSHOME/scripts 
sudo sh DSEenable_impersonation.sh 

/opk/IBM/InformationServer/Server/DSComponents/bin
./dscompinst -username ceaherre -password Banco2013* -install -force /tmp/CC_ORA_aix_installation.jar

ps -ef | grep osh
ps -ef | grep DSD.RUN
ps -ef | grep dsapi

2019-11-06 20:28:26,849 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:28:26,862 - DEBUG - results found: 7
2019-11-06 20:29:26,671 - INFO - Indexing file: test.docx
2019-11-06 20:31:11,293 - INFO - Indexing file: test.docx
2019-11-06 20:31:15,260 - INFO - ------------------------------------------
2019-11-06 20:31:15,260 - INFO - -- Starting indexing process      --------
2019-11-06 20:31:15,261 - INFO - -- files path: /home/mgazzola/Documents/instructivos
2019-11-06 20:31:15,261 - INFO - ------------------------------------------
2019-11-06 20:31:15,279 - INFO - Indexing file: MANUAL DE OPERACIONES WSRR v.1.docx
2019-11-06 20:31:15,290 - DEBUG - ---GUÍA DE OPERACIONES WSRR v8.0
2019-11-06 20:31:15,291 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:31:15,292 - DEBUG - ---1. Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0:
2019-11-06 20:31:15,292 - DEBUG - ---AW0939
2019-11-06 20:31:15,293 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:31:15,293 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:31:15,294 - DEBUG - ---2. Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:31:15,294 - DEBUG - ---MQE_RecuperarDatosCliente (la versión 3.0 -->
2019-11-06 20:31:15,295 - DEBUG - ---http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0 [^]).
2019-11-06 20:31:15,295 - DEBUG - ---PASOS
2019-11-06 20:31:15,296 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:31:15,296 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:31:15,297 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:31:15,298 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:31:15,298 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:31:15,299 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:31:15,300 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:31:15,300 - DEBUG - ---

2019-11-06 20:31:15,301 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:31:15,302 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:31:15,302 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:31:15,303 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:31:15,304 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:31:15,305 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:31:15,305 - INFO - Indexing file: HOJA DE DATOS_WSP_RIN_ARGS(1).docx
2019-11-06 20:31:15,311 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:31:15,312 - DEBUG - ---RIN DOS VÍAS –Argos (Servidor)
2019-11-06 20:31:15,312 - DEBUG - ----Dummy
2019-11-06 20:31:15,312 - INFO - Indexing file: Tips Aristi.txt
2019-11-06 20:31:15,313 - DEBUG - ---Comandos Frecuentes WebSphere Message Queue

* Ruta de logs
/var/mqm/errors ( Logs del producto )
/var/mqm/qmgrs/BCOLQMGR/errors ( Logs de un Queue Manager )

* Ruta de almacenes de certificados
/var/mqm/qmgrs/BCOLQMGR/ssl

* Administrar certificados
gsk7cmd -keydb -create -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -expire <days> -stash
gsk7cmd -keydb -stashpw -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12>
gsk7cmd -certreq -create [-db <name>] [-crypto <module name> [-tokenlabel <token label>]|[-relativeSlotNumber <slot_number>]] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> [-san_ipaddr <ip addr>[,<ip addr>]] [-san_dnsname <dns name>[,<dns name>]] [-san_emailaddr <email addr>[,<email addr>]] [-usereasoncode] -dn <dist name> [-size <2048 | 1024 | 512>] -file <name>
gsk7cmd -certreq -recreate [-db <name>] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> -file <name>
gsk7cmd -cert -add -db <filename>.kdb -pw <password> -label <label> -format <ascii | binary> -trust <enable | disable> -file <filename>
gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary> 
gsk7cmd -cert -list <all | personal | CA | site> -db < dbname > -pw <password> -type <cms | jks |jceks | pkcs12> -expiry < days >
gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename>
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -details -db <filename>.kdb -pw <password> -label <label>

--Cambiar el label de un certificado personal
gsk7cmd -cert -export -db key.kdb -pw passw0rd -label friendlyName -type cms -target personal.p12 -target_pw target_password -target_type pkcs12
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -import -file personal.p12 -label friendlyName -new_label ibmwebspheremqqueuemanagername -type pkcs12 -pw passw0rd -target key.kdb -target_pw target_password

Ejemplo:
gsk7cmd -keydb -create -db ihskeystore.kdb -pw ihskeystore -type cms -stash
gsk7cmd -certreq -create -db ihskeystore.kdb -pw ihskeystore -type cms -label sasoprd -dn "CN=sasoprd.bancolombia.corp,OU=VICEPRESIDENCIA DE TECNOLOGIA,O=BANCOLOMBIA S.A.,L=MEDELLIN,ST=ANTIOQUIA,C=CO" -size 2048 -file sasoprd.arm -sig_alg sha1

gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAROOTCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAROOTCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAPOLICYNETCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAPOLICYNETCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAISSUING1CA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAISSUING1CA.cer

gsk7cmd -cert -receive -db ihskeystore.kdb -pw ihskeystore -format ascii -file /tmp/SASOpriskDesarrollo/sasoprd.bancolombia.corp.cer

* Administrar permisos sobre los objetos
dspmqaut -m BCOLQMGR -t qmgr -g cnmq
setmqaut -m BCOLQMGR -t qmgr -g cnmq +connect +inq
dspmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq
setmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq +browse +get +inq +put +set

* Ejemplo para conectar dos MQ Servers ( PanamÃ¡-Colombia )
PPANMQMGR

Cola transmisiÃ³n
define qlocal(PCOLQMGR) USAGE(XMITQ)

Colas remotas
define qremote(IBS_PAN.INT.REQ) RQMNAME(PCOLQMGR) RNAME(IBS_PAN.INT.REQ) XMITQ(PCOLQMGR)
define qremote(INT.SWIFTPA.SWIFT.QL.RES) RQMNAME(PCOLQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.RES) XMITQ(PCOLQMGR)

Colas locales
define qlocal(INT.SWIFTPA.SWIFT.QL.REQ)
define qlocal(LTC_INT_IBSPA.QL.REQ) MAXDEPTH(100000)

Canal SVRCONN
define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

Canal Receive
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Colombia-Panama')

Canal Sender
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Panama-Colombia') XMITQ(PCOLQMGR) CONNAME('PBMDEAPMEB01(1414)')

Canal Cliente
define channel(SWIFT.SVRCONN) CHLTYPE(CLNTCONN) CONNAME('PBPAMTPMEB01(1414)') QMNAME(PPANQMGR) SSLCIPH(TRIPLE_DES_SHA_US) DESCR('Swift channel client')

PCOLQMGR

Cola transmisiÃ³n
define qlocal(PPANMQGR) USAGE(XMITQ)

Colas remotas
define qremote(INT.SWIFTPA.SWIFT.QL.REQ) RQMNAME(PPANQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.REQ) XMITQ(PPANQMGR)
define qremote(LTC_INT_IBSPA.QL.REQ) RQMNAME(PPANQMGR) RNAME(LTC_INT_IBSPA.QL.REQ) XMITQ(PPANQMGR)

Colas locales
define qlocal(IBS_PAN.INT.REQ)
define qlocal(INT.SWIFTPA.SWIFT.QL.RES)

Canal Receive
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Panama-Colombia')

Canal Sender
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Colombia-Panama') XMITQ(PPANQMGR) CONNAME('PBPAMTPMEB01(1414)')

Comandos Frecuentes WebSphere Message Broker

* Ruta de logs de Broker
/opk/IBM/mqsi ( Para Desarrollo y QA )
/var/mqm/errors ( Para ProducciÃ³n )

* Ruta de logs de cada Execution Group
/var/mqsi/components/BCOLQMGR_BROKER/<UUID>/ ( Donde para saber el valor del UUID ejecutan ps -fea | grep <Execution_Group> )
/var/mqsi/components/BCOLQMGR_BROKER/13d99063-3201-0000-0080-f92214f27c0a

* Administrar certificados
keytool -genkey -alias ibmwebspheremqcnxqqdes -keyalg RSA -sigalg SHA1withRSA -keysize 2048 -keystore /tmp/tmppcc.jks -v
keytool -certreq -alias ibmwebspheremqcnxqqdes -sigalg SHA1withRSA -file /tmp/ibmwebspheremqcnxqqdes.csr -keystore /tmp/tmppcc.jks -v
keytool -import -alias ibmwebspheremqcnxqqdes -file /home/jdaristi/Downloads/ibmwebspheremqcnxqqdes.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiarootca -file /home/jdaristi/Downloads/bancolombiarootca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiapolicynetca -file /home/jdaristi/Downloads/bancolombiapolicynetca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiaissuing1ca -file /home/jdaristi/Downloads/bancolombiaissuing1ca.cer -keystore /tmp/tmppcc.jks -v

* ConfiguraciÃ³n de una conexiÃ³n JDBC Oracle
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o ORACLE_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"
* ConfiguraciÃ³n de una conexiÃ³n JDBC DB2
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,connectionUrlFormatAttr1,databaseName,databaseType,jarsURL,portNumber,securityIdentity,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1],EQUIVDDB,EQUIVDDB,Oracle,/home/wasencio/jars/oracle,1521,SI_PEQUIV,10.4.33.26,oracle.jdbc.xa.client.OracleXADataSource,oracle.jdbc.OracleDriver"
* ConfiguraciÃ³n de una conexiÃ³n ODBC
Editar el archivo odbc.ini. En la variable $ODBCINI se encuentra la ruta completa del archivo.
* ConfiguraciÃ³n de una conexiÃ³n SFTP
mqsicreateconfigurableservice BCOLQMGR_BROKER -c FtpServer -o ftpSENTRANSACCIONAL -n accountInfo,protocol,scanDelay,securityIdentity,serverName -v usersftp,SFTP,120,secIdFtpSENTRANSACCIONAL,172.30.224.194:10022

* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::ICRSecurityIdentity -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::SI_PEQUIV -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso ODBC
mqsisetdbparms BCOLQMGR_BROKER -n MRXINHOUSE -u CNXBRKVAR -p *****
* Configurar el usuario y clave para un recurso SFTP ( Correspondiente al ejemplo anterior )
mqsisetdbparms PCOLQMGR_BROKER -n sftp::secIdFtpBancolombia -u CNXCUSEB -p *****

* Revisar propiedades de configuraciÃ³n:

mqsireportproperties BCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c FtpServer -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c ServiceRegistries -o AllReportableEntityNames -r

* Revisar configuraciÃ³n de almacenes de certificados
mqsireportproperties BCOLQMGR_BROKER -o BrokerRegistry -r

* Revisar configuraciÃ³n del HTTPListener
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPListener -a

* Revisar configuraciÃ³n del HTTPSConector
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPSConnector -a

* Revisar configuraciÃ³n del HTTPConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPConnector -r

* Revisar configuraciÃ³n del HTTPSConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPSConnector -r

* Activar estadisticas y monitoreos, esto es lo mÃ¡s complejo pero mÃ¡s efectivo para realizar una revisiÃ³n sobre algun flujo

- Se crean las siguientes colas para estadisticas
define qlocal(STATS.Servicio.WhoIsWhoCRMFlow)
define qlocal(STATS.parametrizador.ia.AI_PEQFlow)
define qlocal(STATS.icr.IA_ICRFlow)
define qlocal(STATS.listaDeControl.standar.MQListaDeControl)

- Se crean las siguientes subscripciones para recolectar estadisticas
define sub(SUB.STATS.Servicio.WhoIsWhoCRMFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/Servicio.WhoIsWhoCRMFlow') DEST(STATS.Servicio.WhoIsWhoCRMFlow)
define sub(SUB.STATS.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ALL_COMMON/parametrizador.ia.AI_PEQFlow') DEST(STATS.parametrizador.ia.AI_PEQFlow)
define sub(SUB.STATS.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ICR/icr.IA_ICRFlow') DEST(STATS.icr.IA_ICRFlow)
define sub(SUB.STATS.listaDeControl.standar.MQListaDeControl) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/listaDeControl.standar.MQListaDeControl') DEST(STATS.listaDeControl.standar.MQListaDeControl)

- Se activan las estadisticas
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f Servicio.WhoIsWhoCRMFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f listaDeControl.standar.MQListaDeControl -a -n advanced -o xml -c inactive

- Se crean las siguientes colas para monitoreo
define qlocal(MON.parametrizador.ia.AI_PEQFlow)
define qlocal(MON.icr.IA_ICRFlow)

- Se crean las siguientes subscripciones para recolectar monitoreo
define sub(SUB.MON.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ALL_COMMON/parametrizador.ia.AI_PEQFlow') dest(MON.parametrizador.ia.AI_PEQFlow)
define sub(SUB.MON.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ICR/icr.IA_ICRFlow') dest(MON.icr.IA_ICRFlow)

- Se crean los siguientes servicios configurables para generar perfiles de monitoreo
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR

- Se exportan los perfiles de monitoreo desde desarrollo
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f parametrizador.ia.AI_PEQFlow -x -p /tmp/monitoreo_AI_PEQ.xml
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f icr.IA_ICRFlow -x -p /tmp/monitoreo_AI_ICR.xml

- Se importan los perfles de monitoreo en producciÃ³n
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ -n profileProperties -p /tmp/monitoreo_AI_PEQ.xml
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR -n profileProperties -p /tmp/monitoreo_AI_ICR.xml

- Se asocian los perfiles de monitoreo al flujo
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -m AI_PEQ
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -m AI_ICR

- Se activan los monitoreos
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -c inactive
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -c inactive

* Extraer mensajes de las colas sin borrar el mensaje
q -m PCOLQMGR -i INT_PEQ_INT.QL.RES
* Extraer mensajes de las colas borrando el mensaje
q -m PCOLQMGR -I INT_PEQ_INT.QL.RES
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -o INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -O INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt

2019-11-06 20:31:15,319 - INFO - Indexing file: PTR_continuidad_banismo_v2.docx
2019-11-06 20:31:15,342 - DEBUG - ---

2019-11-06 20:31:15,349 - DEBUG - ---

2019-11-06 20:31:15,350 - DEBUG - ---

2019-11-06 20:31:15,353 - DEBUG - ---

2019-11-06 20:31:15,355 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:31:15,358 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:31:15,360 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:31:15,361 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:31:15,362 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:31:15,363 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:31:15,364 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:31:15,365 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20 - SBBANBCE07v
2019-11-06 20:31:15,365 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21 - SBBANBCE08v
2019-11-06 20:31:15,367 - DEBUG - ---INFORMACIÓN SERVIDORES DE APLICACIONES (APLICACIÓN CEI)
2019-11-06 20:31:15,367 - DEBUG - ---<MáquinaAppServerBanistmoCEI>: Corresponde a la IP o nombre de la máquina APP Server donde esta alojada la aplicación CEI de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:31:15,368 - DEBUG - ---<MáquinaAppServerBanistmo[1]> = 10.5.134.68 - SBBANBCE01v
2019-11-06 20:31:15,369 - DEBUG - ---<MáquinaAppServerBanistmo[2]> = 10.5.134.69 - SBBANBCE02v
2019-11-06 20:31:15,370 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:31:15,371 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:31:15,373 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:31:15,375 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:31:15,376 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:31:15,377 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:31:15,377 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:31:15,378 - DEBUG - ---<NombreCanal> = PPAA.PDBDMF01
2019-11-06 20:31:15,380 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:31:15,380 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:31:15,381 - DEBUG - ---COMANDOS BAJAR HTTPSERVERS (IHS)
2019-11-06 20:31:15,382 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.20 HOSTNAME SBBANBCE07v
2019-11-06 20:31:15,383 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:31:15,384 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:31:15,385 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:31:15,385 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:31:15,386 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:31:15,389 - DEBUG - ---BAJAR APP SERVERS (CEI) PARA BANISTMO
2019-11-06 20:31:15,391 - DEBUG - ---El procedimiento para detener e iniciar los servidores de aplicaciones donde esta alojada la aplicación CEI  de Banistmo   es el siguiente (en el orden indicado):
2019-11-06 20:31:15,392 - DEBUG - ---COMANDOS APP SERVERS (CEI)
2019-11-06 20:31:15,393 - DEBUG - ---CONECTAR APP SERVER DE BANISTMO 10.5.134.68 HOSTNAME SBBANBCE01v
2019-11-06 20:31:15,394 - DEBUG - ---Conectarse a la máquina 10.5.134.68 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:31:15,396 - DEBUG - ---3.1.2 CONECTAR APP SERVER DE BANISTMO 10.5.134.69 HOSTNAME SBBANBCE02v
2019-11-06 20:31:15,396 - DEBUG - ---	
2019-11-06 20:31:15,398 - DEBUG - ---3.SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:31:15,399 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:31:15,400 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:31:15,401 - DEBUG - ---CONECTAR A GESTOR DE COLAS 10.5.132.12 HOSTNAME SBBANBLMQ01V
2019-11-06 20:31:15,402 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:31:15,403 - DEBUG - ---Aplicar 
2019-11-06 20:31:15,403 - DEBUG - ---sudo su - mqm
2019-11-06 20:31:15,404 - DEBUG - ---	
2019-11-06 20:31:15,407 - INFO - Indexing file: PTR_continuidad_banismo(1).docx
2019-11-06 20:31:15,424 - DEBUG - ---

2019-11-06 20:31:15,430 - DEBUG - ---

2019-11-06 20:31:15,430 - DEBUG - ---

2019-11-06 20:31:15,433 - DEBUG - ---

2019-11-06 20:31:15,437 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:31:15,438 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:31:15,441 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:31:15,442 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:31:15,443 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:31:15,444 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:31:15,445 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:31:15,446 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20
2019-11-06 20:31:15,447 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21
2019-11-06 20:31:15,448 - DEBUG - ---<NombreWebServer>: Nombre del web server.
2019-11-06 20:31:15,448 - DEBUG - ---<NombreWebServer[1]> = server1
2019-11-06 20:31:15,449 - DEBUG - ---<NombreWebServer[2]> = server1
2019-11-06 20:31:15,450 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:31:15,450 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:31:15,451 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:31:15,452 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:31:15,453 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:31:15,454 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:31:15,455 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:31:15,457 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:31:15,459 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:31:15,460 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:31:15,461 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.134.20 HOSTNAME SBBANBCE07v
2019-11-06 20:31:15,462 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:31:15,463 - DEBUG - ---BAJAR WEB SERVER WebServer1
2019-11-06 20:31:15,464 - DEBUG - ---          Ubicarse en la ruta   /opt/IBM/HTTPServer/bin
2019-11-06 20:31:15,466 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:31:15,467 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:31:15,468 - DEBUG - ---BAJAR WEB SERVER WEBSERVER1
2019-11-06 20:31:15,469 - DEBUG - ---Ubicarse en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:31:15,470 - DEBUG - ---SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:31:15,471 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:31:15,473 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:31:15,475 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:31:15,476 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:31:15,478 - INFO - Indexing file: TIPS-BROKER-MQ.txt
2019-11-06 20:31:15,479 - DEBUG - ---************************************************* Listar broker y puertos
 **************************************************
sdurier@pbmdeadmeb01(/home/sdurier)# ps -fea | grep runmqlsr

************************************************* Permisos sudo **************************************************

Cuando fallen los permisos sobre "su" se debe ejecutar la shell (sudo sh "su - mqm") por ejemplo

********************************************* ConfiguraciÃ³n Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n endpointAddress -v https://serviceregistry.bancolombia.corp/WSRR8_0/services/WSRRCoreSDOPort

******************************************** Verificacion Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsireportproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -r

********************************************* Repisado usuario registry ****************************************

mqsisetdbparms PBANQMGR_BROKER -n DefaultWSRR::WSRR -u CNXWPBBA

*********************************************Configuracion needCache ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n needCache -v false 

*********************************************Version Broker ****************************************
PBMDEADMEB01[mqsi7tes]/opk/IBM/mqsi/7.0/bin>mqsiservice -v


mqsiservice -v

*********************************************reiniciar grupo de ejecucion ****************************************

mqsistopmsgflow CPANQMGR -e FINACLE_SWIFT

mqsistopmsgflow -p 1414 -q PPANQMGR -b PPANQMGR_BROKER -e GD_COMMON


******************************************** Matar y reiniciar GE hilos grupos de ejecucion GE *********************************

mqsireload CPANQMGR_BROKER -e GEIAM_H01


******************************************** Refrescar seguridad MQ SSL *************************************

Paso 1: runmqsc CPANQMGR
Paso 2: REFRESH SECURITY TYPE(SSL)
esperas que termine y listo
si no funciona.. toca reiniciar el gestor de colas

******************************************** Usuarios MQ y Broker *********************************************

mqm/mqmb4nc0*
mqsiadm/mqsib4nc0*

********************************** Revisar un datasource de tipo ODBC ***************************************

mqsicvp CCOLQMGR_BROKER -n INDOCQDB

********************************* Reinciar Broker y el gestor *************************************************

mqsistop CPANQMGR_BROKER  -----  Con el usuario mqsiadm6
mqsistop CPANQMGR_CONFIG  -----  Con el usuario mqsiadm6
endmqm CPANQMGR ------  Con el usuario mqm


strmqm CPANQMGR  ------  Con el usuario mqm
mqsistart CPANQMGR_CONFIG -----  Con el usuario mqsiadm6
mqsistart CPANQMGR_BROKER -----  Con el usuario mqsiadm6


dspmq - Para verificar el estado del gestor (mqm)
mqsilist NOMBRE_BROKER (Esto debe listar todos los grupos de ejecuciÃ³n del broker con un nÃºmero de proceso por cada grupo)
ps -fe | grep bipbroker (Con esto lista todos los Broker)
ps -fea | grep lsr (Con esto lista usuario MQ)


***************************************** Inhibir y desinhibir colas *****************************************

dentro de la consola de comandos de MQ
runmqsc PPANQMGR
alter qlocal(INT_IAFINACLE_INT.QL.REQ) get(ENABLED) put(ENABLED)
alter qlocal(LA_COLA) get(ENABLED) put(ENABLED)

ALTER QLOCAL (IAM_CUSTOMERRESPONSE_INT.QL.RES) GET(ENABLED) PUT(ENABLED)


************************************** Permisos gestor y colas *********************************************

Permisos gestor

setmqaut -m BCOLQMGR -t qmgr -g grxqqswf +setall +setid +connect +inq +set

Validar Permisos Qmanager
estot
dspmqaut -m CCOLQMGR -t qmgr -g grxqqswf

Permisos colas

setmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb +inq +put +set


Validar Permisos Colas
dspmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb


Permisos Topicos

setmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Exception" -t topic q -g mqdpcnxd +setid +pub +sub

Validar Permisos Topicos

dspmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Info" -t top -g mqdpcnxd

****************************************** inyectar mensajes por consola ********************************
Usuario mqm

q -m CCOLQMGR -o INT_PEPSYS2CLS_INT.QL.CFG âF /tmp/INT_PEPSYS2CLS_INT.QL.CFG.txt

***************************************** Ver el consume de memoria de un proceso ***************************************

svmon -P 19923018 -O summary=basic,unit=MB

********************************** ruta donde estÃ¡ el log de java de un grupo de ejecuciÃ³n ********************************************

/var/mqsi/components/nombre-broker/+ codigo del GE 

PBMDEAPMEB01[sdurier]/home/sdurier>ps -fea | grep GEINT_H04
 mqsiadm 17563772  9633996   0 21:32:08      -  0:00 /bin/ksh /opk/IBM/mqsi/7.0/bin/startDataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 mqsiadm 19071054 17563772   1 21:32:08      - 90:44 DataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 sdurier 26607618 24838288   0 11:08:19 pts/12  0:00 grep GEINT_H04


/var/mqsi/components/nombre-broker8aec7593-3c01-0000-0080-8f3c80cf8deb


********************************** comrprimir el log de java de un grupo de ejecuciÃ³n ********************************************


tar cvf - stderr stdout  | gzip -c > /tmp/logs.tar.gz

******************************************* Ver los 10 procesos de mayor consumo ************************************************

ps auxw | sort -r +3 |head -10

******************************************* Creacion Colas .def **********************************************************************

runmqsc CCOLQMGR < QM-SAT25.def > QM-SAT25.def.txt

echo "define qlocal (SVE_NEGDIVISAS_INT.QL.RES)" | runmqsc CCOLQMGR
DEFINE QLOCAL (INT_TODO0062ERU_INT.QL.REQ)
DEFINE QALIAS(PCCALERENV) TARGQ(PCC_ALERTAS_ENVIADAS.QL.REQ) DESCR('Cola alias de la colaÂ  PCC_ALERTAS_ENVIADAS.QL.REQ') 

******************************************** Extraer y Eliminar una cantidad especifica de mensajes en una cola ***********************************

q -m PCOLQMGR -I INT_SINCCLIENTE_FIN.QL.REQ -L19 > /tmp/INT_SINCCLIENTE_FIN.QL.REQ1.txt (-L19 Cantidad a borrar)

**************************************** Extraer mensajes *****************************************************************

q -m PCOLQMGR -I GAF_INFOCIFIN.QL.RES > /tmp/GAF_INFOCIFIN.QL.RES.txt (Eliminando mensajes)


****************************************** Extraer de mensajes de una cola con encabezado *************************************************

q -m CBANQMGR -i FIN_OUTMENSAJEBAN_SWI.QL.ERR -dd3 > /tmp/FIN_OUTMENSAJEBAN_SWI.QL.ERR.txt  (Dejando copia)
donde MQ es el gestor, y Q el nombre de la cola

****************************************** Extraer de mensajes de una cola por mensaje (individual) *************************************************

/var/mqm/qload âm QMGR âi COLA âf /tmp/MENSAJES/mensaje%n.txt

/var/mqm/qload âm PBANQMGR âi FIN_OUTMENSAJEBAN_SWI.QL.ERR âf /tmp/MENSAJES/mensaje%n.txt

Extraer mensajes para reinyecciÃ³n posterior
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO%n
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO


********************************************* Copiar o mover mensajes entre Colas ******************************************************************

Move messages between Queues : q -m QueueManager -IQ1 -oQ2
Copy messages between Queues : q -m QueueManager -iQ1 -oQ2

q -m PPANQMGR -iFIN_FINACLE_INTEGR_SWIFTPA_QL_ERR -oFIN_OUTMENSAJEPA_SWI.QL.RES

******************************************** Conocer el puerto de un broker *****************************************************************************

ps -fea | grep runmqlsr

******************************************  Sobreescribir una variable en un .bar ***********************************************************

mqsiapplybaroverride -b archivo.bar -m "Variable=Valor"

mqsiapplybaroverride -b TOD0052_SCT.bar -m "Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS" 

TambiÃ©n se puede sobrescribir una variable a partir de un archivo

En el archivo solo escribe 

Variable=Valor
Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS

Se guarda el archivo con extensiÃ³n .properties

Y luego en consola se ingresa el siguiente comando

mqsiapplybaroverride -b archivo.bar -p archivo.properties

mqsiapplybaroverride -b CM_HUB-RecuperarCliente_SC.bar -p CM_HUB-RecuperarCliente_SC.properties

Para generar un nuevo bar con los valores que se sobre escribieron.

mqsiapplybaroverride -b SAT99_RecaudoTarjetaCredito.bar -p CM_HUB-RecuperarCliente_SC.properties -o SAT99_RecaudoTarjetaCredito_QA.bar

*************************************** Desplegar un .bar *****************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e ALL_COMMONS -a TODO1ConsumerAdapter.bar


**************************************** Desinstalar un flujo **************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e CRM_SINCFE_GEN -d com.bancolombia.client.CopyOriginalMsg_Agg.cmf

**************************************** Validar propiedades de un flujo **************************************************


mqsilist CPANQMGR_BROKER -e GEINT_M02 -r -d2 

**************************************** Habilitar eventos monitoreo ********************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "ErrorAdapterV2.0.terminal.in" -i enable

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "LoggingAdapterV2.0.terminal.in" -i enable


***************************************** Activar monitoreo en flujos ******************************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -c active

******************************************* Activar y desactivar estadisticas GE **************************************

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c active -o xml -n basic

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c inactive -o xml -n basic


**************************************** Creacion grupo ejecucion *************************************************

mqsicreateexecutiongroup CPANQMGR_BROKER -e GEINT_H02

*************************************** Reiniciar Flujos ************************************************************

mqsistopmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

mqsistartmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

****************************************** Ingreso password datasource (repisar) ***************************************

mqsisetdbparms broker -n Nombre del Datasource -u Usuario

mqsisetdbparms PPANQMGR_BROKER -n INDOCPDB -u CATALOGO

******************************************* Ingreso password SFTP *************************************************

mqsisetdbparms broker -n sftp:nombre de la conexiÃ³n SFTP -u usuario 

mqsisetdbparms CCOLQMGR_BROKER -n sftp::secIdFtpSenTrans -u usersftp -p Azsx.4123

********************************************** Ruta - Revision Datasources creados y SFTP *************************************

/var/mqsi/registry/CPANQMGR_BROKER/CurrentVersion/DSN

RUTA PARA VERIFICAR LOS ODBC EXISTENTES

 /odbc64.ini Ruta para verificar los ODBC existentes

 Para ver que .ini se esta utilizando echo $ODBCINI
 
 vi /home/mqsiadm/odbc64.ini
 
*********************************************** Reporte general de Configuracion Broker ******************************************

mqsireportproperties CPANQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r


*************************************************** Verificar el config Manager ************************************************

ps -fea | grep PPANQMGR_CONF

*********************************** INFORME DE PUERTO HTTP O HTTPS Y WEBSERVICES PERTENECIENTES A UN GRUPO DE EJECUCIÃN*********************************

Puerto HTTPS

mqsireportproperties BCOLQMGR2_BROKER -e Adaptadores -o HTTPConnector -r
mqsireportproperties CPANQMGR_BROKER -b httplistener -o HTTPSListener -a 

Puerto HTTP

mqsireportproperties PCOLQMGR_BROKER -e SAP_ERP_PROVEEDORES -o HTTPSConnector -r
mqsireportproperties PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -o HTTPSConnector -r
mqsireportproperties CPANQMGR_BROKER -e FINACLE_CRM -o HTTPSConnector -r

************************************************ PUERTOS HTTP Y HTTPS PARA CADA BROKER ***********************************************

mqsireportproperties BCOLQMGR2_BROKER -b httplistener -o HTTPConnector -a

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPListener -n enableSSLConnector -v true

mqsireportproperties CPANQMGR_BROKER -b httplistener -o AllReportableEntityNames -a 

**************************************************ASIGNACIÃN DE PUERTO ***************************************************************

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPSConnector -n port -v 7480 


**************************************************** LOG DE ERRORES *****************************************************************

var/mqm/errors/user.log 
/opk/IBM/mqsi/user.log PPANQMGR
/var/mqsi/common/log
var/mqm/qmgrs/BCOLQMGR2/errors


************************************************** Creacion canal *********************************************************

define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

****************************************************** CREACIÃN DE UN JDBC *******************************************************

mqsicreateconfigurableservice BCOLQMGR3_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"

mqsisetdbparms PPANQMGR_BROKER -n jdbc::HUBOPE_SecurityIdentity -u CNXBRKOPEFE

UBOPE_DS 
    connectionUrlFormat='jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1]'
    connectionUrlFormatAttr1='OPEFEQDB'
    connectionUrlFormatAttr2=''
    connectionUrlFormatAttr3=''
    connectionUrlFormatAttr4=''
    connectionUrlFormatAttr5=''
    databaseName='OPEFEQDB'
    databaseType='Oracle'
    databaseVersion='default_Database_Version'
    description='default_Description'
    environmentParms='default_none'
    jarsURL='/opk/mqsiadm/drivers/oracle'
    portNumber='1523'
    securityIdentity='HUBOPE_SecurityIdentity'
    serverName='PBMDEAQHUB01'
    type4DatasourceClassName='oracle.jdbc.xa.client.OracleXADataSource'
    type4DriverClassName='oracle.jdbc.OracleDriver'



****************************************************** CAMBIAR PROPIEDADES DE UN JDBC ****************************************************

mqsichangeproperties BCOLQMGR_BROKER -c JDBCProviders -o DS_TRACING -n databaseName -v TRACEDDB

-n --NombrePropiedad-- -v --ValorPropiedad- -o NombreJDBC

****************************************************** LISTAR TODOS LOS JDBC ****************************************************

mqsireportproperties PCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r 

************************************************** ExtracciÃ³n de Certificados ******************************************************************

keytool -export -keystore BrokerKeystore.jks -alias brokerdesarrollo -file Cert_Desarrollo.cert


display channel(MUREX.SVRCONN) all


***************************************************** OBTENCIÃN DE CERTIFICADOS MQ ******************************************************************

gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary>

gsk7cmd -cert -extract -db key_pcolqmgr.kdb -pw key_pcolqmgr -type cms -label ibmwebspheremqpcolqmgr -target /tmp/cert_pcolqmgr.arm -format ascii


***************************************************** Certificados *****************************************************************
gsk7cmd -cert -add -db BCOLQMGR2.kdb -pw BCOLQMGR2 -label ibmwebspheremqcnxqdmpt -format ascii -trust enable -file /tmp/ibmwebspheremqcnxqdmpt.cer (Cuando envian un certificado y deseo agregarlo a mi truestore en el caso de mq keystore, usuario externeo ejemplo ibmwebspheremqcnxqdmpt)

gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename> (Cuando es un certificado personal, por lo Gral es add (Punto 1))


gsk7cmd -cert -list personal -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert personales)
gsk7cmd -cert -list all -db BCOLQMGR2.kdb -pw BCOLQMGR2 -type cms


gsk7cmd -cert -extract -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms -label ibmwebspheremqccolqmg2 -target /tmp/ibmwebspheremqccolqmg2.cer -format ascii 


gsk7cmd -cert -list CA -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert firmantes)


**************************************************** para validar recursos en broker SMTP ******************************************************

mqsireportproperties CCOLQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r

para modificar un recurso en broker SMTP

mqsichangeproperties CCOLQMGR_BROKER -c SMTP -o BancolombiaSMTPService -n serverName -v Exchange.bancolombia.corp


**************************************************** Limpiar un log **************************************************

> user.log

**************************************************** Hacer un cambio a una propiedad *******************************************

mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsichangeproperties PPANQMGR_BROKER -c Aggregation -o HeaderESBXML_FINACLE -n timeoutSeconds -v 60
BIP8071I: Successful command completion.
mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsireportproperties PPANQMGR_BROKER -c Aggregation -o AllReportableEntityNames -r

Aggregation
  HeaderESBXML_FINACLE
    queuePrefix=''
    timeoutSeconds='60'
  IntAdap_Aggregate
    queuePrefix=''
    timeoutSeconds='20'

BIP8071I: Successful command completion.

******************************************************* Cambiar el numero de instancias en un flujo **********************************

1. Hacer un mqsireadbar al .bar y sacarlo a un .txt
2. En el archivo buscar el parametro por ejm (IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances)
3. a este parametro se le hace un mqsiapplybaroverride igualandolo al valor que indiquen ejm (mqsiapplybaroverride -b IA_FINACLE.bar -m "IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances=4")
4. desplegamos el bar y verificamos en la evidencia.

::::::::::::::::::::::::::::::::::

5.
Canales
--------------------------------------------------------------------------------------------------------------------------------
(listar las conexiones de un canal y su estado)
echo "display chstatus(NOMBRE_CANAL) status" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(OPTIONAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit y SSL)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(REQUIRED) sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)')" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente con SSL)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)') sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER
/var/mqm/qmgrs/[QUEUE_MANAGER]/@ipcc

(eliminar canal SVRCONN y CLNTCONN)
echo "delete channel(NOMBRE_CANAL)" | runmqsc PPANQMGR
echo "delete channel(NOMBRE_CANAL) CHLTABLE(CLNTTBL)" | runmqsc PPANQMGR

(detener/iniciar un canal)
echo "stop chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "start chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(refrescar canal)
echo "refresh qmgr type(CONFIGEV) name(NOMBRE_CANAL) object(CHANNEL)" | runmqsc NOMBRE_QUEUE_MANAGER

(inactivar un canal de manera controlada y de manera forzada, respectivamente)
echo "stop chl(NOMBRE_CANAL) mode(quiesce) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "stop chl(NOMBRE_CANAL) mode(force) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER





Activar
mqsichangetrace PCOLQMGR_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l debug -r -c 1048576


Desactivar
mqsichangetrace NOMBRE_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l none  



Convertir log                              
mqsireadlog NOMBRE_BROKER -u -e GETES_M01 -o log.xml
mqsiformatlog -i log.xml -o log_flujo.log 


********************************* mirar la dead letter queue de un gestor **************************************

mqm@pbmdeaqprs01(/var/mqm)# runmqsc CPANQMGR
5724-H72 (C) Copyright IBM Corp. 1994, 2009.  ALL RIGHTS RESERVED.
Starting MQSC for queue manager CPANQMGR.


dis qmgr all
     1 : dis qmgr all
AMQ8408: Display Queue Manager details.
   QMNAME(CPANQMGR)                        ACCTCONO(DISABLED)
   ACCTINT(1800)                           ACCTMQI(OFF)
   ACCTQ(OFF)                              ACTIVREC(MSG)
   ALTDATE(2013-05-23)                     ALTTIME(14.35.39)
   AUTHOREV(ENABLED)                       CCSID(819)
   CHAD(DISABLED)                          CHADEV(DISABLED)
   CHADEXIT( )                             CHLEV(ENABLED)
   CLWLDATA( )                             CLWLEXIT( )
   CLWLLEN(100)                            CLWLMRUC(999999999)
   CLWLUSEQ(LOCAL)                         CMDEV(ENABLED)
   CMDLEVEL(701)                           COMMANDQ(SYSTEM.ADMIN.COMMAND.QUEUE)
   CONFIGEV(ENABLED)                       CRDATE(2013-03-08)
   CRTIME(11.09.26)                        DEADQ(CPANQMGR.DEAD.LETTER.QUEUE)
   DEFXMITQ( )                             DESCR( )
   DISTL(YES)                              INHIBTEV(DISABLED)
   IPADDRV(IPV4)                           LOCALEV(DISABLED)
   LOGGEREV(DISABLED)                      MARKINT(5000)
   MAXHANDS(256)                           MAXMSGL(104857600)
   MAXPROPL(NOLIMIT)                       MAXPRTY(9)
   MAXUMSGS(10000)                         MONACLS(QMGR)
   MONCHL(OFF)                             MONQ(OFF)
   PARENT( )                               PERFMEV(ENABLED)
   PLATFORM(UNIX)                          PSRTYCNT(5)
   PSNPMSG(DISCARD)                        PSNPRES(NORMAL)
   PSSYNCPT(IFPER)                         QMID(CPANQMGR_2013-03-08_11.09.26)
   PSMODE(ENABLED)                         REMOTEEV(DISABLED)
   REPOS( )                                REPOSNL( )
   ROUTEREC(MSG)                           SCHINIT(QMGR)
   SCMDSERV(QMGR)                          SSLCRLNL( )
   SSLCRYP( )                              SSLEV(ENABLED)
   SSLFIPS(NO)
   SSLKEYR(/var/mqm/qmgrs/CPANQMGR/ssl/key_cpanqmgr)
   SSLRKEYC(0)                             STATACLS(QMGR)
   STATCHL(OFF)                            STATINT(1800)
   STATMQI(OFF)                            STATQ(OFF)
   STRSTPEV(ENABLED)                       SYNCPT
   TREELIFE(1800)                          TRIGINT(999999999)


*********Determinar nÃºmero de mensajes en la cola, y si aÃºn no han sido aplicados (COMMIT) *********

DISPLAY QSTATUS(REC_QRINOTCLI_RIN.QL.REQ) CURDEPTH UNCOM
DISPLAY QSTATUS(REC_QRINUNE_RIN.QL.REQ) CURDEPTH UNCOM

********************* Crear grupo de ejecucion ************************++

mqsicreateexecutiongroup CCOLQMGR_BROKER -e GE_GEN_01

************************* Activar monitoreo de flujos ******************+

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "ErrorAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoError_flujo.txt

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "LoggingAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoLogin_flujo.txt
2019-11-06 20:31:15,492 - INFO - Indexing file: Reinicio de Intermedia.docx
2019-11-06 20:31:15,499 - DEBUG - ---Reinicio de Intermedia
2019-11-06 20:31:15,500 - DEBUG - ---A continuación se detallará el paso a paso para reiniciar Intermedia.
2019-11-06 20:31:15,500 - DEBUG - ---Ubicarse en la consola de servicios de Windows.  Se puede ingresar por Panel de Control -> Herramientas Administrativas -> Servicios (como se ve en la imagen de abajo).
2019-11-06 20:31:15,501 - DEBUG - ---También se puede ingresar digitando en la ventana Ejecutar (Run) “services.msc” (como se ve en la imagen de abajo):
2019-11-06 20:31:15,502 - DEBUG - ---Luego, ubicarse en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “stop”:
2019-11-06 20:31:15,503 - DEBUG - ---En la ventana que aparece a continuación “Stop Other Services”, dar clic en el botón “Yes”.
2019-11-06 20:31:15,504 - DEBUG - ---Los servicios “beasvc valores_domain_IntermediaServer” y “beasvc valores_domain_ReportesIntServer” deben estar detenidos:
2019-11-06 20:31:15,505 - DEBUG - ---Luego, estando ubicado en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “Start”
2019-11-06 20:31:15,505 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:31:15,507 - DEBUG - ---El servicio “beasvc valores_domain_IntermediaServer” debe aparecer en estado Started.
2019-11-06 20:31:15,508 - DEBUG - ---Luego, iniciar el servicio “beasvc valores_domain_ReportesIntServer”, dando clic derecho sobre él y seleccionar “Start”:
2019-11-06 20:31:15,509 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:31:15,510 - DEBUG - ---El servicio “beasvc valores_domain_ReportesIntServer”, debe aparecer en estado Started.
2019-11-06 20:31:15,510 - INFO - Indexing file: PTR_ACT - LDAP - Subir servicios WAS sbbanbld01v .docx
2019-11-06 20:31:15,526 - DEBUG - ---

2019-11-06 20:31:15,527 - DEBUG - ---Control de Versiones
2019-11-06 20:31:15,528 - DEBUG - ---

2019-11-06 20:31:15,529 - DEBUG - ---Nombre del PTR
2019-11-06 20:31:15,530 - DEBUG - ---Consideraciones previas
2019-11-06 20:31:15,530 - DEBUG - ---Validar que el área de trabajo sea el DR utilizando el comando uptime:
2019-11-06 20:31:15,532 - DEBUG - ---Para las pruebas en el DR es posible que la dirección IP del controlador de dominio destinado sea diferente al configurado en WAS por lo que es necesario en primer lugar validar dicha configuración. Si se da este caso entonces es necesario proceder a actualizar la configuración de la celda WAS para que apunte al nuevo servidor. Después de realizar este cambio es necesario reiniciar la celda completa. De igual  manera proceder a ingresar por la consola web de WAS para validar que la autenticación se exitosa.
2019-11-06 20:31:15,533 - DEBUG - ---Ingresar al archivo LDAP_DMGR/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:31:15,536 - DEBUG - ---Ingresar al archivo LDAP_AppSrv01/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:31:15,538 - DEBUG - ---Validar en la celda que servidores de aplicación se encuentran iniciados. Para esto es necesario ingresar a la consola WEB y validar el estado de los Appserver.
2019-11-06 20:31:15,541 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:31:15,542 - DEBUG - ---También se puede realizar esta validación ingresando por una sesión SSH y validar los proceso java que se estén ejecutando en el servidor.
2019-11-06 20:31:15,543 - DEBUG - ---Para esto es necesario ingresar a los dos servidores donde se encuentra LDAP y validar que el dmgr, node y AppeServer se encuentran en estado de ejecución. 
2019-11-06 20:31:15,545 - DEBUG - ---SBBANBLD01v
2019-11-06 20:31:15,546 - DEBUG - ---SBBANBLD02v
2019-11-06 20:31:15,548 - DEBUG - ---Por último es necesario validar que la Shell que inicia y detiene servicios se encuentre en el home del usuario de servicio de WAS. Esto lo encontramos en la siguiente ruta.
2019-11-06 20:31:15,549 - DEBUG - ---wassvc01@SBBANBLD01v:~>
2019-11-06 20:31:15,550 - DEBUG - ---wassvc01@SBBANBLD02v:~>
2019-11-06 20:31:15,552 - DEBUG - ---Descripción de las actividades
2019-11-06 20:31:15,553 - DEBUG - ---Detener servicios del LDAP en WAS
2019-11-06 20:31:15,553 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:31:15,554 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:31:15,555 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:31:15,557 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:31:15,559 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:31:15,560 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:31:15,560 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:31:15,562 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:31:15,565 - DEBUG - ---Iniciar servicios del LDAP en WAS
2019-11-06 20:31:15,567 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:31:15,568 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:31:15,568 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:31:15,569 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:31:15,571 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:31:15,572 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:31:15,574 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:31:15,575 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:31:15,576 - DEBUG - ---Para finalizar se ingresa a la consola para validar que todo los servicios se encuentran en estado runin.
2019-11-06 20:31:15,578 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:31:15,580 - INFO - Indexing file: Bibliotecas Compartidas.docx
2019-11-06 20:31:15,587 - DEBUG - ---Bibliotecas Compartidas
2019-11-06 20:31:15,588 - DEBUG - ---Las bibliotecas compartidas permiten configurar los jar que serán usados por la aplicación. En el banco encontramos tres tipos de bibliotecas compartidas:
2019-11-06 20:31:15,589 - DEBUG - ---De uso común: Transversal a muchas aplicaciones. Hacen parte del framework de Bancolombia y están agrupadas por las tareas que ejecutan. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen. No se deben referenciar directorios. 
2019-11-06 20:31:15,590 - DEBUG - ---Bibliotecas de Uso Común
2019-11-06 20:31:15,591 - DEBUG - ---Biblioteca de Encripción
2019-11-06 20:31:15,592 - DEBUG - ---Bibliotecas de Transformación de Mensajería
2019-11-06 20:31:15,592 - DEBUG - ---Biblioteca Seguridad
2019-11-06 20:31:15,593 - DEBUG - ---Biblioteca Web Services
2019-11-06 20:31:15,593 - DEBUG - ---De framewors de terceros: En este caso se debe tener presente la versión referenciada en la biblioteca. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios.
2019-11-06 20:31:15,594 - DEBUG - ---Hibernate
2019-11-06 20:31:15,595 - DEBUG - ---Spring
2019-11-06 20:31:15,596 - DEBUG - ---De uso específico de la aplicación: También existen bibliotecas con jars específicos de la aplicación. Sin embargo, se aclara que en NINGÚN caso deben referenciar cualquiera de los siguientes jars: 
2019-11-06 20:31:15,597 - DEBUG - ---servlet.jar
2019-11-06 20:31:15,597 - DEBUG - ---jstl.jar
2019-11-06 20:31:15,598 - DEBUG - ---mail.jar
2019-11-06 20:31:15,598 - DEBUG - ---activation.jar
2019-11-06 20:31:15,598 - DEBUG - ---junit.jar
2019-11-06 20:31:15,599 - DEBUG - ---xercesImpl.jar
2019-11-06 20:31:15,599 - DEBUG - ---xml-apis.jar
2019-11-06 20:31:15,600 - DEBUG - ---el-api.jar
2019-11-06 20:31:15,600 - DEBUG - ---el-impl.jar
2019-11-06 20:31:15,601 - DEBUG - ---Su classpath es /wrkdirr/xxxdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios. Las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:31:15,601 - DEBUG - ---
Configuración del alcance (scope):
2019-11-06 20:31:15,602 - DEBUG - ---Al encontrarnos en una configuración Network Deployment tenemos la posibilidad de crear la biblioteca en los siguientes alcances:
2019-11-06 20:31:15,602 - DEBUG - ---Celda (Cell): Se debe seleccionar para las bibliotecas compartidas de uso común.
2019-11-06 20:31:15,603 - DEBUG - ---Grupo de servidores (Cluster): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en cluster.
2019-11-06 20:31:15,603 - DEBUG - ---Nodo (Node): No se debe usar.
2019-11-06 20:31:15,604 - DEBUG - ---Servidor (Server): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en un solo servidor de aplicaciones.
2019-11-06 20:31:15,605 - DEBUG - ---Excepciones: 
2019-11-06 20:31:15,606 - DEBUG - ---Si una aplicación desea referenciar un nuevo JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:31:15,607 - DEBUG - ---El JAR no afecta el correcto funcionamiento de las aplicaciones que actualmente usan dicha biblioteca compartida.
2019-11-06 20:31:15,608 - DEBUG - ---El JAR si es de uso común y no es especifico de la aplicación.
2019-11-06 20:31:15,609 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida solo con el (los) nuevos JAR’s, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:31:15,610 - DEBUG - ---Si una aplicación desea referenciar una versión diferente del JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:31:15,610 - DEBUG - ---¿Es una nueva versión? 
2019-11-06 20:31:15,611 - DEBUG - ---¿Es compatible con versiones anteriores, con el fin de no afectar aplicaciones que usen una versión anterior?
2019-11-06 20:31:15,612 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida con los JAR’s que usara la aplicación, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:31:15,613 - INFO - Indexing file: Archivos_Configuracion_y_Log.docx
2019-11-06 20:31:15,617 - DEBUG - ---Archivos de Configuración y Log
2019-11-06 20:31:15,618 - DEBUG - ---La idea es que el despliegue de las aplicaciones web se realice con base en un archivo de configuración inicial en formato XML. En este archivo se definen las propiedades que requiere el aplicativo de forma estática y que cambian de acuerdo al ambiente.
2019-11-06 20:31:15,619 - DEBUG - --- 
2019-11-06 20:31:15,619 - DEBUG - ---Propiedades como usuarios de conexión, passwords encriptados, rutas en el sistema de archivos, endpoints para acceder web services, nombres de librerías, nombres de dataqueues (en el caso de la plataforma ISeries), etc, deberán definirse en este archivo. El nombre de este XML de configuración, debe ser: xxx-conf.xml, donde las tres (3) X corresponden al nombre asignado al aplicativo. Ejemplos: tac-conf.xml, pcc-conf.xml, tmx-conf.xml, cae-conf.xml. 
2019-11-06 20:31:15,620 - DEBUG - ---Este archivo deberá ubicarse en una ruta creada para tal efecto y cuyo estándar es el siguiente: /wrkdir/xxxdir. Las tres (3) X corresponden a la sigla asignada al aplicativo. Como ejemplos tenemos: /wrkdirr/tacdirr, /wrkdirr/pccdirr, /wrkdirr/tmxdirr, /wrkdirr/caedirr. 
2019-11-06 20:31:15,620 - DEBUG - ---En este directorio se deben ubicar todos los componentes que hacen parte de la aplicación y que no hacen parte del EAR. Por ejemplo:
2019-11-06 20:31:15,621 - DEBUG - ---JAR’s propios de la aplicación.
2019-11-06 20:31:15,621 - DEBUG - ---Almacenes de certificados (KeyStore)
2019-11-06 20:31:15,622 - DEBUG - ---Archivos de configuración como el ya mencionado xxx-conf.xml
2019-11-06 20:31:15,623 - DEBUG - ---Para que la aplicación pueda acceder a estos archivos, la idea es crear una propiedad personalizada a nivel de la máquina virtual del servidor. El estándar para nombrar esta propiedad será: co.com.grporg.bancolombia.entappxxx.configfile, donde las tres (3) X corresponden a la sigla que identifica cada aplicativo. Dentro del archivo de configuración, debe hacerse referencia a una propiedad en la cual se parametriza la ruta en la que se localiza el archivo de configuración de log. Dicha propiedad en el ejemplo, se llama NombreArchivoLog. El estándar para el nombre de este archivo es xxx-log.xml, donde las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:31:15,624 - DEBUG - ---En este archivo se definen los niveles y tipos de archivo de log que debe generar el aplicativo. La idea es que se generen dos archivos: XXXInfo.log y XXXError.log. Nuevamente las tres (3) X corresponden a la sigla asignada al aplicativo. En el ejemplo tenemos TMXInfo.log y TMXError.log. Con ello, se previene que la aplicación escriba en la consola, práctica que debe ser erradicada en ambientes de producción. El insumo para estos archivos es la existencia de una ruta denominada /logdir/xxxdir. De nuevo, las tres (3) X identifican el aplicativo. Como ejemplo, tenemos /logdirr/tmxdirr.
2019-11-06 20:31:15,625 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-06 20:31:15,643 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:31:15,645 - DEBUG - ---Gerencia de infraestructura banistmo
2019-11-06 20:31:15,646 - DEBUG - ---SUCURSAL VIRTUAL PERSONAS 
2019-11-06 20:31:15,647 - DEBUG - ---BANISTMO
2019-11-06 20:31:15,648 - DEBUG - ---

2019-11-06 20:31:15,649 - DEBUG - ---Control del Documento
2019-11-06 20:31:15,650 - DEBUG - ---

2019-11-06 20:31:15,651 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:31:15,657 - DEBUG - ---

2019-11-06 20:31:15,658 - DEBUG - ---DIAGRAMA DE COMPONENTES DEL DISEÑO SEGÚN LA PLATAFORMA
2019-11-06 20:31:15,659 - DEBUG - ---Producción
2019-11-06 20:31:15,660 - DEBUG - ---

2019-11-06 20:31:15,661 - DEBUG - ---Diagrama E2E
2019-11-06 20:31:15,663 - DEBUG - ---DESCRIPCIÓN DETALLADA DE CADA COMPONENTE EN LA PLATAFORMA BANCO 
2019-11-06 20:31:15,664 - DEBUG - ---PRODUCCIÓN
2019-11-06 20:31:15,665 - DEBUG - ---SECURITY GATEWAY:
2019-11-06 20:31:15,666 - DEBUG - ---El aplicativo Security Gateway cumple el rol de mediador entre el Front-End y los sistemas externos Integrador (ESB), DetectID y Directorio Activo, ADM.
2019-11-06 20:31:15,667 - DEBUG - ---ADM:
2019-11-06 20:31:15,668 - DEBUG - ---Administración de Usuarios. 
2019-11-06 20:31:15,668 - DEBUG - ---Es la aplicación de administración de usuarios, se valida existencia del usuario que está ingresando a la SVP.
2019-11-06 20:31:15,669 - DEBUG - ---DETECT ID
2019-11-06 20:31:15,670 - DEBUG - ---Aplicación que centraliza parte de la seguridad de la nueva Sucursal Virtual Personas (Autenticación, pregunta y respuesta secreta, creación de usuario y contraseña, imagen etc.).
2019-11-06 20:31:15,671 - DEBUG - ---BUS DE INTEGRACION
2019-11-06 20:31:15,673 - DEBUG - ---INTERMEDIARIO
2019-11-06 20:31:15,675 - DEBUG - ---Servidor De Aplicaciones:
2019-11-06 20:31:15,676 - DEBUG - ---Es un producto de la suite de websphere, que está diseñado para soportar sitios web dinámicos, aplicaciones y servicios web. De carácter integrador y multiplataforma (middleware), presta servicios de conectividad de bases de datos, conexión entre diferentes ESB, entre otras funcionalidades a base de código java.
2019-11-06 20:31:15,677 - DEBUG - ---DESCRIPCIÓN DETALLADA DEL DISEÑO EN LA PLATAFORMA
2019-11-06 20:31:15,678 - DEBUG - ---SERVIDOR DE APLICACIONES:
2019-11-06 20:31:15,679 - DEBUG - ---PRODUCCION – UAT – DESARROLLO
2019-11-06 20:31:15,681 - DEBUG - ---Lista De Chequeo recomendado para diagnostico  
2019-11-06 20:31:15,682 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:31:15,683 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:31:15,684 - DEBUG - ---Ej: https://10.5.161.169:9043/admin
2019-11-06 20:31:15,685 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación y validar los logs del App Server systemerr y systemout
2019-11-06 20:31:15,686 - DEBUG - ---Comprobar el ‘estado de salud’ de la máquina. Lo más importante es identificar el consumo de memoria y disco.
2019-11-06 20:31:15,687 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones. 
2019-11-06 20:31:15,688 - DEBUG - ---Contingencia de Infraestructura  Asociadas al servicio
2019-11-06 20:31:15,691 - DEBUG - ---Los procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:31:15,692 - DEBUG - ---El servidor de aplicaciones se encuentra instalado en dos máquinas distintas (Power HA) de modo activo – activo. En las mismas maquinas también está instalado el WebServer y este debe permanecer con el esquema activo – pasivo y con este se determina cuál de las dos máquinas se encuentra atendiendo el servicio.
2019-11-06 20:31:15,693 - DEBUG - ---

2019-11-06 20:31:15,694 - DEBUG - ---Errores conocidos de la Infraestructura
2019-11-06 20:31:15,695 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:31:15,696 - DEBUG - ---A Nivel De Was
2019-11-06 20:31:15,697 - DEBUG - ---A Nivel De La Aplicación
2019-11-06 20:31:15,698 - INFO - Indexing file: SAS ALM REINICIO SERVICIOS AML APP - PRODUCCION.txt
2019-11-06 20:31:15,699 - DEBUG - ---REINICIO DE SERVICIOS ALD - PRODUCCION - APP Y WEB - nuevos
--------------------------------------------------------------------------------------------------

OJO: PARA DETENER PRIMERO TODO LO DEL WAS Y LUEGO TODO EL SERVIDOR DE APLICACIONES.
PARA INICIAR, PRIMERO TODO EL SERVIDOR APLICACIONES Y LUEGO EL SERVIDOR WEB

				DETENCION DE SERVICIOS
               		------------------------------------------
SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------

1. DETENCION SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Autenticarse con el usuario wassvc en el servidor 10.4.80.25 y ejecutar:

DETENCION DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopManager.sh" -profileName "WAS01DMGRAML"

Se debe garantizar que no quede ningun proceso asociado al DMGR, al perfil ni tampoco a los application servers, para ello, en putty, ejecutar

ps -fea |grep WAS01AMLAS4
ps -fea |grep WAS01AMLAS3
ps -fea |grep WAS01AMLAS2
ps -fea |grep WAS01AMLAS1
ps -fea |grep WAS01AMLPF
ps -fea |grep WAS01DMGRAML

No nos deberia devolver procesos asociados, en caso contrario matarlos con kill -9

2. DETENCION SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP

Para garantizar que no quede ningun proceso asociado al puerto 5095 (remote services) se debe ejecutar por putty el comando:

netstat -Aan | grep 5095

Lo cual devuelve un resultado como:

f100070001028bb0 tcp4       0      0  *.5095            *.*      LISTEN     para el puerto 5095
valor de ejemplo


con este dato, ejecutamos en consola el comando: 

rmsock f100070001028bb0 tcpcb    donde el valor de la mitad es a modo de ejemplo y se obtiene de la validación inicial del puerto

el resultado de este comando nos da el numero del proceso asociado al puerto que está LISTEN, nos da un resultado como:


The socket 0x1028808 is being held by proccess  (java).
          Valor ejemplo  

Con lo cual podríamos hacer un 

Kill -9 nro proceso   ejemplo: kill -9 766076



SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

3. DETENCION SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP


	                           INICIO DE SERVICIOS
               		------------------------------------------	

Para iniciar servicios:

SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

1. INICIO SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------

Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------
2. INICIO SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------

ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

3. INICIO DE SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC
--------------------------------------------------------------------------------------------------

INICIO DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/startManager.sh" -profileName "WAS01DMGRAML"
"/was7/IBM/WebSphere/AppServer/bin/startNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"


VALIDACION URL'S
--------------------------------------------------------------------------------------------------

Consola Administracion de WAS por puerto no seguro: http://pbmdeapwas01.bancolombia.corp:51400/ibm/console/unsecureLogon.jsp

SAS Stored Process Web Application:    		http://pbmdeapwas01.bancolombia.corp:51450/SASStoredProcess/do
SAS Web Administration Console:        		http://pbmdeapwas01.bancolombia.corp:51450/SASAdmin
SAS Web Report Studio:		       		http://pbmdeapwas01.bancolombia.corp:51500/SASWebReportStudio
SAS Information Delivery Portal        		http://pbmdeapwas01.bancolombia.corp:51450/SASPortal
SAS BI Dashboard		       		http://pbmdeapwas01.bancolombia.corp:51450/SASBIDashboard
SAS Flex Application Themes:           		http://pbmdeapwas01.bancolombia.corp:51450/SASThemeDesignerForFlex. 
SAS Enterprise Case Management Mid-tier: 	http://pbmdeapwas01.bancolombia.corp:51550/SASEntCaseManagement
SAS Help Viewer for Midtier Applications: 	http://pbmdeapwas01.bancolombia.corp:51500/SASWebDoc
SAS Anti-Money Laundering Investigation UI 5.1: http://pbmdeapwas01.bancolombia.corp:51550/AntiMoneyLaunderingInvestUI_BusinessUnit
pdnwsaml
pbmdeapwas01








2019-11-06 20:31:15,702 - INFO - Indexing file: Datos ECM - Arquitectura PSeries.docx
2019-11-06 20:31:15,769 - DEBUG - ---Las urls de Capacitación son: 
2019-11-06 20:31:15,770 - DEBUG - ---WAS: 
2019-11-06 20:31:15,770 - INFO - Indexing file: Datos ECM - Arquitectura Windows.docx
2019-11-06 20:31:15,778 - INFO - Indexing file: Pasos Instalacion TLSv1-2 RSA.docx
2019-11-06 20:31:15,782 - DEBUG - ---Ingresar al dmgr de calidad
2019-11-06 20:31:15,783 - DEBUG - ---Ir a security a la opción de la imagen a continuación.
2019-11-06 20:31:15,783 - DEBUG - ---Clic en NodeDefaultSSLSettings del nodo de calidad
2019-11-06 20:31:15,784 - DEBUG - ---Seleccionar TLSv1.2, dar clic en OK y finalmente reinciar el CLUSTER de RAS de forma escalonada.
2019-11-06 20:31:15,784 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:31:15,815 - DEBUG - ---Manual de Operaciones
2019-11-06 20:31:15,816 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:31:15,819 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:31:15,842 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:31:15,846 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:31:15,847 - DEBUG - ---DESARROLLO
2019-11-06 20:31:15,849 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:15,851 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,853 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:15,855 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:31:15,857 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:15,859 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:31:15,861 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:15,864 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:15,867 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,871 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:15,874 - DEBUG - ---

2019-11-06 20:31:15,875 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:31:15,877 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:15,880 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,882 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:15,883 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:31:15,884 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:15,886 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:31:15,888 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:15,893 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:15,896 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,899 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:15,900 - DEBUG - ---

2019-11-06 20:31:15,902 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:31:15,904 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:15,907 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:31:15,910 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:15,911 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:31:15,912 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:15,913 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:31:15,915 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:15,918 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:15,922 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,926 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:15,931 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:31:15,932 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:15,934 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,936 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:31:15,937 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:15,938 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:31:15,941 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:31:15,942 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:15,943 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:31:15,944 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:31:15,945 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:15,946 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:31:15,946 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:31:15,947 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:15,948 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:31:15,949 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:31:15,961 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:31:15,963 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:31:15,964 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:15,967 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:15,970 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,973 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:15,975 - DEBUG - ---

2019-11-06 20:31:15,976 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:31:15,978 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:15,980 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:15,982 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:31:15,983 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:31:15,985 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:31:15,986 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:31:15,989 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:31:15,990 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:31:15,992 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:31:15,993 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:31:15,994 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:31:15,995 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:31:15,997 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:31:15,998 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:16,001 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:16,004 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,007 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:16,009 - DEBUG - ---

2019-11-06 20:31:16,010 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:31:16,011 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:31:16,013 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:31:16,014 - DEBUG - ---AW0939
2019-11-06 20:31:16,014 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:31:16,015 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:31:16,016 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:31:16,017 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:31:16,017 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:31:16,019 - DEBUG - ---PASOS
2019-11-06 20:31:16,020 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:31:16,025 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:31:16,028 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:31:16,031 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:31:16,033 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:31:16,037 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:31:16,040 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:31:16,043 - DEBUG - ---

2019-11-06 20:31:16,045 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:31:16,047 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:31:16,050 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:31:16,052 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:31:16,055 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:31:16,060 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:31:16,061 - INFO - Indexing file: Configuración Activation specifications.docx
2019-11-06 20:31:16,072 - DEBUG - ---Activation Specifications
2019-11-06 20:31:16,073 - DEBUG - ---Seleccionar el scope respectivo, luego > NewLlenar los siguientes campos, nombre del recurso JMS 
2019-11-06 20:31:16,073 - DEBUG - ---Nombre de recurso asociado a la cola:
2019-11-06 20:31:16,074 - DEBUG - ---Nombre del gestor de colas:
2019-11-06 20:31:16,074 - DEBUG - ---Transporte: cliente, en el campo Connection name list se deben colocar las máquinas con el respectivo puerto del gestor, separadas por , 
2019-11-06 20:31:16,075 - DEBUG - ---El Test Connection en was siempre da fallido, esto no significa que la conexión no se vaya a realizar o este mal parametrizada:
2019-11-06 20:31:16,076 - DEBUG - ---

2019-11-06 20:31:16,076 - DEBUG - ---Luego de creado el activation specification se debe acceder a el para terminar de realizar las configuraciones:
2019-11-06 20:31:16,076 - DEBUG - ---Configurar SSL para canal seguro:
2019-11-06 20:31:16,077 - DEBUG - ---

2019-11-06 20:31:16,077 - DEBUG - ---Creación de colas:
2019-11-06 20:31:16,078 - DEBUG - ---

2019-11-06 20:31:16,079 - DEBUG - ---

2019-11-06 20:31:16,079 - DEBUG - ---Para activar la configuration
2019-11-06 20:31:16,079 - DEBUG - ---Se debe exportar la aplicación fsbmdb.ear
2019-11-06 20:31:16,080 - DEBUG - ---Luego se debe redesplegar una nueva aplicación fsbmdb con un nuevo nombre
2019-11-06 20:31:16,081 - DEBUG - ---Cambiar el nombre de la aplicación, relacionándolo con el nuevo recurso JMS
2019-11-06 20:31:16,081 - DEBUG - ---Seleccionar al módulo asociado los servidores y/o clusters relacionados:
2019-11-06 20:31:16,082 - DEBUG - ---Relacionar con el recurso jms creado (Activation Specification):
2019-11-06 20:31:16,083 - DEBUG - ---Luego activar la aplicación fsbmdb_HA01
2019-11-06 20:31:16,083 - INFO - Indexing file: test.docx
2019-11-06 20:31:16,086 - DEBUG - ---Documento de prueba
2019-11-06 20:31:16,086 - DEBUG - ---parrafa 1 ok
2019-11-06 20:31:16,087 - DEBUG - ---parrafa 2 ok
2019-11-06 20:31:16,087 - DEBUG - ---parrafa 3 ok
2019-11-06 20:31:16,087 - DEBUG - ---parrafa 4 ok
2019-11-06 20:31:16,088 - INFO - Indexing file: test.txt
2019-11-06 20:31:16,088 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-06 20:31:16,091 - INFO - Indexing file: portal.txt
2019-11-06 20:31:16,091 - DEBUG - ---
home bancolombia --> intergrupo
home banitsmo    ------> nosotros

arquitecrua
---------------------------------------------
dallas nodo 1, dmgr
washington nodo 2
server 1 ihs y ventas digitales banitsmo
server 2 ihs y ventas digitales banitsmo
db 1  en HADR
db 2  en HADR
balanceadores de carga (con redes)

la db apunta a un nodo en particular, si hay contigencia se debe apuntar a mano

el producto portal utiliza el usuario 'portal'
los WAS usand el usuario 'portal'
los ihs usan 'wasadmin'

todo estÃ¡ en un keepass  -------> conseguir

para probar cargar www.banitsmo.com

esructuras
--------------------
dllo y QA son administrador por intergrupo
el XML de estructura se exporta desde ahi y se importa en producciÃ³n con XMLAccess


contenidos
--------------------
automatico a las 1pm y 6pm
puede hacerse manual con la consola web
tambien hay script que tiene intergrupo

dentro de WAS la aplicaciÃ³n
------------------------------
las urls de DMGR estÃ¡n en el manual
http://10.209.17.3:9443|9043/ibm/console

los datasources wp ...   son del portal
tienen un duplicado wp ... _DR que apunte al nodo de DB de contingencia
eso no funciona

los 2 nodos espejan bien pero ante una contingencia hay que apuntar los DS (los normales sin DR) manualmente al nodo activo.

las aplicaciones web que administramos en el portal son las que se llaman '*anitsmo'. Las otras forman parte del producto.
las aplicaciones Banitsmo son el theme del portal
las aplicaciones banitsmo_dtd_* son de contenido como tal

consola de portal
----------------------------
portal contenet --> suscribers
sindicacion de contenido por consola web - suscribers, donde se configura que el contenido viene desde QA
probar conexion con el proveedor de contenido, primer icono
sindicaciÃ³n manual, segun Ã­cono
editar suscripcion, tercer icono

monitoreo
---------------
new relic
xrbc --> bancolombia
xrvi --> banitsmo

dudas
---------------
usuarios de DMGR
usuarios de consola de portal
keepass
contraseÃ±a de wasadmin
cer si mi usuario de softlayer funciona o no con esto
pedir usuario de new relic


2019-11-06 20:31:16,093 - INFO - Indexing file: Instalacion_WinScp.docx
2019-11-06 20:31:16,099 - DEBUG - ---Instalación y uso de la herramienta WinScp
2019-11-06 20:31:16,099 - DEBUG - ---Se ejecuta el instalador  y clic en aceptar.
2019-11-06 20:31:16,100 - DEBUG - --- 
2019-11-06 20:31:16,100 - DEBUG - ---Clic en siguiente
2019-11-06 20:31:16,101 - DEBUG - ---Clic en aceptar
2019-11-06 20:31:16,101 - DEBUG - ---Clic en siguiente
2019-11-06 20:31:16,102 - DEBUG - ---

2019-11-06 20:31:16,102 - DEBUG - ---Clic en siguiente
2019-11-06 20:31:16,102 - DEBUG - ---Clic en instalar
2019-11-06 20:31:16,103 - DEBUG - ---                
2019-11-06 20:31:16,103 - DEBUG - ---Clic en finalizar
2019-11-06 20:31:16,104 - DEBUG - ---

2019-11-06 20:31:16,104 - DEBUG - ---Para realizar copias de archivos de servidores a PC de escritorio y viceversa se efectúa de la siguiente manera:
2019-11-06 20:31:16,105 - DEBUG - ---Ingresar a Password Safe e ingresar a un servidor (En este caso Linux) y antes de abrir una sesión SSH copiar todo el contenido de la sección “Username/IP”:
2019-11-06 20:31:16,106 - DEBUG - ---Abrir preferiblemente un internet explorer y en el campo de texto de la dirección URL pegar la línea copiada y agregar al principio “sftp://” y al final (:4422) como se ve en la imagen:
2019-11-06 20:31:16,106 - DEBUG - ---

2019-11-06 20:31:16,107 - DEBUG - ---Dar enter e inmediatamente se ejecuta la herramienta winScp:
2019-11-06 20:31:16,107 - DEBUG - ---Ya con esto se pueden realizar copias entre PC y servidor.
2019-11-06 20:31:16,108 - DEBUG - ---Nota: es preferible realizar las copias inicialmente al directorio “/tmp”, ya después por sesión ssh a través del putty hacer las operaciones requeridas con los archivos copiados.
2019-11-06 20:31:16,108 - INFO - Indexing file: ConfigurarPutty.txt
2019-11-06 20:31:16,109 - DEBUG - ---ÿþW i n d o w s   R e g i s t r y   E d i t o r   V e r s i o n   5 . 0 0 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h ] 
 
 @ = " U R L : S e c u r e   S h e l l   P r o t o c o l " 
 
 " U R L   P r o t o c o l " = " " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ D e f a u l t I c o n ] 
 
 @ = " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n \ c o m m a n d ] 
 
 @ = " c m d   / V : O N   / s   / c   @ e c h o   o f f   & &   s e t   u r l = % 1   & &   f o r   / f   \ " t o k e n s = 1 , 2 , 3   d e l i m s = : /   \ "   % % a   i n   ( \ " ! u r l ! \ " )   d o   s e t   p r o t o c o l = % % a & s e t   h o s t = % % b & s e t   p o r t = % % c   & &   s t a r t   \ " \ "   \ " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e \ "   - P   ! p o r t !   ! h o s t ! " 
 
 
 
 
2019-11-06 20:31:16,109 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 20:31:16,110 - DEBUG - ---ï»¿WAS iSeries
--------------------
crear perfil (/qibm/proddata/websphere/appserver/v85/nd/bin)
./manageprofiles -create -profileName WAS01PFCSV02 -templatePath managed -nodeName WASSV1_WAS01PFCSV02 -hostname WASSV1.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL01PFCSV02 -templatePath managed -nodeName WASNLSV1_WNL01PFCSV02 -hostname WASNLSV1.BANCOLOMBIA.COM
./manageprofiles -create -profileName WAS02PFCSV02 -templatePath managed -nodeName WASSV2_WAS02PFCSV02 -hostname WASSV2.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL02PFCSV02 -templatePath managed -nodeName WASNLSV2_WNL02PFCSV02 -hostname WASNLSV2.BANCOLOMBIA.COM 

./manageprofiles -delete -profileName WNL01PFCSV02

habilitar java 7 (/qibm/proddata/websphere/appserver/v85/nd/bin)
./managesdk -enableProfile -profileName WAS01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WAS02PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL02PFCSV02 -sdkname 1.7_64 -enableServers

federar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
#./addNode 10.8.3.174 49503 -username mgazzola -password ************
#./addNode 10.8.3.174 49503 -username svcwps01 -password W3v$p1*Er9
./addNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM

sincronizar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
./stopNode
 -username wassvc -password C0nf1d3nci@lECM
./syncNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM
./startNode

resultado
system administration - node agents - aparece el nuevo nodo

WAS pSeries
-----------------
crear perfiles dmgr y managed
./manageprofiles.sh -create -profileName DMGR85LIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBDMGRLIVEBPDNA01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/management/
./manageprofiles.sh -create -profileName DWEBLIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBLIVEBPDNODE01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/managed/

habilitar java
./managesdk.sh -enableProfileAll -sdkname 1.7_64 -enableServers

borrar perfiles
bin ./manageprofiles.sh -delete -profileName DWEB85RECMIGPF01
bin ./manageprofiles.sh -delete -profileName DWEBLIVEBPDPF01


parachado de WAS
------------------

PARA ACTUALIZAR WAS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/WAS_85/IBM/WebSphere/AppServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

PARA ACTUALZIAR PLUGIN
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/Plugins -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress -properties user.wasjava=java6

PARA ACTUALIZAR IHS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/HTTPServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

VERIFICAR LOS MEDIOS INSTALADOS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl  listInstalledPackages -long



2019-11-06 20:31:16,111 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 20:31:16,134 - DEBUG - ---

2019-11-06 20:31:16,135 - DEBUG - ---

2019-11-06 20:31:16,136 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:31:16,137 - DEBUG - ---Nota
2019-11-06 20:31:16,138 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:31:16,140 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:31:16,141 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:31:16,142 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:31:16,143 - DEBUG - ---Nota
2019-11-06 20:31:16,143 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:31:16,145 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:31:16,145 - DEBUG - ---a.
2019-11-06 20:31:16,146 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:31:16,147 - DEBUG - ---b.
2019-11-06 20:31:16,147 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:31:16,148 - DEBUG - ---f.
2019-11-06 20:31:16,148 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:31:16,150 - DEBUG - ---

2019-11-06 20:31:16,151 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:31:16,152 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:31:16,153 - DEBUG - ---Recordar:
2019-11-06 20:31:16,154 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:31:16,155 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:31:16,156 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:31:16,158 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:31:16,158 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:31:16,160 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:31:16,161 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:31:16,161 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:31:16,162 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:31:16,163 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:31:16,164 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:31:16,164 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:31:16,166 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:31:16,166 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:31:16,167 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:31:16,168 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:31:16,169 - DEBUG - --- 
2019-11-06 20:31:16,169 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:31:16,171 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:31:16,172 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:31:16,174 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:31:16,175 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:31:16,176 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:31:16,177 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:31:16,178 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:31:16,180 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:31:16,180 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:31:16,182 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:31:16,183 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:31:16,184 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:31:16,184 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:31:16,185 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:31:16,186 - INFO - Indexing file: pass.txt
2019-11-06 20:31:16,187 - DEBUG - ---WSZA855C3S
2019-11-06 20:31:16,187 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-06 20:31:16,197 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:31:16,198 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:31:16,199 - DEBUG - ---Elaborado para
2019-11-06 20:31:16,200 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:31:16,201 - DEBUG - ---Elaborado por
2019-11-06 20:31:16,201 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:31:16,202 - DEBUG - ---Fecha
2019-11-06 20:31:16,202 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:31:16,204 - DEBUG - ---Objetivo
2019-11-06 20:31:16,205 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:31:16,206 - DEBUG - ---Rotación de servicios
2019-11-06 20:31:16,207 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:31:16,208 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:31:16,215 - DEBUG - ---Menú iSeries
2019-11-06 20:31:16,216 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:31:16,218 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:31:16,219 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:31:16,221 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:31:16,222 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:31:16,223 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:31:16,224 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:31:16,225 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:31:16,225 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:31:16,226 - DEBUG - ---Opciones del menú
2019-11-06 20:31:16,226 - DEBUG - ---Contingencia Medellín
2019-11-06 20:31:16,228 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:31:16,228 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:31:16,229 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:31:16,230 - DEBUG - ---Regresar
2019-11-06 20:31:16,230 - DEBUG - ---Salir
2019-11-06 20:31:16,231 - DEBUG - ---Rotación servicios
2019-11-06 20:31:16,232 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:31:16,233 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:31:16,233 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:31:16,234 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:31:16,236 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:31:16,237 - DEBUG - ---Actividades IPL
2019-11-06 20:31:16,238 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:31:16,239 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:31:16,240 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:31:16,241 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:31:16,241 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:31:16,242 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:31:16,242 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:31:16,243 - INFO - Indexing file: Actualizar_certificado_celda_WAS.docx
2019-11-06 20:31:16,253 - DEBUG - ---TERCERIZACIÓN DE LOS SERVICIOS DE ADMINISTRACIÓN DE LA PLATAFORMA SOA
2019-11-06 20:31:16,253 - DEBUG - ---PARA BANCOLOMBIA
2019-11-06 20:31:16,255 - DEBUG - ---Procedimiento
2019-11-06 20:31:16,255 - DEBUG - ---Actualizar Certificado Personal en una Celda WAS
2019-11-06 20:31:16,256 - DEBUG - ---Elaborado para
2019-11-06 20:31:16,257 - DEBUG - ---Bancolombia
2019-11-06 20:31:16,258 - DEBUG - ---Elaborado por:
2019-11-06 20:31:16,258 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:31:16,259 - DEBUG - ---Fecha: agosto de 2016
2019-11-06 20:31:16,260 - DEBUG - ---Contenido
2019-11-06 20:31:16,265 - DEBUG - ---INTRODUCCION
2019-11-06 20:31:16,266 - DEBUG - ---Este documento describe el procedimiento para actualizar el certificado personal de una celda de WebSphere Application Server.
2019-11-06 20:31:16,268 - DEBUG - ---Datos Generales
2019-11-06 20:31:16,269 - DEBUG - ---Descripción Procedimiento
2019-11-06 20:31:16,270 - DEBUG - ---Con el objetivo de generar menos impacto se sugiere generar un nuevo certificado y luego indicarle a la celda cual certificado debe usar.
2019-11-06 20:31:16,271 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:31:16,272 - DEBUG - ---Ir a la opción solicitud de certificados personales y hacer clic en New.
2019-11-06 20:31:16,274 - DEBUG - ---

2019-11-06 20:31:16,274 - DEBUG - ---Diligenciar el formulario tal como lo muestra la imagen y hacer clic en OK.
2019-11-06 20:31:16,275 - DEBUG - ---

2019-11-06 20:31:16,276 - DEBUG - ---Validar que la solicitud de certificado se haya creado. Descargar el certificado de la ruta indicada en el paso dos y enviarlo al área de seguridades de Bancolombia para su firma. 
2019-11-06 20:31:16,277 - DEBUG - ---

2019-11-06 20:31:16,277 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:31:16,278 - DEBUG - ---Importar los certificados que conforman la cadena de confianza del certificado firmado en el almacén de certificados personales de la celda (CellDefaultKeystore) en la opción de certificados de confianza (Signer certificates). 
2019-11-06 20:31:16,279 - DEBUG - ---Ir a la opción de certificados personales y hacer clic en el botón de recibir de una autoridad de certificados (Receive from a certificate authority)
2019-11-06 20:31:16,281 - DEBUG - ---Ingresar la ruta donde se encuentra el certificado enviado por el área de seguridades de Bancolombia.
2019-11-06 20:31:16,282 - DEBUG - ---Validar que el certificado haya sido recibido correctamente.
2019-11-06 20:31:16,283 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:31:16,283 - DEBUG - ---Se debe importar el certificado público en los siguientes almacenes:
2019-11-06 20:31:16,284 - DEBUG - ---CMSKeyStore para cada uno de los web servers.
2019-11-06 20:31:16,285 - DEBUG - ---CellDefaultTrustStore
2019-11-06 20:31:16,286 - DEBUG - ---NodeDefaultTrustStore para cada uno de nodos.
2019-11-06 20:31:16,287 - DEBUG - ---

2019-11-06 20:31:16,288 - DEBUG - ---Extraer el certificado público de la celda
2019-11-06 20:31:16,289 - DEBUG - ---Indicar la ruta donde se debe exportar el certificado público
2019-11-06 20:31:16,290 - DEBUG - ---

2019-11-06 20:31:16,291 - DEBUG - ---Ir a cada almacén y añadir el certificado público.
2019-11-06 20:31:16,292 - DEBUG - ---Configurar la celda para que use el nuevo certificado
2019-11-06 20:31:16,293 - DEBUG - ---Validar los endpoints y donde se encuentre el certificado anterior asociar el nuevo certificado.
2019-11-06 20:31:16,295 - DEBUG - ---

2019-11-06 20:31:16,295 - DEBUG - ---Asociar el nuevo certificado en la configuración SSL de la celda.
2019-11-06 20:31:16,296 - DEBUG - ---Reinicio de la celda
2019-11-06 20:31:16,297 - DEBUG - ---Sincronizar los nodos usando la opción de sincronización completa.
2019-11-06 20:31:16,298 - DEBUG - ---Una vez sincronizados podemos reiniciar los servicios usando la consola en la opción de reiniciar todos los servidores de aplicación para el nodo seleccionado. Se debe esperar a que dicho reinicio termine para continuar con otro nodo.
2019-11-06 20:31:16,299 - DEBUG - ---Una vez reiniciado todos los servidores de aplicación y nodos se reinician el deployment manager (dmgr).
2019-11-06 20:31:16,300 - DEBUG - ---Consideraciones y Recomendaciones
2019-11-06 20:31:16,301 - DEBUG - ---Las siguientes actividades pueden ejecutarse previo a la ventana de mantenimiento:
2019-11-06 20:31:16,301 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:31:16,302 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:31:16,302 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:31:16,303 - INFO - Indexing file: Aplicar reglas a Proxy Server.docx
2019-11-06 20:31:16,307 - DEBUG - ---Aplicar reglas a Proxy Server
2019-11-06 20:31:16,308 - DEBUG - ---Ingresar al cluster de proxy server al cual se le desea aplicar la regla.
2019-11-06 20:31:16,309 - DEBUG - ---Seleccionar la opción Proxy actions, que se encuentra dentro del menú Proxy virtual host configuration.
2019-11-06 20:31:16,310 - DEBUG - ---Ir a Routing Actions y seleccionar New,  y luego dar click en Fail Route…
2019-11-06 20:31:16,310 - DEBUG - ---Se configura el nombre y el código que se desea retorne ante esa acción. 
2019-11-06 20:31:16,310 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy rule expressions.
2019-11-06 20:31:16,311 - DEBUG - ---Dar click en New 
2019-11-06 20:31:16,311 - DEBUG - ---Colocar el nombre que se desea colocar a la expresión, luego presionar en el botón Subexpresion Builder, luego seleccionar en Operand la opción Module. Luego en Module seleccionar el modulo war que se desea restringir, por último se da click en el botón Generate subexpression. Adicional en la parte inferior en los Routing Actions seleccionar la acción que se creo previamente. 
2019-11-06 20:31:16,312 - DEBUG - ---                                                     dar click en el botón OK, y luego en Preview, asegurándose de sincronizar todos los nodos.
2019-11-06 20:31:16,312 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy virtual hosts.
2019-11-06 20:31:16,313 - DEBUG - ---Se da click en el botón New para generar una nueva configuración.
2019-11-06 20:31:16,313 - DEBUG - ---En la casilla Virtual host name, se deja el valor *, en la casilla Virtual host port, se debe indicar el puerto al que se desea aplicar la regla, luego seleccionar la expresión previamente creada, quedando así: se presiona en OK y luego Review y asegurarse de sincronizar los nodos.
2019-11-06 20:31:16,314 - DEBUG - ---Se deben reiniciar los Clusters de Proxy Servers.
2019-11-06 20:31:16,314 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:31:16,324 - DEBUG - ---Creación Proxy Servers en WAS 8.5
2019-11-06 20:31:16,326 - DEBUG - ---Change log
2019-11-06 20:31:16,327 - DEBUG - ---Audiencia
2019-11-06 20:31:16,328 - DEBUG - ---Administradores de productos de capa media IBM.
2019-11-06 20:31:16,328 - DEBUG - ---Abstract
2019-11-06 20:31:16,329 - DEBUG - ---Un proxy servers permite direccionar tráfico http y gestionar archivos estáticos como lo hace un servidor web Apache o un IHS. Sin embargo, no es un producto separado. Un proxy es un pequeño servidor WAS basado en un template diferente que es más sencillo de administrar que un IHS.
2019-11-06 20:31:16,329 - DEBUG - ---Los proxy servers pueden funcionar independientemente o en forma de cluster, en este instructivo se explicará cómo crearlos de ambas maneras y las configuraciones adicionales que la celda necesita para hacer que las aplicaciones se expongan a través de los proxy.
2019-11-06 20:31:16,330 - DEBUG - ---Creación de un proxy server
2019-11-06 20:31:16,331 - DEBUG - ---A continuación se especifican los pasos para la creación de un nuevo Websphere Proxy Server en WAS 8.5.
2019-11-06 20:31:16,331 - DEBUG - ---1. Desde la consola del DMGR, ubicarnos en tipos de servidores y dar clic en Websphere proxy servers.
2019-11-06 20:31:16,332 - DEBUG - ---2. Dar clic en nuevo.
2019-11-06 20:31:16,333 - DEBUG - ---3. Se debe ingresar el nombre que se aprovisionara al nuevo proxy server.
2019-11-06 20:31:16,334 - DEBUG - ---4. Utilizar las opciones seleccionadas a continuación para un aprovisionamiento estándar.
2019-11-06 20:31:16,335 - DEBUG - ---5. Se utiliza la plantilla de proxy_server_foundation.
2019-11-06 20:31:16,336 - DEBUG - ---6. Finalmente se debe revisar el resumen de las configuraciones realizadas sean las deseadas.
2019-11-06 20:31:16,337 - DEBUG - ---Y dar clic en “Finish”.
2019-11-06 20:31:16,338 - DEBUG - ---7. Guardar las configuraciones.
2019-11-06 20:31:16,340 - DEBUG - ---8. Se verifica que el proxy server nuevo creado aparece ya en la consola de WAS para su administración.
2019-11-06 20:31:16,340 - DEBUG - ---Una vez hecho esto se puede validar el inicio del nuevo proxy server.
2019-11-06 20:31:16,343 - DEBUG - ---Creación de cluster de proxy servers
2019-11-06 20:31:16,343 - DEBUG - ---1. click en el menú izquierdo
2019-11-06 20:31:16,344 - DEBUG - ---Servers  clusters  proxy Server clusters  new
2019-11-06 20:31:16,345 - DEBUG - ---2. colocar un nombre
2019-11-06 20:31:16,345 - DEBUG - ---Se acepta la convensión CLPS[aplicación][numero], ejemplo CLPSPSE01.
2019-11-06 20:31:16,346 - DEBUG - ---Dejar el resto de los campos con el valor por defecto.
2019-11-06 20:31:16,347 - DEBUG - ---3. agregar miembros del cluster
2019-11-06 20:31:16,347 - DEBUG - ---a. nombre del miembro, se acepta la convensión PS[aplicación][numero]
2019-11-06 20:31:16,348 - DEBUG - ---b. seleccionar el nodo al que el miembro quedará asociado (pueden ser diferentes miembros asociados a diferentes nodos)
2019-11-06 20:31:16,348 - DEBUG - ---4. crear miembros adicionales
2019-11-06 20:31:16,349 - DEBUG - ---Colocar el nombre del miembro y seleccionar el nodo asociados, luego click en Add member
2019-11-06 20:31:16,350 - DEBUG - ---5. repetir el paso 4 por cada miembro adicional hasta completar los miembros.
2019-11-06 20:31:16,350 - DEBUG - ---Luego click en ‘Next’
2019-11-06 20:31:16,351 - DEBUG - ---6. Sumary
2019-11-06 20:31:16,351 - DEBUG - ---Click en Finish
2019-11-06 20:31:16,352 - DEBUG - ---Grabar los cambios.
2019-11-06 20:31:16,353 - DEBUG - ---Configuraciones adicionales
2019-11-06 20:31:16,353 - DEBUG - ---1. Se debe validar que los puertos a utilizar por el nuevo proxy server, server deben estar abiertos en el la maquina donde esta instalado el producto
2019-11-06 20:31:16,354 - DEBUG - ---Para el caso de maquinas Pseries se puede validar con el comando
2019-11-06 20:31:16,354 - DEBUG - ---netstat –Aan | grep #puerto
2019-11-06 20:31:16,356 - DEBUG - ---Para validar cuales son los puertos configurados en el proxy server vamos a la siguiente ubicación.
2019-11-06 20:31:16,357 - DEBUG - ---Donde se pueden observar los puertos y realizar los cambios según se requiera.
2019-11-06 20:31:16,358 - DEBUG - ---2. Las aplicaciones tienen por default habilitada la opción “Enable Proxy” de tal forma que el servicio se resuelva desde el proxy server. Debemos garantizar que la aplicación que va a utilizar proxy server ten la opción habilitada como se muestra en el ejemplo a continuación.
2019-11-06 20:31:16,359 - DEBUG - --- 
2019-11-06 20:31:16,362 - DEBUG - ---3. Se deben configurar los puertos en que van a utilizar las aplicaciones desde “Enviroment”, y desde el Virtual Host deseado se debe agregar los puertos requeridos en la consideración #1. 
2019-11-06 20:31:16,364 - DEBUG - ---Opcionalmente, como buena practica, se puede crear un nuevo virtual host particular para configurar los puertos que exclusivamente vaya a utilizar una aplicación y mapear desde la misma app el virtual host creado desde la siguiente ubicación, como se muestra en el ejemplo a continuación.
2019-11-06 20:31:16,365 - DEBUG - ---NOTA: Una vez se realice cualquier cambio de los anteriores mencionados en las consideraciones, debemos realizar reinicio del proxy server.
2019-11-06 20:31:16,366 - DEBUG - ---Configuraciones adicionales para was en iSeries
2019-11-06 20:31:16,367 - DEBUG - ---Además de las configuraciones mencionadas en el apartado anterior, para los WAS instalados en plataformas iSeries que utilicen proxy servers en combinación en el appliance F5 como balanceador de carga se necesita aplicar la siguiente configuración:
2019-11-06 20:31:16,367 - DEBUG - ---Matricular en los Virtual Host de WAS, el nombre (DNS) con el cual se consume el servicio por F5 y el puerto por el cual se expone el servicio en los Proxy Server.
2019-11-06 20:31:16,368 - DEBUG - ---1. ingresar a la configuración del proxy servers a configurar, y en la sección Ports, buscar los puertos con los que se expone el servicio
2019-11-06 20:31:16,369 - DEBUG - ---PROXY_HTTP_ADDRESS
2019-11-06 20:31:16,369 - DEBUG - ---PROXY_HTTPS_ADDRESS
2019-11-06 20:31:16,370 - DEBUG - ---2. crear en la sección Virtual Hosts > default_host > Host Aliases dos nuevos aliases con la combinación de los puertos de los proyx servers y el DNS provisto por F5 para la aplicación a exponer:
2019-11-06 20:31:16,371 - DEBUG - ---3. reiniciar los proxy servers
2019-11-06 20:31:16,371 - INFO - Indexing file: test.txt
2019-11-06 20:31:16,372 - DEBUG - ---WASX7209I: Connected to process "dmgr" on node QWEBDMGR using SOAP connector;  The type of process is: DeploymentManager
2017-12-11 14:50:02,571 [INFO] using WDR (https://wdr.github.io/WDR/) version 0.8.2
2017-12-11 14:50:02,598 [INFO] the client is connected to host localhost:10403 using SOAP connector
2017-12-11 14:50:02,604 [INFO] the target process is CeldaJuanFWAS85/QWEBDMGR/dmgr
 Lista Aplicaciones en la celda :
['DynaCacheEsi', 'Dynamic Cache Monitor', 'query']

2019-11-06 20:31:16,373 - INFO - Indexing file: ReadMe.txt
2019-11-06 20:31:16,373 - DEBUG - ---${WAS_85_INSTALL_ROOT}/bin/wsadmin.sh
-lang jython
-connType SOAP
-username user
-password pwd
-f /wrkdirr/ibmdirr/wsadminUtils/main.py [options]
    -m or --mode, Script mode: createCluster
    -w or --workdir, Script work space, required because is a script inside wsadmin environment
    -cl or --cluster, Cluster name. Used in createCluster
    -n1 or --node1, Node name. Used in createCluster
    -n2 or --node2, Node name. Used in createCluster
    -s1 or --server1, Server name. Used in createCluster
    -s2 or --server2, Server name. Used in createCluster
    -h1 or --host1, Host name. Used in createCluster
    -h2 or --host2, Host name. Used in createCluster
    -p1 or --port1, Initial port. Used in createCluster
    -p2 or --port2, Initial port. Used in createCluster
    -ih1 or --initialHeap1, Initial heap size. Used in createCluster
    -ih2 or --initialHeap2, Initial heap size. Used in createCluster
    -mh1 or --maxHeap1, Max heap size. Used in createCluster
    -mh2 or --maxHeap2, Max heap size. Used in createCluster
Example:
/opt/IBM/WebSphere/AppServer85/profiles/ProfileDmgr01/bin/wsadmin.sh -lang jython -connType SOAP -f /wrkdirr/ibmdirr/wsadminUtils/main.py -m createCluster -w /wrkdirr/ibmdirr/ -s1 ServerMng04 -s2 ServerMng05 -n1 NodeMng01 -n2 NodeMng02 -h1 localhost -h2 localhost -p1 6000 -p2 6100 -ih1 128 -mh1 512 -ih2 128 -mh2 512 -cl CLMNG02
2019-11-06 20:31:16,374 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 20:31:16,391 - DEBUG - ---

2019-11-06 20:31:16,396 - DEBUG - ---

2019-11-06 20:31:16,397 - DEBUG - ---

2019-11-06 20:31:16,398 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:31:16,399 - DEBUG - ---Nota
2019-11-06 20:31:16,400 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:31:16,401 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:31:16,402 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:31:16,403 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:31:16,404 - DEBUG - ---Nota
2019-11-06 20:31:16,406 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:31:16,408 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:31:16,409 - DEBUG - ---a.
2019-11-06 20:31:16,410 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:31:16,411 - DEBUG - ---b.
2019-11-06 20:31:16,411 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:31:16,412 - DEBUG - ---f.
2019-11-06 20:31:16,413 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:31:16,415 - DEBUG - ---

2019-11-06 20:31:16,416 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:31:16,418 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:31:16,419 - DEBUG - ---Recordar:
2019-11-06 20:31:16,420 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:31:16,420 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:31:16,427 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:31:16,428 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:31:16,429 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:31:16,430 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:31:16,431 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:31:16,432 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:31:16,432 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:31:16,433 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:31:16,434 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:31:16,435 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:31:16,436 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:31:16,437 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:31:16,438 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:31:16,438 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:31:16,439 - DEBUG - --- 
2019-11-06 20:31:16,439 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:31:16,441 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:31:16,442 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:31:16,443 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:31:16,444 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:31:16,445 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:31:16,447 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:31:16,448 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:31:16,449 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:31:16,450 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:31:16,451 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:31:16,452 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:31:16,453 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:31:16,453 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:31:16,454 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:31:16,455 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 20:31:16,476 - DEBUG - ---

2019-11-06 20:31:16,476 - DEBUG - ---

2019-11-06 20:31:16,478 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:31:16,481 - DEBUG - ---Nota
2019-11-06 20:31:16,482 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:31:16,483 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:31:16,485 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:31:16,487 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:31:16,490 - DEBUG - ---Nota
2019-11-06 20:31:16,491 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:31:16,492 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:31:16,493 - DEBUG - ---a.
2019-11-06 20:31:16,494 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:31:16,494 - DEBUG - ---b.
2019-11-06 20:31:16,495 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:31:16,495 - DEBUG - ---f.
2019-11-06 20:31:16,496 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:31:16,498 - DEBUG - ---

2019-11-06 20:31:16,499 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:31:16,500 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:31:16,501 - DEBUG - ---Recordar:
2019-11-06 20:31:16,501 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:31:16,502 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:31:16,502 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:31:16,504 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:31:16,505 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:31:16,506 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:31:16,507 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:31:16,507 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:31:16,508 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:31:16,509 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:31:16,509 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:31:16,510 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:31:16,512 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:31:16,512 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:31:16,513 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:31:16,514 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:31:16,514 - DEBUG - --- 
2019-11-06 20:31:16,515 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:31:16,517 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:31:16,517 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:31:16,518 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:31:16,520 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:31:16,521 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:31:16,522 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:31:16,523 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:31:16,524 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:31:16,525 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:31:16,526 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:31:16,527 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:31:16,528 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:31:16,529 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:31:16,529 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:31:16,530 - INFO - Indexing file: Manual_Menu_iSeries(2).docx
2019-11-06 20:31:16,543 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:31:16,544 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:31:16,545 - DEBUG - ---Elaborado para
2019-11-06 20:31:16,546 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:31:16,547 - DEBUG - ---Elaborado por
2019-11-06 20:31:16,547 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:31:16,548 - DEBUG - ---Fecha
2019-11-06 20:31:16,549 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:31:16,550 - DEBUG - ---Objetivo
2019-11-06 20:31:16,551 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:31:16,552 - DEBUG - ---Rotación de servicios
2019-11-06 20:31:16,552 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:31:16,553 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:31:16,559 - DEBUG - ---Menú iSeries
2019-11-06 20:31:16,559 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:31:16,561 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:31:16,561 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:31:16,562 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:31:16,562 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:31:16,563 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:31:16,563 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:31:16,564 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:31:16,565 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:31:16,565 - DEBUG - ---Opciones del menú
2019-11-06 20:31:16,566 - DEBUG - ---Contingencia Medellín
2019-11-06 20:31:16,567 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:31:16,568 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:31:16,568 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:31:16,569 - DEBUG - ---Regresar
2019-11-06 20:31:16,569 - DEBUG - ---Salir
2019-11-06 20:31:16,570 - DEBUG - ---Rotación servicios
2019-11-06 20:31:16,571 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:31:16,571 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:31:16,572 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:31:16,573 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:31:16,574 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:31:16,575 - DEBUG - ---Actividades IPL
2019-11-06 20:31:16,576 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:31:16,577 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:31:16,577 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:31:16,578 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:31:16,578 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:31:16,579 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:31:16,579 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:31:16,580 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:31:16,600 - DEBUG - ---

2019-11-06 20:31:16,601 - DEBUG - ---Control de Versiones
2019-11-06 20:31:16,602 - DEBUG - ---

2019-11-06 20:31:16,603 - DEBUG - ---VERIFICAR INTERFACES CORRESPONDIENTES A CADA SERVIDOR DE APLICACION EN AMBAS MAQUINAS ( WAS y WASNL) Y TOMAR EVIDENCIAS DE ELLO
2019-11-06 20:31:16,604 - DEBUG - ---Se deben tomar evidencias de las interfaces correspondientes a cada aplicativo en ambas máquinas. 
2019-11-06 20:31:16,605 - DEBUG - ---Ingresamos a WAS y ejecutamos el comando CFGTCP
2019-11-06 20:31:16,607 - DEBUG - ---Luego seleccionamos la opción 1 del menú (Trabajar con interfaces  TCP/IP)
2019-11-06 20:31:16,609 - DEBUG - ---Nos aparecerá la pantalla con las interfaces.
2019-11-06 20:31:16,611 - DEBUG - ---En la pantalla de las interfaces, presionamos la tecla F11 para ver los estados de las interfaces y la pantalla quedaría así:
2019-11-06 20:31:16,613 - DEBUG - ---Para generar un respaldo podemos usar la opción F6 que llevara la información a nuestro spool el cual podrá ser descargado posteriormente como un archivo de texto.
2019-11-06 20:31:16,614 - DEBUG - ---NOTA: LOS MISMOS PASOS ANTERIORES APLICAN PARA LA MAQUINA DE WASNL
2019-11-06 20:31:16,615 - DEBUG - ---CAMBIAR EL PARÁMETRO  DE INICIO AUTOSTAR  A LAS INTERFACES CORRESPONDIENTES A CADA APLICATIVO.
2019-11-06 20:31:16,617 - DEBUG - ---Se debe ingresar a las máquinas (WAS y WASNL). Luego ejecutamos el siguiente comando donde debemos cambiar el valor del parámetro de AUTOINICIO a *NO donde se requiere que permanezca abajo la interfaz al momento de un IPL y *YES a las interfaces que se requiere que permanezcan activas en la máquina una vez se haga un IPL; esto depende de en qué máquina se dejarán los servicios operando.
2019-11-06 20:31:16,618 - DEBUG - ---Ejemplos:
2019-11-06 20:31:16,619 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*NO)
2019-11-06 20:31:16,620 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*YES)
2019-11-06 20:31:16,621 - DEBUG - ---PTR detener servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:31:16,622 - DEBUG - ---Consideraciones previas
2019-11-06 20:31:16,624 - DEBUG - ---[Si aplica: premisas, riesgos]
2019-11-06 20:31:16,629 - DEBUG - ---Descripción de las actividades
2019-11-06 20:31:16,630 - DEBUG - ---PTR detener servicios Contingencia Medellin - MEDHA 
2019-11-06 20:31:16,631 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:31:16,645 - DEBUG - ---ACTIVIDADES PREVIAS
2019-11-06 20:31:16,646 - DEBUG - ---Tomar pantallas de las interfaces (Punto 1 de este PTR), servidores de aplicaciones y web servers en WAS y WASNL como se indica a continuación:
2019-11-06 20:31:16,647 - DEBUG - ---Validar estado de subsistemas WAS y servidores de aplicaciones websphere:
2019-11-06 20:31:16,648 - DEBUG - ---wrkactjob sbs(QWAS8)
2019-11-06 20:31:16,648 - DEBUG - ---wrkactjob sbs(QWAS85)
2019-11-06 20:31:16,649 - DEBUG - ---Validar estado de subsistema QHTTPSVR y sus webservers:
2019-11-06 20:31:16,650 - DEBUG - ---wrkactjob sbs(QHTTPSVR)
2019-11-06 20:31:16,650 - DEBUG - ---Ejemplo pantallazo subsistema QWAS85:
2019-11-06 20:31:16,652 - DEBUG - ---ACTIVIDADES DURANTE LA CONTINGENCIA
2019-11-06 20:31:16,653 - DEBUG - ---3.1 Detener servidores web y servidores de aplicaciones
2019-11-06 20:31:16,654 - DEBUG - ---Cuando bajen los servicios y se dé la señal, se debe bajar el subsistema QHTTPSVR y una vez esté completamente detenido, proceder a bajar los servidores de aplicación que  tengan conexiones a la máquina MEDELLINET01.
2019-11-06 20:31:16,655 - DEBUG - ---Comandos 
2019-11-06 20:31:16,655 - DEBUG - ---DETENER SERVIDORES WEB:
2019-11-06 20:31:16,656 - DEBUG - ---ENDTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:31:16,657 - DEBUG - ---Se valida que todos los web server estén detenidos con el siguiente comando:
2019-11-06 20:31:16,657 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:31:16,658 - DEBUG - ---DETENER SERVIDORES DE APLICACIONES:
2019-11-06 20:31:16,659 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:31:16,660 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:31:16,661 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:31:16,662 - DEBUG - ---ASADM01
2019-11-06 20:31:16,663 - DEBUG - ---ASADM02
2019-11-06 20:31:16,663 - DEBUG - ---ASADM03
2019-11-06 20:31:16,664 - DEBUG - ---ASADM04
2019-11-06 20:31:16,665 - DEBUG - ---ASADM05
2019-11-06 20:31:16,665 - DEBUG - ---ASADM06
2019-11-06 20:31:16,666 - DEBUG - ---ASALM01
2019-11-06 20:31:16,667 - DEBUG - ---ASALM02
2019-11-06 20:31:16,667 - DEBUG - ---ASBTS01
2019-11-06 20:31:16,668 - DEBUG - ---ASBTS02
2019-11-06 20:31:16,669 - DEBUG - ---ASCAN01
2019-11-06 20:31:16,669 - DEBUG - ---ASCAN02
2019-11-06 20:31:16,670 - DEBUG - ---ASCAN03
2019-11-06 20:31:16,671 - DEBUG - ---ASCAN04
2019-11-06 20:31:16,671 - DEBUG - ---ASMRP01
2019-11-06 20:31:16,672 - DEBUG - ---ASMRP02
2019-11-06 20:31:16,673 - DEBUG - ---ASPAC01
2019-11-06 20:31:16,673 - DEBUG - ---ASPAC02
2019-11-06 20:31:16,674 - DEBUG - ---ASRIN01
2019-11-06 20:31:16,675 - DEBUG - ---ASRIN02
2019-11-06 20:31:16,676 - DEBUG - ---ASRSA01
2019-11-06 20:31:16,676 - DEBUG - ---ASRSA02
2019-11-06 20:31:16,677 - DEBUG - ---ASTAC01
2019-11-06 20:31:16,678 - DEBUG - ---ASTAC02
2019-11-06 20:31:16,678 - DEBUG - ---ASWAP01
2019-11-06 20:31:16,679 - DEBUG - ---ASWAP02
2019-11-06 20:31:16,680 - DEBUG - ---ASWSE01
2019-11-06 20:31:16,680 - DEBUG - ---ASWSE02
2019-11-06 20:31:16,681 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:31:16,682 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:31:16,683 - DEBUG - ---ASAPP01
2019-11-06 20:31:16,684 - DEBUG - ---ASAPP02
2019-11-06 20:31:16,684 - DEBUG - ---ASAPP03
2019-11-06 20:31:16,685 - DEBUG - ---ASAPP04
2019-11-06 20:31:16,686 - DEBUG - ---ASSVP01
2019-11-06 20:31:16,687 - DEBUG - ---ASSVP02
2019-11-06 20:31:16,688 - DEBUG - ---ASSVP03
2019-11-06 20:31:16,688 - DEBUG - ---ASSVP04
2019-11-06 20:31:16,689 - DEBUG - ---ASSVE01
2019-11-06 20:31:16,690 - DEBUG - ---ASSVE02
2019-11-06 20:31:16,691 - DEBUG - ---ASSVE03
2019-11-06 20:31:16,692 - DEBUG - ---ASSVE04
2019-11-06 20:31:16,693 - DEBUG - ---Luego, se debe verificar que todos los web server queden detenidos, con el siguiente comando:
2019-11-06 20:31:16,694 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:31:16,694 - DEBUG - ---NOTA: No deben de aparecer trabajos en el subsistema, como aparece en la imagen, una vez los web server queden detenidos.
2019-11-06 20:31:16,696 - DEBUG - ---PTR activar servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:31:16,697 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:31:16,699 - DEBUG - ---4.1 Iniciar servicios
2019-11-06 20:31:16,700 - DEBUG - ---PASO 1 SUBIR SERVIDORES DE APLICACIONES:
2019-11-06 20:31:16,701 - DEBUG - ---Cuando comience a subir y se dé la señal, se deben iniciar los servidores de aplicaciones 
2019-11-06 20:31:16,702 - DEBUG - ---Comandos 
2019-11-06 20:31:16,702 - DEBUG - ---INICIAR SERVIDORES DE APLICACIONES:
2019-11-06 20:31:16,703 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:31:16,705 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:31:16,707 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:31:16,708 - DEBUG - ---ASADM01
2019-11-06 20:31:16,708 - DEBUG - ---ASADM02
2019-11-06 20:31:16,709 - DEBUG - ---ASADM03
2019-11-06 20:31:16,710 - DEBUG - ---ASADM04
2019-11-06 20:31:16,710 - DEBUG - ---ASADM05
2019-11-06 20:31:16,711 - DEBUG - ---ASADM06
2019-11-06 20:31:16,712 - DEBUG - ---ASALM01
2019-11-06 20:31:16,712 - DEBUG - ---ASALM02
2019-11-06 20:31:16,713 - DEBUG - ---ASBTS01
2019-11-06 20:31:16,714 - DEBUG - ---ASBTS02
2019-11-06 20:31:16,715 - DEBUG - ---ASCAN01
2019-11-06 20:31:16,715 - DEBUG - ---ASCAN02
2019-11-06 20:31:16,716 - DEBUG - ---ASCAN03
2019-11-06 20:31:16,717 - DEBUG - ---ASCAN04
2019-11-06 20:31:16,717 - DEBUG - ---ASMRP01
2019-11-06 20:31:16,718 - DEBUG - ---ASMRP02
2019-11-06 20:31:16,719 - DEBUG - ---ASPAC01
2019-11-06 20:31:16,719 - DEBUG - ---ASPAC02
2019-11-06 20:31:16,720 - DEBUG - ---ASRIN01
2019-11-06 20:31:16,721 - DEBUG - ---ASRIN02
2019-11-06 20:31:16,722 - DEBUG - ---ASRSA01
2019-11-06 20:31:16,722 - DEBUG - ---ASRSA02
2019-11-06 20:31:16,723 - DEBUG - ---ASTAC01
2019-11-06 20:31:16,724 - DEBUG - ---ASTAC02
2019-11-06 20:31:16,724 - DEBUG - ---ASWAP01
2019-11-06 20:31:16,725 - DEBUG - ---ASWAP02
2019-11-06 20:31:16,726 - DEBUG - ---ASWSE01
2019-11-06 20:31:16,726 - DEBUG - ---ASWSE02
2019-11-06 20:31:16,727 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:31:16,728 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:31:16,729 - DEBUG - ---ASAPP01
2019-11-06 20:31:16,730 - DEBUG - ---ASAPP02
2019-11-06 20:31:16,730 - DEBUG - ---ASAPP03
2019-11-06 20:31:16,731 - DEBUG - ---ASAPP04
2019-11-06 20:31:16,732 - DEBUG - ---ASSVP01
2019-11-06 20:31:16,732 - DEBUG - ---ASSVP02
2019-11-06 20:31:16,733 - DEBUG - ---ASSVP03
2019-11-06 20:31:16,734 - DEBUG - ---ASSVP04
2019-11-06 20:31:16,735 - DEBUG - ---ASSVE01
2019-11-06 20:31:16,735 - DEBUG - ---ASSVE02
2019-11-06 20:31:16,736 - DEBUG - ---ASSVE03
2019-11-06 20:31:16,737 - DEBUG - ---ASSVE04
2019-11-06 20:31:16,739 - DEBUG - ---Validar que las interfaces suban donde deben subir en WAS y WASNL (Luego de que se ejecute la activación por iSeries).
2019-11-06 20:31:16,740 - DEBUG - ---Validar que los app server suban bien
2019-11-06 20:31:16,740 - DEBUG - ---Revisar los logs para garantizar que los servidores subieron bien y no colgaron hebras o no subieron (validar errores o hebras colgadas “hung”).
2019-11-06 20:31:16,741 - DEBUG - ---Debe aparecer Mensaje: open for e-business
2019-11-06 20:31:16,743 - DEBUG - ---Hacer estas verificaciones en el orden de prioridad de la tabla que se encuentra al final del documento (PRIORIDAD DE LOS SERVICIOS)
2019-11-06 20:31:16,744 - DEBUG - ---Es necesario iniciar RSA primero para que sincronice los token con BOLE.
2019-11-06 20:31:16,745 - DEBUG - ---APLICACIONES
2019-11-06 20:31:16,746 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:31:16,747 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:31:16,748 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:31:16,749 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:31:16,750 - DEBUG - ---PASO 2 SUBIR QHTTPSVR (NO PROCEDER HASTA QUE SUBAN SERVICIOS EN ISERIES, QWAS8 y QWAS85 ARRIBA):
2019-11-06 20:31:16,751 - DEBUG - ---QHTTPSERVER - Luego de que hayan subido, mínimo los servidores de aplicaciones de SVE, SVP y APP (para no encolar)
2019-11-06 20:31:16,752 - DEBUG - ---Para subir los servidores web (HTTP server) se tiene el comando 
2019-11-06 20:31:16,753 - DEBUG - ---STRTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:31:16,754 - DEBUG - ---Validar con las pantallas tomadas inicialmente que si queden activos los que deben quedar. Los que no, detenerlos (4, F4)
2019-11-06 20:31:16,754 - DEBUG - ---IMPORTANTE: Revisar que no suba el IWADFT, APACHEDFT para que no cree conflicto con el puerto 80 para el web Server ADMWS21180.
2019-11-06 20:31:16,756 - DEBUG - ---PRIORIDAD DE LOS SERVICIOS
2019-11-06 20:31:16,757 - DEBUG - ---RSA
2019-11-06 20:31:16,757 - DEBUG - ---SVE
2019-11-06 20:31:16,758 - DEBUG - ---SVP
2019-11-06 20:31:16,759 - DEBUG - ---APP
2019-11-06 20:31:16,759 - DEBUG - ---FCN y PSE
2019-11-06 20:31:16,760 - DEBUG - ---WAP
2019-11-06 20:31:16,761 - DEBUG - ---RIN
2019-11-06 20:31:16,762 - DEBUG - ---PAC
2019-11-06 20:31:16,762 - DEBUG - ---TAC
2019-11-06 20:31:16,763 - DEBUG - ---PCC
2019-11-06 20:31:16,764 - DEBUG - ---SVS
2019-11-06 20:31:16,764 - DEBUG - ---Resto de servicios.
2019-11-06 20:31:16,765 - DEBUG - ---La documentación la encontramos en el archivo catalogo_WAS_iSeries.xlsx
2019-11-06 20:31:16,767 - INFO - Indexing file: Banistmo PTR_WAS SBBANBSM01V.docx
2019-11-06 20:31:16,779 - DEBUG - ---

2019-11-06 20:31:16,779 - DEBUG - ---Control de Versiones
2019-11-06 20:31:16,780 - DEBUG - ---

2019-11-06 20:31:16,780 - DEBUG - ---Nombre del PTR
2019-11-06 20:31:16,781 - DEBUG - ---Consideraciones previas
2019-11-06 20:31:16,781 - DEBUG - ---La máquina Windows inicia el servidor de aplicaciones por medio de un servicio, sin embargo, el servidor de aplicaciones tiene la seguridad habilitada y el controlador de dominio (LDAP) al que apunta es de Producción, el cual es diferente al DR.
2019-11-06 20:31:16,782 - DEBUG - ---Se deben ejecutar algunas acciones para modificar esta configuración. 
2019-11-06 20:31:16,783 - DEBUG - ---Descripción de las actividades
2019-11-06 20:31:16,784 - DEBUG - ---Terminar el servicio de WAS
2019-11-06 20:31:16,784 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:31:16,785 - DEBUG - ---Finalizar el servicio de WAS, si se intenta detener por medio del administrador de servicios este se quedará en el estado stopping.
2019-11-06 20:31:16,786 - DEBUG - ---Por lo tanto, es necesario terminar el proceso. Se abre el task manager, clic en Show process from all users.
2019-11-06 20:31:16,787 - DEBUG - ---Se buscan los procesos WASService.exe y java.exe y clic en End Process
2019-11-06 20:31:16,788 - DEBUG - ---Actualizar el controlador de dominio.
2019-11-06 20:31:16,789 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:31:16,789 - DEBUG - ---Sacar un respaldo del archivo security.xml
2019-11-06 20:31:16,790 - DEBUG - ---Editar el archivo security.xml ubicado en la ruta:
2019-11-06 20:31:16,791 - DEBUG - ---C:\IBM\WebSphere\AppServer\profiles\SMG3\config\cells\SBBANBSM01VNode02Cell\
2019-11-06 20:31:16,791 - DEBUG - ---Se debe reemplazar la IP 10.5.133.4 por 10.61.178.10
2019-11-06 20:31:16,793 - DEBUG - ---Iniciar los servicios de WAS
2019-11-06 20:31:16,793 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:31:16,794 - DEBUG - ---Iniciar el servicio IBM WebSphere Application Server V8.5 - SBBANBSM01VNode02
2019-11-06 20:31:16,795 - DEBUG - ---Ingresar a la consola administrativa para verificar que los servicios se encuentren iniciados. 
2019-11-06 20:31:16,797 - INFO - Indexing file: Paso a paso Start-Stop FATCA-jar.docx
2019-11-06 20:31:16,803 - DEBUG - ---PASO A PASO START-STOP FATCA - JAR
2019-11-06 20:31:16,804 - DEBUG - ---Inicio del aplicativo MonitorFATCA_JOB
2019-11-06 20:31:16,805 - DEBUG - ---Ejecución del aplicativo MonitorFATCA_JOB
2019-11-06 20:31:16,806 - DEBUG - ---Consideraciones
2019-11-06 20:31:16,807 - DEBUG - ---Ruta Base
2019-11-06 20:31:16,808 - DEBUG - ---

2019-11-06 20:31:16,808 - DEBUG - ---Para iniciar la aplicación se debe ejecutar el archivo .SH encargado de iniciar la aplicación. Para esto nos ubicamos en la ruta:
2019-11-06 20:31:16,809 - DEBUG - ---/nas/htsl-fat512/bin/
2019-11-06 20:31:16,810 - DEBUG - ---Luego, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:31:16,810 - DEBUG - ---./start_fatca.sh
2019-11-06 20:31:16,811 - DEBUG - ---Para validar si la aplicación JOB se está ejecutando, se puede ejecutar el siguiente comando en la consola:
2019-11-06 20:31:16,811 - DEBUG - ---ps -ef | grep co.com.tata.MonitorStartJob
2019-11-06 20:31:16,812 - DEBUG - ---Si no se está ejecutando el aplicativo, se muestra un mensaje parecido al siguiente:
2019-11-06 20:31:16,812 - DEBUG - ---Si el programa está arriba, se debe ver un mensaje parecido al siguiente:
2019-11-06 20:31:16,813 - DEBUG - ---

2019-11-06 20:31:16,814 - DEBUG - ---Detener el aplicativo MonitorFATCA_JOB
2019-11-06 20:31:16,814 - DEBUG - ---Datos varios
2019-11-06 20:31:16,815 - DEBUG - ---Para detener el aplicativo FATCA_JOB.jar, debemos ingresar a la ruta:
2019-11-06 20:31:16,815 - DEBUG - ---/nas/htsl-fat512/bin/flag/
2019-11-06 20:31:16,816 - DEBUG - ---En esta ruta, se debe encontrar el archivo KILLME.txt. 
2019-11-06 20:31:16,816 - DEBUG - ---Este archivo debe ser eliminado por completo del FileSystem.
2019-11-06 20:31:16,817 - DEBUG - ---Para eliminar el archivo, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:31:16,817 - DEBUG - ---rm KILLME.txt
2019-11-06 20:31:16,818 - DEBUG - ---Debemos esperar al menos 2 minutos mientras el programa cierra todos los hilos de ejecución que se encuentren arriba.
2019-11-06 20:31:16,818 - DEBUG - ---Contacto: Diana Lopez Parra (dilparr@bancolombia.com.co)
2019-11-06 20:31:16,819 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:31:16,835 - DEBUG - ---Manual de Operaciones
2019-11-06 20:31:16,836 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:31:16,839 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:31:16,843 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:31:16,846 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:31:16,847 - DEBUG - ---DESARROLLO
2019-11-06 20:31:16,849 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:16,851 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,852 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:16,853 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:31:16,855 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:16,856 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:31:16,857 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:16,860 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:16,863 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,866 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:16,868 - DEBUG - ---

2019-11-06 20:31:16,869 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:31:16,871 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:16,873 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,875 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:16,876 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:31:16,877 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:16,879 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:31:16,880 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:16,884 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:16,886 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,888 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:16,890 - DEBUG - ---

2019-11-06 20:31:16,892 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:31:16,893 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:16,895 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:31:16,897 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:16,898 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:31:16,899 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:31:16,900 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:31:16,902 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:16,916 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:31:16,918 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,921 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:16,926 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:31:16,928 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:16,930 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,932 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:31:16,933 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:16,934 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:31:16,934 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:31:16,935 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:16,936 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:31:16,938 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:31:16,940 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:16,942 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:31:16,943 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:31:16,943 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:31:16,944 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:31:16,945 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:31:16,947 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:31:16,948 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:31:16,950 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:16,953 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:16,956 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,960 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:16,961 - DEBUG - ---

2019-11-06 20:31:16,963 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:31:16,965 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:16,967 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:16,969 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:31:16,970 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:31:16,971 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:31:16,973 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:31:16,975 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:31:16,976 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:31:16,977 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:31:16,978 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:31:16,980 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:31:16,981 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:31:16,984 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:31:16,986 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:31:16,993 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:31:16,997 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:31:17,000 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:31:17,002 - DEBUG - ---

2019-11-06 20:31:17,003 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:31:17,005 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:31:17,008 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:31:17,010 - DEBUG - ---AW0939
2019-11-06 20:31:17,011 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:31:17,012 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:31:17,013 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:31:17,014 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:31:17,015 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:31:17,017 - DEBUG - ---PASOS
2019-11-06 20:31:17,018 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:31:17,021 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:31:17,025 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:31:17,029 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:31:17,032 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:31:17,048 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:31:17,051 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:31:17,053 - DEBUG - ---

2019-11-06 20:31:17,055 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:31:17,060 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:31:17,063 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:31:17,066 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:31:17,069 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:31:17,074 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:31:17,075 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER1.docx
2019-11-06 20:31:17,080 - DEBUG - ---Procedimiento para el reinicio CLUSTER1 Ventas Digitales Produccion
2019-11-06 20:31:17,080 - DEBUG - ---Cuando soliciten reinicio del CLUSTER1, Se deben ejecutar las siguientes actividades:
2019-11-06 20:31:17,081 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:31:17,082 - DEBUG - ---Detener  los APPSERVERs del CLUSTER1 
2019-11-06 20:31:17,082 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:31:17,082 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:31:17,083 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:31:17,084 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:31:17,084 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:31:17,085 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:31:17,085 - DEBUG - ---disableAllApps()
2019-11-06 20:31:17,086 - DEBUG - ---save()
2019-11-06 20:31:17,086 - DEBUG - ---Subir los APPSERVERs del CLUSTER1
2019-11-06 20:31:17,087 - DEBUG - ---Subir la aplicacion
2019-11-06 20:31:17,087 - DEBUG - ---AW1128001_VTDAPI_COMMONMensajesError
2019-11-06 20:31:17,088 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:31:17,089 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:31:17,092 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:31:17,093 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:31:17,094 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:31:17,096 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:31:17,097 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:31:17,098 - DEBUG - ---enableAllApps()
2019-11-06 20:31:17,099 - DEBUG - ---save()
2019-11-06 20:31:17,100 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER2.docx
2019-11-06 20:31:17,108 - DEBUG - ---Procedimiento para el reinicio CLUSTER2 Ventas Digitales Produccion
2019-11-06 20:31:17,110 - DEBUG - ---Cuando soliciten reinicio del CLUSTER2, Se deben ejecutar las siguientes actividades:
2019-11-06 20:31:17,111 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:31:17,112 - DEBUG - ---Detener  los APPSERVERs del CLUSTER2
2019-11-06 20:31:17,113 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:31:17,114 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:31:17,115 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:31:17,116 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:31:17,117 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:31:17,119 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:31:17,120 - DEBUG - ---disableAllApps()
2019-11-06 20:31:17,121 - DEBUG - ---save()
2019-11-06 20:31:17,122 - DEBUG - ---Subir los APPSERVERs del CLUSTER2
2019-11-06 20:31:17,124 - DEBUG - ---Subir la aplicacion
2019-11-06 20:31:17,125 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:31:17,126 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:31:17,127 - DEBUG - ---AW0937001_VTDFrontAutenticacion
2019-11-06 20:31:17,128 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:31:17,129 - DEBUG - ---PMO27262_API_PreaprobadoTDC
2019-11-06 20:31:17,130 - DEBUG - ---PMO27262_API_InfoUsuario
2019-11-06 20:31:17,131 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:31:17,132 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:31:17,133 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:31:17,134 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:31:17,135 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:31:17,136 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:31:17,137 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:31:17,138 - DEBUG - ---enableAllApps()
2019-11-06 20:31:17,139 - DEBUG - ---save()
2019-11-06 20:31:17,141 - INFO - Indexing file: TD_Arquitectura_Ventas_Digitales_v1.1.docx
2019-11-06 20:31:17,198 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:31:17,200 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:31:17,204 - DEBUG - ---Reto 3 – Ventas Digitales
2019-11-06 20:31:17,205 - DEBUG - ---PMO25445
2019-11-06 20:31:17,220 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:31:17,224 - DEBUG - ---Control del Documento	3
2019-11-06 20:31:17,226 - DEBUG - ---Referencias	4
2019-11-06 20:31:17,227 - DEBUG - ---1.	Contextualización y Alcance de la Solución	5
2019-11-06 20:31:17,228 - DEBUG - ---2.	Vista funcional de la solución	7
2019-11-06 20:31:17,230 - DEBUG - ---2.1.	Componentes de la solución y relaciones de uso	7
2019-11-06 20:31:17,231 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito	8
2019-11-06 20:31:17,232 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión	9
2019-11-06 20:31:17,233 - DEBUG - ---Release 3 – Créditos Online (Motor)	10
2019-11-06 20:31:17,234 - DEBUG - ---2.1.1.	Detalle de componentes involucrados en Reportería (Visualización)	11
2019-11-06 20:31:17,235 - DEBUG - ---2.1.2.	Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos	13
2019-11-06 20:31:17,237 - DEBUG - ---2.1.3.	Detalle de componentes involucrados en la solución para Precalculados	14
2019-11-06 20:31:17,238 - DEBUG - ---2.1.4.	Descomposición funcional	15
2019-11-06 20:31:17,241 - DEBUG - ---2.1.5.	Validación con Expertos de la VSTI	20
2019-11-06 20:31:17,243 - DEBUG - ---2.2.	Interacción de Componentes	20
2019-11-06 20:31:17,244 - DEBUG - ---2.3.	Interfaces de la solución	25
2019-11-06 20:31:17,245 - DEBUG - ---3.	Vista física de la solución	25
2019-11-06 20:31:17,246 - DEBUG - ---3.1.	Diagrama de componentes técnicos	25
2019-11-06 20:31:17,247 - DEBUG - ---3.2.	Continuidad Tecnológica	27
2019-11-06 20:31:17,248 - DEBUG - ---3.2.1.	Esquema de Disponibilidad Local	27
2019-11-06 20:31:17,250 - DEBUG - ---3.2.2.	Esquema de Disponibilidad Remota	28
2019-11-06 20:31:17,251 - DEBUG - ---3.3.	Monitoreo de la solución	28
2019-11-06 20:31:17,252 - DEBUG - ---4.	Decisiones de Arquitectura	29
2019-11-06 20:31:17,263 - DEBUG - ---	
2019-11-06 20:31:17,264 - DEBUG - ---
Control del Documento
2019-11-06 20:31:17,267 - DEBUG - ---

2019-11-06 20:31:17,268 - DEBUG - ---Referencias
2019-11-06 20:31:17,269 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:31:17,275 - DEBUG - ---

2019-11-06 20:31:17,278 - DEBUG - ---Contextualización y Alcance de la Solución
2019-11-06 20:31:17,281 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:31:17,283 - DEBUG - ---El tercer reto que se afrontará dentro del programa será el de Ventas Digitales, el cual en su primera fase, tiene el siguiente alcance:
2019-11-06 20:31:17,286 - DEBUG - ---Con este reto se pretende darle solución a dos necesidades macro que actualmente tiene el banco:
2019-11-06 20:31:17,288 - DEBUG - ---Crear un nuevo portal de ventas digitales que habilite una experiencia de usuario enriquecedora a nuestros clientes.
2019-11-06 20:31:17,291 - DEBUG - ---Habilitar el portal para ventas que sean 100% en línea, en donde nuestros clientes disfruten de una experiencia de principio a fin sin necesidad de desplazarse a una sucursal física.  
2019-11-06 20:31:17,294 - DEBUG - ---El presente documento contempla el siguiente alcance:
2019-11-06 20:31:17,297 - DEBUG - ---El alcance adicional se realizará de manera incremental e iterativa.
2019-11-06 20:31:17,313 - DEBUG - ---Nota aclaratoria: como decisión del proyecto, no se va a realizar la migración de las actuales pantallas de solicitud de productos (seguros, tarjeta de crédito y libre inversión) que existen en Bancolombia a un Clic.
2019-11-06 20:31:17,318 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:31:17,321 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:31:17,325 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso de acuerdo con los requisitos de negocio planteados para la solución
2019-11-06 20:31:17,328 - DEBUG - ---

2019-11-06 20:31:17,330 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito
2019-11-06 20:31:17,337 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión
2019-11-06 20:31:17,342 - DEBUG - ---Release 3 – Créditos Online (Motor)
2019-11-06 20:31:17,345 - DEBUG - ---A continuación se detallan por medio de diagramas de componentes algunas funcionalidades que se tienen en la solución:
2019-11-06 20:31:17,347 - DEBUG - ---Detalle de componentes involucrados en Reportería (Visualización)
2019-11-06 20:31:17,349 - DEBUG - ---Los siguientes diagramas muestran la solución objetivo y transitoria para la visualización de la información de la base de datos de ventas digitales. 
2019-11-06 20:31:17,350 - DEBUG - ---Se hace necesario un modelo transitorio debido a que en Bancolombia aun no contamos con la herramienta Flume con gobierno desde TI. Esto se espera suceda en la segunda mitad del 2018.
2019-11-06 20:31:17,352 - DEBUG - ---Objetivo: en esta solución se transportará la información desde la base de datos de ventas digitales directamente hacia la LZ, esto a través de unos procesos micro-batch con la herramienta Flume. 
2019-11-06 20:31:17,353 - DEBUG - ---La explotación de la información se puede hacer directamente en la LZ con alguna de sus herramientas o a través de SAS o SAS Web Report Studio.
2019-11-06 20:31:17,359 - DEBUG - ---Transitorio: en esta solución se hace necesario involucrar una base de datos intermedia que servirá para ir descargando la información (cada hora aproximadamente) y mediante un proceso batch se llevará el histórico a la LZ. 
2019-11-06 20:31:17,360 - DEBUG - ---La explotación de la información se realizará mediante las herramientas propias de la LZ, SAS, Modeler o para algunos usuarios que no cuentan con skill o licencia se construirá un reporte en SAP BO.
2019-11-06 20:31:17,363 - DEBUG - ---

2019-11-06 20:31:17,364 - DEBUG - ---Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos
2019-11-06 20:31:17,366 - DEBUG - ---Al ser una solución nueva para Bancolombia, el siguiente diagrama muestra los componentes involucrados en la solución para la administración de tasas para créditos.
2019-11-06 20:31:17,369 - DEBUG - ---

2019-11-06 20:31:17,370 - DEBUG - ---Detalle de componentes involucrados en la solución para Precalculados
2019-11-06 20:31:17,372 - DEBUG - ---El siguiente diagrama muestra los componentes involucrados en la solución de precalculados desde que se generan los preaprobados hasta que quedan disponibles para ser consultados o actualizados vía capa de integración.
2019-11-06 20:31:17,377 - DEBUG - ---

2019-11-06 20:31:17,378 - DEBUG - ---Descomposición funcional
2019-11-06 20:31:17,379 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:31:17,385 - DEBUG - ---Validación con Expertos de la VSTI
2019-11-06 20:31:17,388 - DEBUG - ---Interacción de Componentes 
2019-11-06 20:31:17,389 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:31:17,390 - DEBUG - ---

2019-11-06 20:31:17,391 - DEBUG - ---Autenticación de clientes
2019-11-06 20:31:17,392 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la autenticación de los clientes dentro del portal de ventas digitales. Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:31:17,396 - DEBUG - ---Consulta de preaprobados
2019-11-06 20:31:17,397 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la consulta de los productos preaprobados de un cliente por cualquiera de los canales habilitados (SVP, APP y Portal de Ventas).
2019-11-06 20:31:17,400 - DEBUG - ---Carga de preaprobados
2019-11-06 20:31:17,401 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la carga de la base de datos transaccional de precalculados.
2019-11-06 20:31:17,403 - DEBUG - ---Venta de preaprobados TDC
2019-11-06 20:31:17,405 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes cuando se vende un producto preaprobado de Tarjeta de Crédito.
2019-11-06 20:31:17,408 - DEBUG - ---Replicar Información Solicitudes
2019-11-06 20:31:17,409 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para la replicación de la información de solicitudes desde la base de datos en IBM Bluemix hasta la base de datos intermedia y su posterior histórico en la LZ.
2019-11-06 20:31:17,410 - DEBUG - ---Nota: la periodicidad de ejecución de este proceso se propone sea cada hora de 6 a.m. a 6 p.m.
2019-11-06 20:31:17,413 - DEBUG - ---SSO entre canales
2019-11-06 20:31:17,414 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar el single sign on de un cliente desde la SVP/APP hacia el portal de ventas.3 Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:31:17,417 - DEBUG - ---Venta de preaprobados de Libre Inversión y CrediAgil
2019-11-06 20:31:17,418 - DEBUG - ---Venta de créditos con aprobación en línea.
2019-11-06 20:31:17,420 - DEBUG - ---Interfaces de la solución
2019-11-06 20:31:17,421 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:31:17,423 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:31:17,425 - DEBUG - ---<Enlace>
2019-11-06 20:31:17,428 - DEBUG - ---Vista física de la solución  
2019-11-06 20:31:17,431 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:31:17,435 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:31:17,437 - DEBUG - --- 
2019-11-06 20:31:17,439 - DEBUG - ---

2019-11-06 20:31:17,459 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:31:17,463 - DEBUG - ---En esta sección se muestra el diseño de los esquemas de disponibilidad local y remota desde la perspectiva de la necesidad de la solución y únicamente para componentes nuevos dentro de la arquitectura del banco. Los componentes existentes ya cuentan con su esquema de continuidad definido.
2019-11-06 20:31:17,467 - DEBUG - --- Esquema de Disponibilidad Local
2019-11-06 20:31:17,470 - DEBUG - ---Aplicación Administración de Tasas para Créditos
2019-11-06 20:31:17,473 - DEBUG - ---Base de datos de Preaprobados
2019-11-06 20:31:17,477 - DEBUG - ---Autenticación, manejo de sesión y Tx de consulta de preaprobados para la SVP
2019-11-06 20:31:17,479 - DEBUG - ---Esquema de Disponibilidad Remota
2019-11-06 20:31:17,481 - DEBUG - ---De acuerdo a la definición entregada por Riesgos y Continuidad del negocio en donde se indica que el Portal de Ventas al ser un canal alterno no está incluido en el BIA y por lo tanto no se requiere tener un esquema de disponibilidad remota (DR).
2019-11-06 20:31:17,486 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:31:17,490 - DEBUG - ---A continuación se describen de manera general, el monitoreo que deben tener los componentes que son nuevos dentro de la solución y que se encuentren en infraestructura nueva.
2019-11-06 20:31:17,495 - DEBUG - ---   
2019-11-06 20:31:17,498 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:31:17,501 - INFO - Indexing file: acceso.txt
2019-11-06 20:31:17,502 - DEBUG - ---Softlayer (Abrir con el internet explorer)
https://vpn.hou02.softlayer.com
Usuario:   ejbetanc     password:  Y6W6iY2&
Usuario : vcardona / Vcardona123*

Url consola was producción
https://10.121.219.153:10001/ibm/console/logon.jsp
user: 
wasadminb1    
pass:  
wasadminb1//* 


SSH
10.121.219.153
10.77.251.216

wasadmin
B1CAdminWAS
2019-11-06 20:31:17,502 - INFO - Indexing file: Procedimiento reinicio CLUSTER2 Ventas Digitales Produccion.docx
2019-11-06 20:31:17,509 - DEBUG - ---Instructivo para realizar reinicio CLUSTER2 de ventas Digitales
2019-11-06 20:31:17,510 - DEBUG - ---Detener las aplicaciones, para ello desde la consola WAS ir a la ruta Applications - Application Types - WebSphere enterprise applications y buscar las aplicaciones 
2019-11-06 20:31:17,511 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:31:17,511 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:31:17,512 - DEBUG - ---El Cluser2 está compuesto por los APPSERVER ASPDNB1C03 y ASPDNB1C04, para continuar con el proceso de reinicio se debe detener  primero el APPSERVER ASPDNB1C03
2019-11-06 20:31:17,513 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:31:17,513 - DEBUG - ---En el servidor 10.73.29.83 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:31:17,514 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C03 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:31:17,515 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C03
2019-11-06 20:31:17,515 - DEBUG - ---Despues de validar que suba el APPSERVER ASPDNB1C03, se procede a detener el APPSERVER ASPDNB1C04
2019-11-06 20:31:17,516 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:31:17,517 - DEBUG - ---En el servidor 10.170.187.21 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:31:17,518 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C04 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:31:17,519 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C04
2019-11-06 20:31:17,520 - INFO - Indexing file: TD_Arquitectura_Mercado_Libre_Divisas_Personas_v1.3.docx
2019-11-06 20:31:17,571 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:31:17,573 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:31:17,576 - DEBUG - ---Reto Mercado Libre de Divisas
2019-11-06 20:31:17,580 - DEBUG - ---	
2019-11-06 20:31:17,581 - DEBUG - ---

2019-11-06 20:31:17,583 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:31:17,584 - DEBUG - ---
Control del Documento
2019-11-06 20:31:17,587 - DEBUG - ---

2019-11-06 20:31:17,587 - DEBUG - ---Referencias
2019-11-06 20:31:17,590 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:31:17,593 - DEBUG - ---

2019-11-06 20:31:17,594 - DEBUG - ---Contextualización de la Solución
2019-11-06 20:31:17,595 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:31:17,596 - DEBUG - ---El primer reto que se afrontará dentro del programa será el de Mercado Libre de Divisas, el cual pretende digitalizar a través de la SVP el proceso de compra y venta de divisas (solo formulario cambiario cinco) para personas naturales y pymes, este proceso comúnmente llamado envío y recepción de giros interbancarios a hoy se realiza personalmente a través de la sucursal física o de la mesa de dinero (telefónicamente). A continuación se presenta un diagrama conceptual que ilustra a alto nivel el proceso actual desde el punto de vista del cliente:
2019-11-06 20:31:17,599 - DEBUG - ---Con la digitalización de este proceso se pretende darle solución básicamente a dos aspectos:
2019-11-06 20:31:17,600 - DEBUG - ---Necesidad de desplazamiento a la sucursal física y la firma de declaraciones de cambio: actualmente, independiente del canal de negociación, para realizar el cumplimiento de la operación, el cliente se debe desplazar hasta la sucursal y radicar los documentos declaración de cambio y carta de instrucciones.
2019-11-06 20:31:17,601 - DEBUG - ---Alta congestión de mesa de dinero: a hoy un alto porcentaje de las operaciones entran directamente a la mesa, bien sea porque los clientes se sienten mejor asesorados o porque desde las oficinas, por desconocimiento, los remiten a la mesa, ocasionando así que se pierdan muchas veces mejores negocios por lo tiempos de espera en la mesa.
2019-11-06 20:31:17,604 - DEBUG - ---Alcance de la solución
2019-11-06 20:31:17,605 - DEBUG - ---La presente solución tiene como alcance los siguientes aspectos:
2019-11-06 20:31:17,607 - DEBUG - ---Consulta de histórico de transferencias internacionales recibidas.
2019-11-06 20:31:17,608 - DEBUG - ---Transacción de recepción manual de transferencias internacionales por la SVP, con abono a cuenta de ahorros o corriente.
2019-11-06 20:31:17,609 - DEBUG - ---Administración de la inscripción al servicio de abono automático para las transferencias internacionales recibidas.
2019-11-06 20:31:17,610 - DEBUG - ---Modificación de rutina de abono automático con beneficio de tasa digital.
2019-11-06 20:31:17,611 - DEBUG - ---Consulta de condiciones de negociación y tasa digital.
2019-11-06 20:31:17,612 - DEBUG - ---Alertas de recepción de transferencias internacionales.
2019-11-06 20:31:17,612 - DEBUG - ---Inscripción y administración de cuentas en el exterior.
2019-11-06 20:31:17,613 - DEBUG - ---Transacción de envío de transferencias internacionales por la SVP, con debito a cuenta ahorros o corriente.
2019-11-06 20:31:17,614 - DEBUG - ---Alertas de recibo y envío de transferencias internacionales.
2019-11-06 20:31:17,615 - DEBUG - ---Relación de la solución con otras Iniciativas 
2019-11-06 20:31:17,617 - DEBUG - ---Restricciones
2019-11-06 20:31:17,618 - DEBUG - ---Las siguientes son las restricciones de negocio y técnicas consideradas en el diseño de la arquitectura de la solución:   
2019-11-06 20:31:17,620 - DEBUG - ---

2019-11-06 20:31:17,621 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:31:17,623 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:31:17,625 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso a un alto nivel de acuerdo con los requisitos de negocio planteados para la solución.
2019-11-06 20:31:17,627 - DEBUG - ---

2019-11-06 20:31:17,629 - DEBUG - ---Actores de la solución
2019-11-06 20:31:17,630 - DEBUG - ---Se relacionan los actores que interactúan con la solución y su descripción desde la perspectiva del rol que desempeña:
2019-11-06 20:31:17,632 - DEBUG - ---  Puntos de acceso   
2019-11-06 20:31:17,633 - DEBUG - ---Los medios a través de los cuales los actores acceden a las funcionalidades de la solución son relacionados en la siguiente tabla:
2019-11-06 20:31:17,634 - DEBUG - ---   
2019-11-06 20:31:17,635 - DEBUG - ---Descomposición funcional
2019-11-06 20:31:17,636 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, su estado y quien es el dueño de dicho elemento, al igual que la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:31:17,638 - DEBUG - ---Requisitos Técnicos (RT)
2019-11-06 20:31:17,641 - DEBUG - ---Para la presente solución no se requiere de requisitos técnicos adicionales a los planteados en las responsabilidades de cada uno de los componentes y en las historias de usuario creadas por los usuarios.
2019-11-06 20:31:17,642 - DEBUG - ---Interacción de Componentes (Escenarios de uso de la solución)
2019-11-06 20:31:17,644 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:31:17,645 - DEBUG - ---

2019-11-06 20:31:17,646 - DEBUG - ---Gestión Abono Automático
2019-11-06 20:31:17,647 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario  de gestión de abono automático (inscripción, modificación y retiro) y la interacción entre ellos: 
2019-11-06 20:31:17,649 - DEBUG - ---Transferencias recibidas desde el exterior
2019-11-06 20:31:17,650 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de recepción manual de una transferencia desde el exterior y la interacción entre ellos: 
2019-11-06 20:31:17,652 - DEBUG - ---Abono Automático
2019-11-06 20:31:17,653 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de la ejecución de la rutina de abono automático y la interacción entre ellos: 
2019-11-06 20:31:17,655 - DEBUG - ---Notificaciones desde CIB
2019-11-06 20:31:17,657 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para la migración de notificaciones de Faxmail a Alertas y Notificaciones: 
2019-11-06 20:31:17,660 - DEBUG - ---Transferencias hacia el exterior
2019-11-06 20:31:17,661 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para inscripción de cuentas y transferencias hacia el exterior: 
2019-11-06 20:31:17,662 - DEBUG - ---	
2019-11-06 20:31:17,663 - DEBUG - ---Consulta de Tasa
2019-11-06 20:31:17,665 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario para la consulta de tasa digital y la interacción entre ellos: 
2019-11-06 20:31:17,666 - DEBUG - ---Interfaces de la solución
2019-11-06 20:31:17,667 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:31:17,668 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:31:17,670 - DEBUG - ---Visualización y accesos 
2019-11-06 20:31:17,673 - DEBUG - ---Se presentan los principales reportes/informes o punto de acceso a la información, que se crean o se modifican de forma relevante en la solución:
2019-11-06 20:31:17,676 - DEBUG - ---Para obtener mayor información sobre los tipos de reportes y las herramientas corporativas para su implementación, puede referirse a la 
2019-11-06 20:31:17,677 - DEBUG - ---   
2019-11-06 20:31:17,677 - DEBUG - ---

2019-11-06 20:31:17,678 - DEBUG - ---Vista física de la solución  
2019-11-06 20:31:17,680 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:31:17,681 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:31:17,683 - DEBUG - ---

2019-11-06 20:31:17,684 - DEBUG - ---Cuadro resumen de componentes técnicos
2019-11-06 20:31:17,685 - DEBUG - ---Se ubican los componentes en capas  y se  relaciona  la información técnica asociada a cada componente, tipo,  plataforma, sistema operativo, tecnologías y ubicación geográfica:
2019-11-06 20:31:17,687 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:31:17,689 - DEBUG - ---En esta seacción se muestra el diseño de la contingencia local y remota para los siguientes componentes de infraestructura nuevos de la solución:
2019-11-06 20:31:17,691 - DEBUG - ---Front Mercado Libre
2019-11-06 20:31:17,692 - DEBUG - ---Los demás componentes de infraestructura son los existentes, por lo tanto la alta disponibilidad, contingencia remota, monitoreo y ambientes de ejecución serán los mismos que a hoy se tienen definidos.
2019-11-06 20:31:17,694 - DEBUG - --- Alta Disponibilidad  (High Availability- HA)
2019-11-06 20:31:17,695 - DEBUG - ---La alta disponibilidad se puede ver en la sección 5.6 del presente documento.
2019-11-06 20:31:17,696 - DEBUG - ---Contingencia Remota (Disaster Recovery - DR)
2019-11-06 20:31:17,698 - DEBUG - ---La contingencia remota es la misma que existe actualmente para la infraestructura de WAS de la SVP, a continuación una imagen que detalla el tema:
2019-11-06 20:31:17,700 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:31:17,701 - DEBUG - ---Se debe implementar el mismo esquema de monitoreo que a hoy se tiene para los desarrollos de la SVP y el Framework Transaccional. Adicionalmente se deberán implementar mecanismos de monitoreo para garantizar que la aplicación del nuevo front este arriba, monitoreando el link y garantizando que la respuesta http sea correcta.
2019-11-06 20:31:17,702 - DEBUG - ---Ambientes de Ejecución
2019-11-06 20:31:17,703 - DEBUG - ---Se tendrán los siguientes ambientes para la solución:
2019-11-06 20:31:17,705 - DEBUG - ---Desarrollo
2019-11-06 20:31:17,707 - DEBUG - ---El ambiente de desarrollo será utilizando la infraestructura actual que tiene la SVP, para tal motivo se creará un nuevo servidor de aplicaciones para los desarrollos del front y otro servidor de aplicaciones para los desarrollos comunes del framework transaccional.
2019-11-06 20:31:17,709 - DEBUG - ---Certificación
2019-11-06 20:31:17,709 - DEBUG - ---El ambiente de certificación será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán dos nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros dos servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:31:17,712 - DEBUG - ---Producción
2019-11-06 20:31:17,713 - DEBUG - ---El ambiente de producción será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán cuatro nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros cuatro servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:31:17,716 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:31:17,717 - DEBUG - ---Las decisiones aplicativas, técnicas, de información y seguridad más relevantes con respecto a diversos aspectos de la arquitectura son relacionadas a continuación:
2019-11-06 20:31:17,718 - DEBUG - --- Riesgos y/o Alertas
2019-11-06 20:31:17,720 - DEBUG - ---En la siguiente tabla se relacionan los puntos relevantes generados a partir del diseño y de interés para certificación, desarrollo, gestión de la demanda e infraestructura: 
2019-11-06 20:31:17,723 - DEBUG - --- Estándares y definiciones
2019-11-06 20:31:17,725 - DEBUG - ---Se relacionan los estándares y definiciones que se consideraron para la elaboración del diseño de la arquitectura de la solución:
2019-11-06 20:31:17,727 - DEBUG - ---   
2019-11-06 20:31:17,727 - INFO - Indexing file: Tips OC 2154091.docx
2019-11-06 20:31:17,732 - DEBUG - ---Ejecucion OC 2154091
2019-11-06 20:31:17,733 - DEBUG - ----Se requiere subir archivo de monitoreo para ventas tajeta de credito y libre inversión
2019-11-06 20:31:17,733 - DEBUG - ---Solución:
2019-11-06 20:31:17,734 - DEBUG - ----Actualizar los siguientes war:
2019-11-06 20:31:17,734 - DEBUG - ---VIEW.Dashboard
2019-11-06 20:31:17,734 - DEBUG - ---VIEW.Tarjeta
2019-11-06 20:31:17,735 - DEBUG - ---VIEW.Creditos
2019-11-06 20:31:17,735 - DEBUG - ---Las aplicaciones a actualizar están desplegadas en el WAS CLUSTER2 apuntando a los IHS de Acceso digital y tienen los siguientes nombres:
2019-11-06 20:31:17,736 - DEBUG - ---PMO27262_VIEW_Dashboard
2019-11-06 20:31:17,736 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:31:17,737 - DEBUG - ---PMO27262_VIEW_Creditos
2019-11-06 20:31:17,737 - DEBUG - ---Una vez instales, reincias el CLUSTER2 para no generar afectación del servicio
2019-11-06 20:31:17,739 - DEBUG - ---Accesos de produccion
2019-11-06 20:31:17,740 - DEBUG - ---Softlayer (Abrir con el internet explorer)
2019-11-06 20:31:17,742 - DEBUG - ---Usuario:   ejbetanc     password:  Y6W6iY2&
2019-11-06 20:31:17,742 - DEBUG - ---Usuario : vcardona / Vcardona123*
2019-11-06 20:31:17,743 - DEBUG - ---Url consola was producción
2019-11-06 20:31:17,743 - DEBUG - ---user: 
2019-11-06 20:31:17,744 - DEBUG - ---wasadminb1    
2019-11-06 20:31:17,744 - DEBUG - ---pass:  
2019-11-06 20:31:17,744 - DEBUG - ---wasadminb1//* 
2019-11-06 20:31:17,745 - DEBUG - ---SSH
2019-11-06 20:31:17,745 - DEBUG - ---10.121.219.153
2019-11-06 20:31:17,746 - DEBUG - ---10.77.251.216
2019-11-06 20:31:17,746 - DEBUG - ---wasadmin
2019-11-06 20:31:17,747 - DEBUG - ---B1CAdminWAS
2019-11-06 20:31:17,747 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-06 20:31:17,810 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:31:17,812 - DEBUG - ---(PLATAFORMAS CENTRALES DE INTEGRACION)
2019-11-06 20:31:17,815 - DEBUG - ---Versión 1.0 
2019-11-06 20:31:17,816 - DEBUG - ---SVE, Facturanet, PSE
2019-11-06 20:31:17,818 - DEBUG - ---PMO17969
2019-11-06 20:31:17,819 - DEBUG - ---

2019-11-06 20:31:17,821 - DEBUG - ---Control del Documento
2019-11-06 20:31:17,824 - DEBUG - ---

2019-11-06 20:31:17,826 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:31:17,829 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:31:17,830 - DEBUG - ---Descripción detallada del diseño en la plataformac
2019-11-06 20:31:17,831 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:31:17,832 - DEBUG - --- 
2019-11-06 20:31:17,847 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:31:17,848 - DEBUG - ---(Telecomunicaciones, plataformas centrales, bases de datos, Distribuidas, monitoreo)
2019-11-06 20:31:17,849 - DEBUG - ---Diagrama que contiene cada uno de los componentes de tecnología y su relación (hardware y software) 
2019-11-06 20:31:17,850 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:31:17,851 - DEBUG - ---AMBIENTE DE PRODUCCIÓN
2019-11-06 20:31:17,854 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:31:17,860 - DEBUG - ---AMBIENTE DE DESARROLLO
2019-11-06 20:31:17,866 - DEBUG - ---(Información de  Configuraciones especificas, reglas, direccionamiento, VLANs, 
2019-11-06 20:31:17,866 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:31:17,868 - DEBUG - ---A nivel de Servidor de aplicaciones WAS
2019-11-06 20:31:17,880 - DEBUG - ---Seguridad a Nivel de Sistema Operativo
2019-11-06 20:31:17,882 - DEBUG - ---Seguridad a Nivel de Datos
2019-11-06 20:31:17,883 - DEBUG - ---Esquema de depuración de la base de datos
2019-11-06 20:31:17,884 - DEBUG - ---Ambiente de Producción
2019-11-06 20:31:17,885 - DEBUG - ---Ambiente de Certificación
2019-11-06 20:31:17,886 - DEBUG - ---Ambiente de Integración
2019-11-06 20:31:17,888 - DEBUG - ---Servidores de Producción
2019-11-06 20:31:17,890 - DEBUG - ---Servidores Certificación:
2019-11-06 20:31:17,892 - DEBUG - ---Servidores Desarrollo:
2019-11-06 20:31:17,894 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:31:17,895 - DEBUG - ---(Recomendaciones y procedimientos adicionales para la Implementación, soporte)
2019-11-06 20:31:17,896 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:31:17,898 - DEBUG - ---  
2019-11-06 20:31:17,899 - DEBUG - ---(Incluir desde la plataforma específica,  una lista de pasos recomendados para verificar el estado de la solución  y plasmarlo en  un diagrama  de flujo de decisión en cada paso mencionado)
2019-11-06 20:31:17,900 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:31:17,901 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:31:17,902 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:31:17,904 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación. 
2019-11-06 20:31:17,905 - DEBUG - ---Comprobar el estado del servidor web que recibe las peticiones para la aplicación.
2019-11-06 20:31:17,908 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones y del web server. 
2019-11-06 20:31:17,910 - DEBUG - ---  
2019-11-06 20:31:17,911 - DEBUG - ---Liste los  tipos de contingencia que tiene el servicio (de aplicación, de modo de operación, de infraestructura, etc)
2019-11-06 20:31:17,912 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:31:17,913 - DEBUG - ---Entrega el área que proporciona la contingencia
2019-11-06 20:31:17,914 - DEBUG - ---Los  procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:31:17,915 - DEBUG - ---Plataforma WAS
2019-11-06 20:31:17,916 - DEBUG - ---El servidor de aplicaciones cuenta con un esquema de disponibilidad ACTIVO/PASIVO; de esta manera la aplicación está disponible en uno de los servidores y tiene el otro como respaldo.
2019-11-06 20:31:17,918 - DEBUG - ---La plataforma también cuenta con DRP.
2019-11-06 20:31:17,919 - DEBUG - ---  
2019-11-06 20:31:17,920 - DEBUG - ---Errores funcionales del servicio, Errores Técnicos de aplicación, Errores de la Infraestructura, Errores en  Plataformas Centrales , Errores en  Plataformas Distribuidas, Errores en  Telecomunicaciones
2019-11-06 20:31:17,922 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:31:17,924 - DEBUG - ---Errores conocidos  
2019-11-06 20:31:17,926 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:31:17,927 - DEBUG - ---A nivel de WAS
2019-11-06 20:31:17,929 - DEBUG - ---.    Errores funcionales del servicio
2019-11-06 20:31:17,930 - DEBUG - --- 
2019-11-06 20:31:17,932 - INFO - Indexing file: Anexo 1 - Grafico de diseдo de arquitectura del cliente.docx
2019-11-06 20:31:17,937 - DEBUG - ---Grafico de diseño de arquitectura del cliente.
2019-11-06 20:31:17,938 - INFO - Indexing file: Hoja de datos WAS.docx
2019-11-06 20:31:17,947 - INFO - Indexing file: Hoja de datos Process server.docx
2019-11-06 20:31:17,951 - DEBUG - ---Hoja de datos Process server
2019-11-06 20:31:17,952 - INFO - Indexing file: Hoja de datos Datapower.docx
2019-11-06 20:31:17,959 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:31:17,959 - DEBUG - ---RIN – UNE (Servidor)
2019-11-06 20:31:17,960 - DEBUG - ---PMO16436
2019-11-06 20:31:17,960 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-06 20:31:17,977 - DEBUG - ---

2019-11-06 20:31:17,978 - DEBUG - ---PROCEDIMIENTO A REALIZAR
2019-11-06 20:31:17,978 - DEBUG - ---PEDIDOS QUE REALIZA PI
2019-11-06 20:31:17,979 - DEBUG - ---Solicitud del filesystem para el Proyecto 
2019-11-06 20:31:17,980 - DEBUG - ---Se solicita por medio de correo a nosotros con el nombre del proyecto y el Sizing del mismo.
2019-11-06 20:31:17,980 - DEBUG - ---Crear OC: 
2019-11-06 20:31:17,981 - DEBUG - ---Categoría: almacenamiento y creación de disco.
2019-11-06 20:31:17,982 - DEBUG - ---Adjuntar el formato (Solicitarlo a almacenamiento).
2019-11-06 20:31:17,983 - DEBUG - ---SOLICITAR AMPLIACIÓN - CREACIÓN - FILESYSTEM - DIRECTORIO - CARPETA oc'S:

2019-11-06 20:31:17,984 - DEBUG - ---Filesystem existente:
*orden de cambio ampliación - 456834
Categoría: Almacenamiento. Ampliación File Systems y presentación Discos SAN Plataformas Centrales 

2019-11-06 20:31:17,985 - DEBUG - ---Filesystem Nuevo:
*orden de cambio creación - 718604 
Categoría: Almacenamiento. Creación de Discos Nuevos Plataformas Centrales
2019-11-06 20:31:17,986 - DEBUG - ---PEDIDOS QUE REALIZA DESARROLLO
2019-11-06 20:31:17,987 - DEBUG - ---Creación de usuarios de red (AIX): Se solicita por USM, creación usuarios pSeries.
2019-11-06 20:31:17,988 - DEBUG - ---En caso de que el proveedor sea nuevo en el banco.
2019-11-06 20:31:17,990 - DEBUG - ---Pedidos USM a Control de Acceso
2019-11-06 20:31:17,992 - DEBUG - --- Se realiza la solicitud por medio de USM ().
2019-11-06 20:31:17,994 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:31:17,996 - DEBUG - ---Cuando tengan los nombres de los usuarios de red de cada desarrollador, deben solicitar la autorización por correo a GCIA PLATAFORMAS DE INTEGRACION  para la creación de los usuarios en la máquina 10.8.64.210 - PBMDEADDST04, para adjuntarlo al pedido. 
2019-11-06 20:31:17,998 - DEBUG - ---Con la aprobación realizan la solicitud para la creación de usuarios del SO para cada desarrollador y que pertenezcan al grupo “dstageXXX” (Fabrica) 
2019-11-06 20:31:18,000 - DEBUG - ---Servicios Especializados de TI (sólo para empleados VTI) -> Gestion de ambientes de pruebas y desarrollo -> Gestion de Ambientes - Administración control de Acceso -> Creación de usuarios Pseries -> Selecciona la opción de Creación de usuarios Pseries y descargamos el formato para diligenciarlo que se encuentra en la parte de abajo en letra roja, para luego adjuntarlo.
2019-11-06 20:31:18,002 - DEBUG - ---El usuario de red debe solicitarse para crear en el directorio activo de AMBIENTESBC para poderse conectar a través de las herramientas cliente (Designer, Director). Debe solicitarse con las siguientes características: 
2019-11-06 20:31:18,004 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:31:18,005 - DEBUG - ---La clave no puede expirar
2019-11-06 20:31:18,006 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:31:18,009 - DEBUG - ---Relación de confianza (SFTP): Aplica si utilizan conexión SFTP. 
2019-11-06 20:31:18,012 - DEBUG - ---Solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadmXXX y el de conexión creado previamente.
2019-11-06 20:31:18,014 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:31:18,015 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:31:18,017 - DEBUG - ---Solicitarse para crear en el directorio activo de AMBIENTESBC los usuarios de Tester (Certificadores). Debe solicitarse con las siguientes características:
2019-11-06 20:31:18,019 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:31:18,020 - DEBUG - ---La clave no puede expirar
2019-11-06 20:31:18,021 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:31:18,022 - DEBUG - ---AMBIENTE DE PRODUCCIÓN 
2019-11-06 20:31:18,023 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:31:18,024 - DEBUG - ---En éste ambiente no se crean usuarios de desarrollo por ser productivo.
2019-11-06 20:31:18,026 - DEBUG - ---Pedidos OC a nuestro grupo Plataformas de integración
2019-11-06 20:31:18,026 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:31:18,027 - DEBUG - ---Solicitan la creación del proyecto DESA_PROYECTO 
2019-11-06 20:31:18,028 - DEBUG - ---Solicitan matricular los usuarios de los desarrolladores creados en AMBIENTESBC y asociarlos al proyecto creado. (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx).
2019-11-06 20:31:18,029 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:31:18,029 - DEBUG - ---Ambiente
2019-11-06 20:31:18,030 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:31:18,031 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:31:18,031 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:31:18,032 - DEBUG - ---Nombre de la BD
2019-11-06 20:31:18,032 - DEBUG - ---Tabla o esquema
2019-11-06 20:31:18,033 - DEBUG - ---Puerto 
2019-11-06 20:31:18,034 - DEBUG - ---Nombre del Datasource
2019-11-06 20:31:18,034 - DEBUG - ---DNS del servidor
2019-11-06 20:31:18,035 - DEBUG - ---AMBIENTE CERTIFICACIÓN
2019-11-06 20:31:18,036 - DEBUG - ---Solicitan la creación del proyecto, CERT_ PROYECTO 
2019-11-06 20:31:18,036 - DEBUG - ---Solicitan matricular los usuarios de los Tester y asociarlos al proyecto creado (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx)
2019-11-06 20:31:18,037 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:31:18,037 - DEBUG - ---Ambiente
2019-11-06 20:31:18,038 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:31:18,038 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:31:18,039 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:31:18,040 - DEBUG - ---Nombre de la BD
2019-11-06 20:31:18,040 - DEBUG - ---Tabla o esquema
2019-11-06 20:31:18,041 - DEBUG - ---Puerto 
2019-11-06 20:31:18,041 - DEBUG - ---Nombre del Datasource
2019-11-06 20:31:18,042 - DEBUG - ---DNS del servidor
2019-11-06 20:31:18,043 - DEBUG - ---AMBIENTE PRODUCCIÓN
2019-11-06 20:31:18,043 - DEBUG - ---Solicitan la creación del proyecto PROD_ PROYECTOS 
2019-11-06 20:31:18,044 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:31:18,044 - DEBUG - ---Ambiente
2019-11-06 20:31:18,045 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:31:18,045 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:31:18,046 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:31:18,046 - DEBUG - ---Nombre de la BD
2019-11-06 20:31:18,047 - DEBUG - ---Tabla o esquema
2019-11-06 20:31:18,047 - DEBUG - ---Puerto 
2019-11-06 20:31:18,048 - DEBUG - ---Nombre del Datasource
2019-11-06 20:31:18,048 - DEBUG - ---DNS del servidor
2019-11-06 20:31:18,049 - DEBUG - ---	
2019-11-06 20:31:18,049 - DEBUG - ---Otros temas a tener en cuenta:
2019-11-06 20:31:18,050 - DEBUG - ---El nombre del proyecto se define de la siguiente forma:
2019-11-06 20:31:18,050 - DEBUG - ---Desarrollo: DESA_PROYECTO
2019-11-06 20:31:18,051 - DEBUG - ---Certificación: CERT_PROYECTO
2019-11-06 20:31:18,051 - DEBUG - ---Producción: PROD_PROYECTO
2019-11-06 20:31:18,052 - DEBUG - ---Los usuarios de SO se crean en Desarrollo y Certificación en el Engine DataStage (Dllo: 10.8.64.210, Cert: 10.4.33.30).
2019-11-06 20:31:18,053 - DEBUG - ---Los usuarios de Desarrollo deben tener un cliente instalado en su máquina o conectarse a través de Citrix.
2019-11-06 20:31:18,053 - DEBUG - ---Información que se solicita al analista del proyecto: 
2019-11-06 20:31:18,054 - DEBUG - ---Nombre de la Fábrica
2019-11-06 20:31:18,054 - DEBUG - ---Sizing (Tamaño del filesystem en cada uno de los ambientes).
2019-11-06 20:31:18,055 - DEBUG - ---Si es una conexión ODBC se necesita un String de Conexión para lo cual se requiere saber:
2019-11-06 20:31:18,055 - DEBUG - ---Tipo base de datos
2019-11-06 20:31:18,056 - DEBUG - ---Nombre del Datasource
2019-11-06 20:31:18,056 - DEBUG - ---DNS del servidor
2019-11-06 20:31:18,057 - DEBUG - ---Nombre de base de datos
2019-11-06 20:31:18,057 - DEBUG - ---Puerto
2019-11-06 20:31:18,058 - DEBUG - ---Si es una conexión sftp se deben conocer los usuarios de conexión y las máquinas destino a las cuáles se conectan.
2019-11-06 20:31:18,058 - DEBUG - ---Usuario iSeries (CNXxxx).
2019-11-06 20:31:18,058 - INFO - Indexing file: Guia_Instalacion_CambioCertificadoDigital.docx
2019-11-06 20:31:18,070 - DEBUG - ---	
2019-11-06 20:31:18,071 - DEBUG - ---Cambio Certificado Digital 
2019-11-06 20:31:18,071 - DEBUG - ---CerFirmaCarvajal.cer
2019-11-06 20:31:18,072 - DEBUG - ---Guía de instalación
2019-11-06 20:31:18,072 - DEBUG - ---OC 2230886
2019-11-06 20:31:18,073 - DEBUG - ---Versión 1.0
2019-11-06 20:31:18,079 - DEBUG - ---Manual de instalación 
2019-11-06 20:31:18,079 - DEBUG - ---OC 2230886
2019-11-06 20:31:18,080 - DEBUG - ---Datos para la instalación
2019-11-06 20:31:18,080 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:31:18,081 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:31:18,081 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:31:18,082 - DEBUG - ---CEL: 3115332927 
2019-11-06 20:31:18,082 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:31:18,083 - DEBUG - ---  
2019-11-06 20:31:18,083 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 6
2019-11-06 20:31:18,084 - DEBUG - ---Acceso Datapower 
2019-11-06 20:31:18,084 - DEBUG - ---Ingresar a  y a  - Datapower 2   con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio PRODUCCIÓN
2019-11-06 20:31:18,085 - DEBUG - ---Nota: Instalar también en el DataPower del DRP
2019-11-06 20:31:18,086 - DEBUG - ---Instalación de los Certificados nombres CC_FIRMA_CARVAJAL, certificado CerFirmaCarvajal.cer
2019-11-06 20:31:18,086 - DEBUG - ---Descargar los archivos CerFirmaCarvajal.cer  que se encuentra adjunto en la OC.
2019-11-06 20:31:18,087 - DEBUG - ---Sobrescribir el archivo en la carpeta cert del dominio de producción, el certificado CerFirmaCarvajal.cer 
2019-11-06 20:31:18,088 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:31:18,093 - DEBUG - ---Manual de instalación 
2019-11-06 20:31:18,094 - DEBUG - ---OC 2230886
2019-11-06 20:31:18,094 - DEBUG - ---Datos para la instalación
2019-11-06 20:31:18,095 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:31:18,095 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:31:18,096 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:31:18,096 - DEBUG - ---CEL: 3115332927  
2019-11-06 20:31:18,097 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:31:18,097 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 7
2019-11-06 20:31:18,098 - DEBUG - ---Acceso Datapower 
2019-11-06 20:31:18,098 - DEBUG - ---Ingresar a  - Datapower1 y a  - Datapower 2 , con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio Default
2019-11-06 20:31:18,099 - DEBUG - ---Instalación de los Certificados Nombre CC_FIRMA_CARVAJAL certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:31:18,100 - DEBUG - ---Descargar los archivos CC_FIRMA_CARVAJAL.cer que se encuentra adjunto en la OC.
2019-11-06 20:31:18,100 - DEBUG - ---Sobrescribir los archivos en la carpeta sharedcert del dominio de Default, el certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:31:18,101 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate CC_FIRMA_CARVAJAL que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:31:18,101 - DEBUG - ---Por favor instalar las cadenas de confianza adjuntas (AC_SUB_CERTICAMARA.cer y AC_Raiz_Certicamara.cer) en la carpeta pubcert en el dominio Default
2019-11-06 20:31:18,103 - DEBUG - ---Ingresar a la URL
2019-11-06 20:31:18,104 - DEBUG - ---​
2019-11-06 20:31:18,104 - DEBUG - ---​
2019-11-06 20:31:18,105 - DEBUG - ---Y deshabilitar el componente que aparece​ a continuación:
2019-11-06 20:31:18,106 - INFO - Indexing file: Reinicio_Datastage (1).txt
2019-11-06 20:31:18,106 - DEBUG - ---
REINICIO - ENGINE
Con el usuario DSADM

cd /opk/IBM/InformationServer/Server/DSEngine/
. ./dsenv 
uv -admin -stop

REINICIO LOGGIN AGENT
/opk/IBM/InformationServer/ASBNode/bin
sudo ./NodeAgents.sh stop

version.xml - /opk/IBM/InformationServer

sudo /opk/IBM/InformationServer/Server/DSEngine/

sudo sh "chown -R dsadm:dstage /opk /dataset1 /dataset2 /scratch1 /scratch2 /proyectos /interfaces" 
cd $DSHOME/scripts 
sudo sh DSEenable_impersonation.sh 

/opk/IBM/InformationServer/Server/DSComponents/bin
./dscompinst -username ceaherre -password Banco2013* -install -force /tmp/CC_ORA_aix_installation.jar

ps -ef | grep osh
ps -ef | grep DSD.RUN
ps -ef | grep dsapi

2019-11-06 20:31:18,582 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:31:18,594 - DEBUG - results found: 7
2019-11-06 20:31:18,594 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:31:18,628 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:31:18,742 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:31:18,778 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 20:31:18,828 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 20:31:18,879 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 20:31:18,933 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 20:45:15,783 - INFO - ------------------------------------------
2019-11-06 20:45:15,784 - INFO - -- Starting indexing process      --------
2019-11-06 20:45:15,785 - INFO - -- files path: /home/mgazzola/Documents/instructivos
2019-11-06 20:45:15,785 - INFO - ------------------------------------------
2019-11-06 20:45:15,840 - INFO - Indexing file: MANUAL DE OPERACIONES WSRR v.1.docx
2019-11-06 20:45:15,871 - DEBUG - ---GUÍA DE OPERACIONES WSRR v8.0
2019-11-06 20:45:15,873 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:45:15,875 - DEBUG - ---1. Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0:
2019-11-06 20:45:15,877 - DEBUG - ---AW0939
2019-11-06 20:45:15,878 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:45:15,879 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:45:15,881 - DEBUG - ---2. Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:45:15,883 - DEBUG - ---MQE_RecuperarDatosCliente (la versión 3.0 -->
2019-11-06 20:45:15,884 - DEBUG - ---http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0 [^]).
2019-11-06 20:45:15,886 - DEBUG - ---PASOS
2019-11-06 20:45:15,887 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:45:15,889 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:45:15,891 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:45:15,893 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:45:15,895 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:45:15,897 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:45:15,899 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:45:15,901 - DEBUG - ---

2019-11-06 20:45:15,903 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:45:15,905 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:45:15,907 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:45:15,909 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:45:15,911 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:45:15,913 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:45:15,915 - INFO - Indexing file: HOJA DE DATOS_WSP_RIN_ARGS(1).docx
2019-11-06 20:45:15,924 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:45:15,925 - DEBUG - ---RIN DOS VÍAS –Argos (Servidor)
2019-11-06 20:45:15,927 - DEBUG - ----Dummy
2019-11-06 20:45:15,928 - INFO - Indexing file: Tips Aristi.txt
2019-11-06 20:45:15,929 - DEBUG - ---Comandos Frecuentes WebSphere Message Queue

* Ruta de logs
/var/mqm/errors ( Logs del producto )
/var/mqm/qmgrs/BCOLQMGR/errors ( Logs de un Queue Manager )

* Ruta de almacenes de certificados
/var/mqm/qmgrs/BCOLQMGR/ssl

* Administrar certificados
gsk7cmd -keydb -create -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -expire <days> -stash
gsk7cmd -keydb -stashpw -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12>
gsk7cmd -certreq -create [-db <name>] [-crypto <module name> [-tokenlabel <token label>]|[-relativeSlotNumber <slot_number>]] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> [-san_ipaddr <ip addr>[,<ip addr>]] [-san_dnsname <dns name>[,<dns name>]] [-san_emailaddr <email addr>[,<email addr>]] [-usereasoncode] -dn <dist name> [-size <2048 | 1024 | 512>] -file <name>
gsk7cmd -certreq -recreate [-db <name>] [-pw <passwd>] [-type <cms | jks | jceks | pkcs12>] -label <label> -file <name>
gsk7cmd -cert -add -db <filename>.kdb -pw <password> -label <label> -format <ascii | binary> -trust <enable | disable> -file <filename>
gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary> 
gsk7cmd -cert -list <all | personal | CA | site> -db < dbname > -pw <password> -type <cms | jks |jceks | pkcs12> -expiry < days >
gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename>
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -details -db <filename>.kdb -pw <password> -label <label>

--Cambiar el label de un certificado personal
gsk7cmd -cert -export -db key.kdb -pw passw0rd -label friendlyName -type cms -target personal.p12 -target_pw target_password -target_type pkcs12
gsk7cmd -cert -delete -db <filename>.kdb -pw <password> -label <label>
gsk7cmd -cert -import -file personal.p12 -label friendlyName -new_label ibmwebspheremqqueuemanagername -type pkcs12 -pw passw0rd -target key.kdb -target_pw target_password

Ejemplo:
gsk7cmd -keydb -create -db ihskeystore.kdb -pw ihskeystore -type cms -stash
gsk7cmd -certreq -create -db ihskeystore.kdb -pw ihskeystore -type cms -label sasoprd -dn "CN=sasoprd.bancolombia.corp,OU=VICEPRESIDENCIA DE TECNOLOGIA,O=BANCOLOMBIA S.A.,L=MEDELLIN,ST=ANTIOQUIA,C=CO" -size 2048 -file sasoprd.arm -sig_alg sha1

gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAROOTCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAROOTCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAPOLICYNETCA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAPOLICYNETCA.cer
gsk7cmd -cert -add -db ihskeystore.kdb -pw ihskeystore -label BANCOLOMBIAISSUING1CA -format ascii -trust enable -file /tmp/SASOpriskDesarrollo/BANCOLOMBIAISSUING1CA.cer

gsk7cmd -cert -receive -db ihskeystore.kdb -pw ihskeystore -format ascii -file /tmp/SASOpriskDesarrollo/sasoprd.bancolombia.corp.cer

* Administrar permisos sobre los objetos
dspmqaut -m BCOLQMGR -t qmgr -g cnmq
setmqaut -m BCOLQMGR -t qmgr -g cnmq +connect +inq
dspmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq
setmqaut -m BCOLQMGR -n "CIF_MXML_IMV_QL.REQ" -t q -g cnmq +browse +get +inq +put +set

* Ejemplo para conectar dos MQ Servers ( PanamÃ¡-Colombia )
PPANMQMGR

Cola transmisiÃ³n
define qlocal(PCOLQMGR) USAGE(XMITQ)

Colas remotas
define qremote(IBS_PAN.INT.REQ) RQMNAME(PCOLQMGR) RNAME(IBS_PAN.INT.REQ) XMITQ(PCOLQMGR)
define qremote(INT.SWIFTPA.SWIFT.QL.RES) RQMNAME(PCOLQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.RES) XMITQ(PCOLQMGR)

Colas locales
define qlocal(INT.SWIFTPA.SWIFT.QL.REQ)
define qlocal(LTC_INT_IBSPA.QL.REQ) MAXDEPTH(100000)

Canal SVRCONN
define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

Canal Receive
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Colombia-Panama')

Canal Sender
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Panama-Colombia') XMITQ(PCOLQMGR) CONNAME('PBMDEAPMEB01(1414)')

Canal Cliente
define channel(SWIFT.SVRCONN) CHLTYPE(CLNTCONN) CONNAME('PBPAMTPMEB01(1414)') QMNAME(PPANQMGR) SSLCIPH(TRIPLE_DES_SHA_US) DESCR('Swift channel client')

PCOLQMGR

Cola transmisiÃ³n
define qlocal(PPANMQGR) USAGE(XMITQ)

Colas remotas
define qremote(INT.SWIFTPA.SWIFT.QL.REQ) RQMNAME(PPANQMGR) RNAME(INT.SWIFTPA.SWIFT.QL.REQ) XMITQ(PPANQMGR)
define qremote(LTC_INT_IBSPA.QL.REQ) RQMNAME(PPANQMGR) RNAME(LTC_INT_IBSPA.QL.REQ) XMITQ(PPANQMGR)

Colas locales
define qlocal(IBS_PAN.INT.REQ)
define qlocal(INT.SWIFTPA.SWIFT.QL.RES)

Canal Receive
DEFINE CHANNEL(PPANQMGR.PCOLQMGR) CHLTYPE(RCVR) TRPTYPE(TCP) DESCR('Canal que recibe informacion Panama-Colombia')

Canal Sender
DEFINE CHANNEL(PCOLQMGR.PPANQMGR) CHLTYPE(SDR) TRPTYPE(TCP) DESCR('Canal que envia informacion Colombia-Panama') XMITQ(PPANQMGR) CONNAME('PBPAMTPMEB01(1414)')

Comandos Frecuentes WebSphere Message Broker

* Ruta de logs de Broker
/opk/IBM/mqsi ( Para Desarrollo y QA )
/var/mqm/errors ( Para ProducciÃ³n )

* Ruta de logs de cada Execution Group
/var/mqsi/components/BCOLQMGR_BROKER/<UUID>/ ( Donde para saber el valor del UUID ejecutan ps -fea | grep <Execution_Group> )
/var/mqsi/components/BCOLQMGR_BROKER/13d99063-3201-0000-0080-f92214f27c0a

* Administrar certificados
keytool -genkey -alias ibmwebspheremqcnxqqdes -keyalg RSA -sigalg SHA1withRSA -keysize 2048 -keystore /tmp/tmppcc.jks -v
keytool -certreq -alias ibmwebspheremqcnxqqdes -sigalg SHA1withRSA -file /tmp/ibmwebspheremqcnxqqdes.csr -keystore /tmp/tmppcc.jks -v
keytool -import -alias ibmwebspheremqcnxqqdes -file /home/jdaristi/Downloads/ibmwebspheremqcnxqqdes.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiarootca -file /home/jdaristi/Downloads/bancolombiarootca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiapolicynetca -file /home/jdaristi/Downloads/bancolombiapolicynetca.cer -keystore /tmp/tmppcc.jks -v
keytool -import -alias bancolombiaissuing1ca -file /home/jdaristi/Downloads/bancolombiaissuing1ca.cer -keystore /tmp/tmppcc.jks -v

* ConfiguraciÃ³n de una conexiÃ³n JDBC Oracle
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o ORACLE_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"
* ConfiguraciÃ³n de una conexiÃ³n JDBC DB2
mqsicreateconfigurableservice BCOLQMGR_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,connectionUrlFormatAttr1,databaseName,databaseType,jarsURL,portNumber,securityIdentity,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1],EQUIVDDB,EQUIVDDB,Oracle,/home/wasencio/jars/oracle,1521,SI_PEQUIV,10.4.33.26,oracle.jdbc.xa.client.OracleXADataSource,oracle.jdbc.OracleDriver"
* ConfiguraciÃ³n de una conexiÃ³n ODBC
Editar el archivo odbc.ini. En la variable $ODBCINI se encuentra la ruta completa del archivo.
* ConfiguraciÃ³n de una conexiÃ³n SFTP
mqsicreateconfigurableservice BCOLQMGR_BROKER -c FtpServer -o ftpSENTRANSACCIONAL -n accountInfo,protocol,scanDelay,securityIdentity,serverName -v usersftp,SFTP,120,secIdFtpSENTRANSACCIONAL,172.30.224.194:10022

* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::ICRSecurityIdentity -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso JDBC ( Correspondiente al ejemplo anterior )
mqsisetdbparms BCOLQMGR_BROKER -n jdbc::SI_PEQUIV -u CCNXJICRC -p *****
* Configurar el usuario y clave para un recurso ODBC
mqsisetdbparms BCOLQMGR_BROKER -n MRXINHOUSE -u CNXBRKVAR -p *****
* Configurar el usuario y clave para un recurso SFTP ( Correspondiente al ejemplo anterior )
mqsisetdbparms PCOLQMGR_BROKER -n sftp::secIdFtpBancolombia -u CNXCUSEB -p *****

* Revisar propiedades de configuraciÃ³n:

mqsireportproperties BCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c FtpServer -o AllReportableEntityNames -r
mqsireportproperties BCOLQMGR_BROKER -c ServiceRegistries -o AllReportableEntityNames -r

* Revisar configuraciÃ³n de almacenes de certificados
mqsireportproperties BCOLQMGR_BROKER -o BrokerRegistry -r

* Revisar configuraciÃ³n del HTTPListener
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPListener -a

* Revisar configuraciÃ³n del HTTPSConector
mqsireportproperties BCOLQMGR_BROKER -b httplistener -o HTTPSConnector -a

* Revisar configuraciÃ³n del HTTPConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPConnector -r

* Revisar configuraciÃ³n del HTTPSConnector para un Execution Group ( Util para revisar el estado de un web service )
mqsireportproperties BCOLQMGR_BROKER -e CRM_A -o HTTPSConnector -r

* Activar estadisticas y monitoreos, esto es lo mÃ¡s complejo pero mÃ¡s efectivo para realizar una revisiÃ³n sobre algun flujo

- Se crean las siguientes colas para estadisticas
define qlocal(STATS.Servicio.WhoIsWhoCRMFlow)
define qlocal(STATS.parametrizador.ia.AI_PEQFlow)
define qlocal(STATS.icr.IA_ICRFlow)
define qlocal(STATS.listaDeControl.standar.MQListaDeControl)

- Se crean las siguientes subscripciones para recolectar estadisticas
define sub(SUB.STATS.Servicio.WhoIsWhoCRMFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/Servicio.WhoIsWhoCRMFlow') DEST(STATS.Servicio.WhoIsWhoCRMFlow)
define sub(SUB.STATS.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ALL_COMMON/parametrizador.ia.AI_PEQFlow') DEST(STATS.parametrizador.ia.AI_PEQFlow)
define sub(SUB.STATS.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/ICR/icr.IA_ICRFlow') DEST(STATS.icr.IA_ICRFlow)
define sub(SUB.STATS.listaDeControl.standar.MQListaDeControl) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/StatisticsAccounting/+/SAP_CRM_CLIENTES/listaDeControl.standar.MQListaDeControl') DEST(STATS.listaDeControl.standar.MQListaDeControl)

- Se activan las estadisticas
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f Servicio.WhoIsWhoCRMFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -a -n advanced -o xml -c inactive
mqsichangeflowstats PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -f listaDeControl.standar.MQListaDeControl -a -n advanced -o xml -c inactive

- Se crean las siguientes colas para monitoreo
define qlocal(MON.parametrizador.ia.AI_PEQFlow)
define qlocal(MON.icr.IA_ICRFlow)

- Se crean las siguientes subscripciones para recolectar monitoreo
define sub(SUB.MON.parametrizador.ia.AI_PEQFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ALL_COMMON/parametrizador.ia.AI_PEQFlow') dest(MON.parametrizador.ia.AI_PEQFlow)
define sub(SUB.MON.icr.IA_ICRFlow) TOPICSTR('$SYS/Broker/PCOLQMGR_BROKER/Monitoring/ICR/icr.IA_ICRFlow') dest(MON.icr.IA_ICRFlow)

- Se crean los siguientes servicios configurables para generar perfiles de monitoreo
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ
mqsicreateconfigurableservice PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR

- Se exportan los perfiles de monitoreo desde desarrollo
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f parametrizador.ia.AI_PEQFlow -x -p /tmp/monitoreo_AI_PEQ.xml
mqsireportflowmonitoring BCOLQMGR_BROKER -e POC_E2E -f icr.IA_ICRFlow -x -p /tmp/monitoreo_AI_ICR.xml

- Se importan los perfles de monitoreo en producciÃ³n
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_PEQ -n profileProperties -p /tmp/monitoreo_AI_PEQ.xml
mqsichangeproperties PCOLQMGR_BROKER -c MonitoringProfiles -o AI_ICR -n profileProperties -p /tmp/monitoreo_AI_ICR.xml

- Se asocian los perfiles de monitoreo al flujo
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -m AI_PEQ
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -m AI_ICR

- Se activan los monitoreos
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ALL_COMMON -f parametrizador.ia.AI_PEQFlow -c inactive
mqsichangeflowmonitoring PCOLQMGR_BROKER -e ICR -f icr.IA_ICRFlow -c inactive

* Extraer mensajes de las colas sin borrar el mensaje
q -m PCOLQMGR -i INT_PEQ_INT.QL.RES
* Extraer mensajes de las colas borrando el mensaje
q -m PCOLQMGR -I INT_PEQ_INT.QL.RES
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -o INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt
* Inyectar mensaje en una cola donde cada linea del archivo es un mensaje
q -m PCOLQMGR -O INT_ICR_ADAPTER.QL.REQ âf /tmp/PruebaIA_ICR.txt

2019-11-06 20:45:15,955 - INFO - Indexing file: PTR_continuidad_banismo_v2.docx
2019-11-06 20:45:15,997 - DEBUG - ---

2019-11-06 20:45:16,015 - DEBUG - ---

2019-11-06 20:45:16,019 - DEBUG - ---

2019-11-06 20:45:16,029 - DEBUG - ---

2019-11-06 20:45:16,033 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:45:16,039 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:45:16,042 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:45:16,044 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:45:16,047 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:45:16,054 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:45:16,057 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:45:16,060 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20 - SBBANBCE07v
2019-11-06 20:45:16,062 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21 - SBBANBCE08v
2019-11-06 20:45:16,066 - DEBUG - ---INFORMACIÓN SERVIDORES DE APLICACIONES (APLICACIÓN CEI)
2019-11-06 20:45:16,073 - DEBUG - ---<MáquinaAppServerBanistmoCEI>: Corresponde a la IP o nombre de la máquina APP Server donde esta alojada la aplicación CEI de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:45:16,077 - DEBUG - ---<MáquinaAppServerBanistmo[1]> = 10.5.134.68 - SBBANBCE01v
2019-11-06 20:45:16,079 - DEBUG - ---<MáquinaAppServerBanistmo[2]> = 10.5.134.69 - SBBANBCE02v
2019-11-06 20:45:16,083 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:45:16,086 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:45:16,088 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:45:16,091 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:45:16,093 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:45:16,095 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:45:16,098 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:45:16,100 - DEBUG - ---<NombreCanal> = PPAA.PDBDMF01
2019-11-06 20:45:16,105 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:45:16,107 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:45:16,110 - DEBUG - ---COMANDOS BAJAR HTTPSERVERS (IHS)
2019-11-06 20:45:16,112 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.20 HOSTNAME SBBANBCE07v
2019-11-06 20:45:16,115 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:45:16,117 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:45:16,120 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:45:16,123 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:45:16,125 - DEBUG - ---Se debe ubicar en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:45:16,131 - DEBUG - ---BAJAR APP SERVERS (CEI) PARA BANISTMO
2019-11-06 20:45:16,133 - DEBUG - ---El procedimiento para detener e iniciar los servidores de aplicaciones donde esta alojada la aplicación CEI  de Banistmo   es el siguiente (en el orden indicado):
2019-11-06 20:45:16,136 - DEBUG - ---COMANDOS APP SERVERS (CEI)
2019-11-06 20:45:16,138 - DEBUG - ---CONECTAR APP SERVER DE BANISTMO 10.5.134.68 HOSTNAME SBBANBCE01v
2019-11-06 20:45:16,140 - DEBUG - ---Conectarse a la máquina 10.5.134.68 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:45:16,143 - DEBUG - ---3.1.2 CONECTAR APP SERVER DE BANISTMO 10.5.134.69 HOSTNAME SBBANBCE02v
2019-11-06 20:45:16,146 - DEBUG - ---	
2019-11-06 20:45:16,153 - DEBUG - ---3.SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:45:16,155 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:45:16,158 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:45:16,160 - DEBUG - ---CONECTAR A GESTOR DE COLAS 10.5.132.12 HOSTNAME SBBANBLMQ01V
2019-11-06 20:45:16,162 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:45:16,165 - DEBUG - ---Aplicar 
2019-11-06 20:45:16,168 - DEBUG - ---sudo su - mqm
2019-11-06 20:45:16,169 - DEBUG - ---	
2019-11-06 20:45:16,172 - INFO - Indexing file: PTR_continuidad_banismo(1).docx
2019-11-06 20:45:16,200 - DEBUG - ---

2019-11-06 20:45:16,211 - DEBUG - ---

2019-11-06 20:45:16,212 - DEBUG - ---

2019-11-06 20:45:16,220 - DEBUG - ---

2019-11-06 20:45:16,222 - DEBUG - ---INFORMACIÓN DE LOS SERVICIOS Y MÁQUINAS
2019-11-06 20:45:16,224 - DEBUG - ---Para llevar a cabo el procedimiento es requerido tener la información de los servicios y máquinas donde se deben ejecutar cada una de las actividades encaminadas a la prueba de continuidad de Banistmo servicios CEI, información que debe ser proporcionada por los Analistas o solicitantes del procedimiento, especificadas a continuación:
2019-11-06 20:45:16,227 - DEBUG - ---INFORMACIÓN USUARIO (Sudo)
2019-11-06 20:45:16,229 - DEBUG - ---El usuario con privilegios para detener e iniciar los Web Servers
2019-11-06 20:45:16,231 - DEBUG - ---<UsuarioSudo>: wassvc01
2019-11-06 20:45:16,233 - DEBUG - ---INFORMACIÓN WEB SERVERS (IHS)
2019-11-06 20:45:16,236 - DEBUG - ---<MáquinaIHSBanistmo>: Corresponde a la IP o nombre de la máquina WEB SERVER (IHS) de Banistmo objetivo del procedimiento para la prueba de continuidad.
2019-11-06 20:45:16,238 - DEBUG - ---<MáquinaIHSBanistmo[1]> = 10.5.83.20
2019-11-06 20:45:16,240 - DEBUG - ---<MáquinaIHSBanistmo[2]> = 10.5.83.21
2019-11-06 20:45:16,242 - DEBUG - ---<NombreWebServer>: Nombre del web server.
2019-11-06 20:45:16,243 - DEBUG - ---<NombreWebServer[1]> = server1
2019-11-06 20:45:16,245 - DEBUG - ---<NombreWebServer[2]> = server1
2019-11-06 20:45:16,247 - DEBUG - ---INFORMACIÓN PARA ADMINISTRACIÓN DE COLAS
2019-11-06 20:45:16,250 - DEBUG - ---<MáquinaServiciosMQ>: Corresponde a la IP o nombre de la máquina de los servicios MQ de Banistmo objeto de las actividades a realizar para garantizar el proceso de continuidad.
2019-11-06 20:45:16,252 - DEBUG - ---<MáquinaServiciosMQ> = 10.5.132.12
2019-11-06 20:45:16,254 - DEBUG - ---<NombreGestorColas>: Corresponde al nombre del gestor de colas objetivo de las actividades a ejecutar.  
2019-11-06 20:45:16,256 - DEBUG - ---<NombreGestorColas> = PDBDMF01
2019-11-06 20:45:16,258 - DEBUG - ---<NombreCanal>: Corresponde al nombre del canal objetivo de las actividades a ejecutar.
2019-11-06 20:45:16,259 - DEBUG - ---<NombreCanal> = PDBDMF01.PPAA
2019-11-06 20:45:16,261 - DEBUG - ---BAJAR HTTPSERVERS (IHS) PARA BANISTMO
2019-11-06 20:45:16,264 - DEBUG - ---         El procedimiento para detener e iniciar el IHS de Banistmo es el siguiente (en el orden indicado):
2019-11-06 20:45:16,266 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:45:16,268 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.134.20 HOSTNAME SBBANBCE07v
2019-11-06 20:45:16,270 - DEBUG - ---Conectarse a la máquina 10.5.83.20 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:45:16,273 - DEBUG - ---BAJAR WEB SERVER WebServer1
2019-11-06 20:45:16,275 - DEBUG - ---          Ubicarse en la ruta   /opt/IBM/HTTPServer/bin
2019-11-06 20:45:16,277 - DEBUG - ---CONECTAR IHS DE BANISTMO 10.5.83.21 HOSTNAME SBBANBCE08v
2019-11-06 20:45:16,279 - DEBUG - ---Conectarse a la máquina 10.5.83.21 por medio de PUTTY u otra aplicación para el acceso a través de ssh.
2019-11-06 20:45:16,283 - DEBUG - ---BAJAR WEB SERVER WEBSERVER1
2019-11-06 20:45:16,285 - DEBUG - ---Ubicarse en la ruta /opt/IBM/HTTPServer/bin
2019-11-06 20:45:16,289 - DEBUG - ---SINCRONIZACIÓN DE CANALES MQ INTERMEDIOS
2019-11-06 20:45:16,291 - DEBUG - ---Realizar la ejecución de comandos sobre el gestor de colas objetivo de la prueba de continuidad del servicio.
2019-11-06 20:45:16,293 - DEBUG - ---Conectarse a través de la VPN de Banistmo.
2019-11-06 20:45:16,296 - DEBUG - ---A TRAVÉS DE COMANDOS
2019-11-06 20:45:16,298 - DEBUG - ---Conectarse a la máquina de servicios MQ para Banistmo 10.5.132.12
2019-11-06 20:45:16,301 - INFO - Indexing file: TIPS-BROKER-MQ.txt
2019-11-06 20:45:16,302 - DEBUG - ---************************************************* Listar broker y puertos
 **************************************************
sdurier@pbmdeadmeb01(/home/sdurier)# ps -fea | grep runmqlsr

************************************************* Permisos sudo **************************************************

Cuando fallen los permisos sobre "su" se debe ejecutar la shell (sudo sh "su - mqm") por ejemplo

********************************************* ConfiguraciÃ³n Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n endpointAddress -v https://serviceregistry.bancolombia.corp/WSRR8_0/services/WSRRCoreSDOPort

******************************************** Verificacion Propiedad endpointAddress para la instancia de WSRR ****************************************

mqsireportproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -r

********************************************* Repisado usuario registry ****************************************

mqsisetdbparms PBANQMGR_BROKER -n DefaultWSRR::WSRR -u CNXWPBBA

*********************************************Configuracion needCache ****************************************

mqsichangeproperties PBANQMGR_BROKER -c ServiceRegistries -o DefaultWSRR -n needCache -v false 

*********************************************Version Broker ****************************************
PBMDEADMEB01[mqsi7tes]/opk/IBM/mqsi/7.0/bin>mqsiservice -v


mqsiservice -v

*********************************************reiniciar grupo de ejecucion ****************************************

mqsistopmsgflow CPANQMGR -e FINACLE_SWIFT

mqsistopmsgflow -p 1414 -q PPANQMGR -b PPANQMGR_BROKER -e GD_COMMON


******************************************** Matar y reiniciar GE hilos grupos de ejecucion GE *********************************

mqsireload CPANQMGR_BROKER -e GEIAM_H01


******************************************** Refrescar seguridad MQ SSL *************************************

Paso 1: runmqsc CPANQMGR
Paso 2: REFRESH SECURITY TYPE(SSL)
esperas que termine y listo
si no funciona.. toca reiniciar el gestor de colas

******************************************** Usuarios MQ y Broker *********************************************

mqm/mqmb4nc0*
mqsiadm/mqsib4nc0*

********************************** Revisar un datasource de tipo ODBC ***************************************

mqsicvp CCOLQMGR_BROKER -n INDOCQDB

********************************* Reinciar Broker y el gestor *************************************************

mqsistop CPANQMGR_BROKER  -----  Con el usuario mqsiadm6
mqsistop CPANQMGR_CONFIG  -----  Con el usuario mqsiadm6
endmqm CPANQMGR ------  Con el usuario mqm


strmqm CPANQMGR  ------  Con el usuario mqm
mqsistart CPANQMGR_CONFIG -----  Con el usuario mqsiadm6
mqsistart CPANQMGR_BROKER -----  Con el usuario mqsiadm6


dspmq - Para verificar el estado del gestor (mqm)
mqsilist NOMBRE_BROKER (Esto debe listar todos los grupos de ejecuciÃ³n del broker con un nÃºmero de proceso por cada grupo)
ps -fe | grep bipbroker (Con esto lista todos los Broker)
ps -fea | grep lsr (Con esto lista usuario MQ)


***************************************** Inhibir y desinhibir colas *****************************************

dentro de la consola de comandos de MQ
runmqsc PPANQMGR
alter qlocal(INT_IAFINACLE_INT.QL.REQ) get(ENABLED) put(ENABLED)
alter qlocal(LA_COLA) get(ENABLED) put(ENABLED)

ALTER QLOCAL (IAM_CUSTOMERRESPONSE_INT.QL.RES) GET(ENABLED) PUT(ENABLED)


************************************** Permisos gestor y colas *********************************************

Permisos gestor

setmqaut -m BCOLQMGR -t qmgr -g grxqqswf +setall +setid +connect +inq +set

Validar Permisos Qmanager
estot
dspmqaut -m CCOLQMGR -t qmgr -g grxqqswf

Permisos colas

setmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb +inq +put +set


Validar Permisos Colas
dspmqaut -m BCOLQMGR -n "SYSTEM.BROKER.AUTH.GEIBM_M11" -t q -g brk7desb


Permisos Topicos

setmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Exception" -t topic q -g mqdpcnxd +setid +pub +sub

Validar Permisos Topicos

dspmqaut -m BCOLQMGR -n "8.209.WDP.Monitoring.Info" -t top -g mqdpcnxd

****************************************** inyectar mensajes por consola ********************************
Usuario mqm

q -m CCOLQMGR -o INT_PEPSYS2CLS_INT.QL.CFG âF /tmp/INT_PEPSYS2CLS_INT.QL.CFG.txt

***************************************** Ver el consume de memoria de un proceso ***************************************

svmon -P 19923018 -O summary=basic,unit=MB

********************************** ruta donde estÃ¡ el log de java de un grupo de ejecuciÃ³n ********************************************

/var/mqsi/components/nombre-broker/+ codigo del GE 

PBMDEAPMEB01[sdurier]/home/sdurier>ps -fea | grep GEINT_H04
 mqsiadm 17563772  9633996   0 21:32:08      -  0:00 /bin/ksh /opk/IBM/mqsi/7.0/bin/startDataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 mqsiadm 19071054 17563772   1 21:32:08      - 90:44 DataFlowEngine PCOLQMGR_BROKER 8aec7593-3c01-0000-0080-8f3c80cf8deb GEINT_H04
 sdurier 26607618 24838288   0 11:08:19 pts/12  0:00 grep GEINT_H04


/var/mqsi/components/nombre-broker8aec7593-3c01-0000-0080-8f3c80cf8deb


********************************** comrprimir el log de java de un grupo de ejecuciÃ³n ********************************************


tar cvf - stderr stdout  | gzip -c > /tmp/logs.tar.gz

******************************************* Ver los 10 procesos de mayor consumo ************************************************

ps auxw | sort -r +3 |head -10

******************************************* Creacion Colas .def **********************************************************************

runmqsc CCOLQMGR < QM-SAT25.def > QM-SAT25.def.txt

echo "define qlocal (SVE_NEGDIVISAS_INT.QL.RES)" | runmqsc CCOLQMGR
DEFINE QLOCAL (INT_TODO0062ERU_INT.QL.REQ)
DEFINE QALIAS(PCCALERENV) TARGQ(PCC_ALERTAS_ENVIADAS.QL.REQ) DESCR('Cola alias de la colaÂ  PCC_ALERTAS_ENVIADAS.QL.REQ') 

******************************************** Extraer y Eliminar una cantidad especifica de mensajes en una cola ***********************************

q -m PCOLQMGR -I INT_SINCCLIENTE_FIN.QL.REQ -L19 > /tmp/INT_SINCCLIENTE_FIN.QL.REQ1.txt (-L19 Cantidad a borrar)

**************************************** Extraer mensajes *****************************************************************

q -m PCOLQMGR -I GAF_INFOCIFIN.QL.RES > /tmp/GAF_INFOCIFIN.QL.RES.txt (Eliminando mensajes)


****************************************** Extraer de mensajes de una cola con encabezado *************************************************

q -m CBANQMGR -i FIN_OUTMENSAJEBAN_SWI.QL.ERR -dd3 > /tmp/FIN_OUTMENSAJEBAN_SWI.QL.ERR.txt  (Dejando copia)
donde MQ es el gestor, y Q el nombre de la cola

****************************************** Extraer de mensajes de una cola por mensaje (individual) *************************************************

/var/mqm/qload âm QMGR âi COLA âf /tmp/MENSAJES/mensaje%n.txt

/var/mqm/qload âm PBANQMGR âi FIN_OUTMENSAJEBAN_SWI.QL.ERR âf /tmp/MENSAJES/mensaje%n.txt

Extraer mensajes para reinyecciÃ³n posterior
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO%n
/var/mqm/qload âm GESTOR âi COLA âf ARCHIVO_DESTINO


********************************************* Copiar o mover mensajes entre Colas ******************************************************************

Move messages between Queues : q -m QueueManager -IQ1 -oQ2
Copy messages between Queues : q -m QueueManager -iQ1 -oQ2

q -m PPANQMGR -iFIN_FINACLE_INTEGR_SWIFTPA_QL_ERR -oFIN_OUTMENSAJEPA_SWI.QL.RES

******************************************** Conocer el puerto de un broker *****************************************************************************

ps -fea | grep runmqlsr

******************************************  Sobreescribir una variable en un .bar ***********************************************************

mqsiapplybaroverride -b archivo.bar -m "Variable=Valor"

mqsiapplybaroverride -b TOD0052_SCT.bar -m "Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS" 

TambiÃ©n se puede sobrescribir una variable a partir de un archivo

En el archivo solo escribe 

Variable=Valor
Parametrizador_Respuestas#Invoca Cache.URLSpecifier=http://localhost:7080/PARAMETRIZADOR_RESPUESTAS

Se guarda el archivo con extensiÃ³n .properties

Y luego en consola se ingresa el siguiente comando

mqsiapplybaroverride -b archivo.bar -p archivo.properties

mqsiapplybaroverride -b CM_HUB-RecuperarCliente_SC.bar -p CM_HUB-RecuperarCliente_SC.properties

Para generar un nuevo bar con los valores que se sobre escribieron.

mqsiapplybaroverride -b SAT99_RecaudoTarjetaCredito.bar -p CM_HUB-RecuperarCliente_SC.properties -o SAT99_RecaudoTarjetaCredito_QA.bar

*************************************** Desplegar un .bar *****************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e ALL_COMMONS -a TODO1ConsumerAdapter.bar


**************************************** Desinstalar un flujo **************************************************

mqsideploy -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e CRM_SINCFE_GEN -d com.bancolombia.client.CopyOriginalMsg_Agg.cmf

**************************************** Validar propiedades de un flujo **************************************************


mqsilist CPANQMGR_BROKER -e GEINT_M02 -r -d2 

**************************************** Habilitar eventos monitoreo ********************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "ErrorAdapterV2.0.terminal.in" -i enable

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -s "LoggingAdapterV2.0.terminal.in" -i enable


***************************************** Activar monitoreo en flujos ******************************************************

mqsichangeflowmonitoring CPANQMGR_BROKER -e GEINT_H03 -f Servicios.VerificarIdentidadClienteFlow -c active

******************************************* Activar y desactivar estadisticas GE **************************************

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c active -o xml -n basic

mqsichangeflowstats PPANQMGR_BROKER -s -e GEFIN_M01 -j -c inactive -o xml -n basic


**************************************** Creacion grupo ejecucion *************************************************

mqsicreateexecutiongroup CPANQMGR_BROKER -e GEINT_H02

*************************************** Reiniciar Flujos ************************************************************

mqsistopmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

mqsistartmsgflow -p 1416 -q CPANQMGR -b CPANQMGR_BROKER -e SAP_CRM_CLIENTES -m  icr.IA_ICRFlow

****************************************** Ingreso password datasource (repisar) ***************************************

mqsisetdbparms broker -n Nombre del Datasource -u Usuario

mqsisetdbparms PPANQMGR_BROKER -n INDOCPDB -u CATALOGO

******************************************* Ingreso password SFTP *************************************************

mqsisetdbparms broker -n sftp:nombre de la conexiÃ³n SFTP -u usuario 

mqsisetdbparms CCOLQMGR_BROKER -n sftp::secIdFtpSenTrans -u usersftp -p Azsx.4123

********************************************** Ruta - Revision Datasources creados y SFTP *************************************

/var/mqsi/registry/CPANQMGR_BROKER/CurrentVersion/DSN

RUTA PARA VERIFICAR LOS ODBC EXISTENTES

 /odbc64.ini Ruta para verificar los ODBC existentes

 Para ver que .ini se esta utilizando echo $ODBCINI
 
 vi /home/mqsiadm/odbc64.ini
 
*********************************************** Reporte general de Configuracion Broker ******************************************

mqsireportproperties CPANQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r


*************************************************** Verificar el config Manager ************************************************

ps -fea | grep PPANQMGR_CONF

*********************************** INFORME DE PUERTO HTTP O HTTPS Y WEBSERVICES PERTENECIENTES A UN GRUPO DE EJECUCIÃN*********************************

Puerto HTTPS

mqsireportproperties BCOLQMGR2_BROKER -e Adaptadores -o HTTPConnector -r
mqsireportproperties CPANQMGR_BROKER -b httplistener -o HTTPSListener -a 

Puerto HTTP

mqsireportproperties PCOLQMGR_BROKER -e SAP_ERP_PROVEEDORES -o HTTPSConnector -r
mqsireportproperties PCOLQMGR_BROKER -e SAP_CRM_CLIENTES -o HTTPSConnector -r
mqsireportproperties CPANQMGR_BROKER -e FINACLE_CRM -o HTTPSConnector -r

************************************************ PUERTOS HTTP Y HTTPS PARA CADA BROKER ***********************************************

mqsireportproperties BCOLQMGR2_BROKER -b httplistener -o HTTPConnector -a

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPListener -n enableSSLConnector -v true

mqsireportproperties CPANQMGR_BROKER -b httplistener -o AllReportableEntityNames -a 

**************************************************ASIGNACIÃN DE PUERTO ***************************************************************

mqsichangeproperties CPANQMGR_BROKER -b httplistener -o HTTPSConnector -n port -v 7480 


**************************************************** LOG DE ERRORES *****************************************************************

var/mqm/errors/user.log 
/opk/IBM/mqsi/user.log PPANQMGR
/var/mqsi/common/log
var/mqm/qmgrs/BCOLQMGR2/errors


************************************************** Creacion canal *********************************************************

define channel(SWIFT.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('userswift') SSLCIPH(TRIPLE_DES_SHA_US)

****************************************************** CREACIÃN DE UN JDBC *******************************************************

mqsicreateconfigurableservice BCOLQMGR3_BROKER -c JDBCProviders -o DB2_ICR -n connectionUrlFormat,jarsURL,databaseType,securityIdentity,portNumber,serverName,type4DatasourceClassName,type4DriverClassName -v "jdbc:as400://[serverName]:[portNumber]/[databaseName]:user=[user];password=[password];,/home/wasencio/jars/toolbox,DB2,ICRSecurityIdentity,446,10.9.2.221,com.ibm.as400.access.AS400JDBCDataSource,com.ibm.as400.access.AS400JDBCDriver"

mqsisetdbparms PPANQMGR_BROKER -n jdbc::HUBOPE_SecurityIdentity -u CNXBRKOPEFE

UBOPE_DS 
    connectionUrlFormat='jdbc:oracle:thin:[user]/[password]@[serverName]:[portNumber]:[connectionUrlFormatAttr1]'
    connectionUrlFormatAttr1='OPEFEQDB'
    connectionUrlFormatAttr2=''
    connectionUrlFormatAttr3=''
    connectionUrlFormatAttr4=''
    connectionUrlFormatAttr5=''
    databaseName='OPEFEQDB'
    databaseType='Oracle'
    databaseVersion='default_Database_Version'
    description='default_Description'
    environmentParms='default_none'
    jarsURL='/opk/mqsiadm/drivers/oracle'
    portNumber='1523'
    securityIdentity='HUBOPE_SecurityIdentity'
    serverName='PBMDEAQHUB01'
    type4DatasourceClassName='oracle.jdbc.xa.client.OracleXADataSource'
    type4DriverClassName='oracle.jdbc.OracleDriver'



****************************************************** CAMBIAR PROPIEDADES DE UN JDBC ****************************************************

mqsichangeproperties BCOLQMGR_BROKER -c JDBCProviders -o DS_TRACING -n databaseName -v TRACEDDB

-n --NombrePropiedad-- -v --ValorPropiedad- -o NombreJDBC

****************************************************** LISTAR TODOS LOS JDBC ****************************************************

mqsireportproperties PCOLQMGR_BROKER -c JDBCProviders -o AllReportableEntityNames -r 

************************************************** ExtracciÃ³n de Certificados ******************************************************************

keytool -export -keystore BrokerKeystore.jks -alias brokerdesarrollo -file Cert_Desarrollo.cert


display channel(MUREX.SVRCONN) all


***************************************************** OBTENCIÃN DE CERTIFICADOS MQ ******************************************************************

gsk7cmd -cert -extract -db <filename>.kdb -pw <password> -type <cms | jks | jceks | pks12> -label <label> -target <target>.arm -format <ascii | binary>

gsk7cmd -cert -extract -db key_pcolqmgr.kdb -pw key_pcolqmgr -type cms -label ibmwebspheremqpcolqmgr -target /tmp/cert_pcolqmgr.arm -format ascii


***************************************************** Certificados *****************************************************************
gsk7cmd -cert -add -db BCOLQMGR2.kdb -pw BCOLQMGR2 -label ibmwebspheremqcnxqdmpt -format ascii -trust enable -file /tmp/ibmwebspheremqcnxqdmpt.cer (Cuando envian un certificado y deseo agregarlo a mi truestore en el caso de mq keystore, usuario externeo ejemplo ibmwebspheremqcnxqdmpt)

gsk7cmd -cert -receive -db <filename>.kdb -pw <password> -format <ascii | binary> -file <filename> (Cuando es un certificado personal, por lo Gral es add (Punto 1))


gsk7cmd -cert -list personal -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert personales)
gsk7cmd -cert -list all -db BCOLQMGR2.kdb -pw BCOLQMGR2 -type cms


gsk7cmd -cert -extract -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms -label ibmwebspheremqccolqmg2 -target /tmp/ibmwebspheremqccolqmg2.cer -format ascii 


gsk7cmd -cert -list CA -db /var/mqm/qmgrs/CCOLQMG2/ssl/key_ccolqmg2.kdb -pw key_ccolqmg2 -type cms (cert firmantes)


**************************************************** para validar recursos en broker SMTP ******************************************************

mqsireportproperties CCOLQMGR_BROKER -o AllReportableEntityNames -c AllTypes -r

para modificar un recurso en broker SMTP

mqsichangeproperties CCOLQMGR_BROKER -c SMTP -o BancolombiaSMTPService -n serverName -v Exchange.bancolombia.corp


**************************************************** Limpiar un log **************************************************

> user.log

**************************************************** Hacer un cambio a una propiedad *******************************************

mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsichangeproperties PPANQMGR_BROKER -c Aggregation -o HeaderESBXML_FINACLE -n timeoutSeconds -v 60
BIP8071I: Successful command completion.
mqsiadm@PBPAMTPMEB01(/home/mqsiadm)$ mqsireportproperties PPANQMGR_BROKER -c Aggregation -o AllReportableEntityNames -r

Aggregation
  HeaderESBXML_FINACLE
    queuePrefix=''
    timeoutSeconds='60'
  IntAdap_Aggregate
    queuePrefix=''
    timeoutSeconds='20'

BIP8071I: Successful command completion.

******************************************************* Cambiar el numero de instancias en un flujo **********************************

1. Hacer un mqsireadbar al .bar y sacarlo a un .txt
2. En el archivo buscar el parametro por ejm (IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances)
3. a este parametro se le hace un mqsiapplybaroverride igualandolo al valor que indiquen ejm (mqsiapplybaroverride -b IA_FINACLE.bar -m "IA_FINACLE_OUT#INT_ILHEADERFIN2_INT.QL.RAP.additionalInstances=4")
4. desplegamos el bar y verificamos en la evidencia.

::::::::::::::::::::::::::::::::::

5.
Canales
--------------------------------------------------------------------------------------------------------------------------------
(listar las conexiones de un canal y su estado)
echo "display chstatus(NOMBRE_CANAL) status" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(OPTIONAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n con security exit y SSL)
echo "define channel(NOMBRE_CANAL) chltype(SVRCONN) descr('DescripciÃ³n textual de canal') mcauser('cnxusuario') scydata('FN=/var/mqm/exits/NOMBRE_ARCHIVO_EXIT;') scyexit('BlockIP2(BlockExit)') sslcauth(REQUIRED) sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)')" | runmqsc NOMBRE_QUEUE_MANAGER

(crear canal para conexiÃ³n cliente con SSL)
echo "define channel(NOMBRE_CANAL) chltype(CLNTCONN) descr('DescripciÃ³n textual de canal') trptype(TCP) conname('10.4.33.23(1415)') sslciph(TRIPLE_DES_SHA_US)" | runmqsc NOMBRE_QUEUE_MANAGER
/var/mqm/qmgrs/[QUEUE_MANAGER]/@ipcc

(eliminar canal SVRCONN y CLNTCONN)
echo "delete channel(NOMBRE_CANAL)" | runmqsc PPANQMGR
echo "delete channel(NOMBRE_CANAL) CHLTABLE(CLNTTBL)" | runmqsc PPANQMGR

(detener/iniciar un canal)
echo "stop chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "start chl(NOMBRE_CANAL)" | runmqsc NOMBRE_QUEUE_MANAGER

(refrescar canal)
echo "refresh qmgr type(CONFIGEV) name(NOMBRE_CANAL) object(CHANNEL)" | runmqsc NOMBRE_QUEUE_MANAGER

(inactivar un canal de manera controlada y de manera forzada, respectivamente)
echo "stop chl(NOMBRE_CANAL) mode(quiesce) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER
echo "stop chl(NOMBRE_CANAL) mode(force) status(inactive)" | runmqsc NOMBRE_QUEUE_MANAGER





Activar
mqsichangetrace PCOLQMGR_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l debug -r -c 1048576


Desactivar
mqsichangetrace NOMBRE_BROKER -u -e GETES_M01 -f com.bancolombia.murex.sentrans.sen_trans -l none  



Convertir log                              
mqsireadlog NOMBRE_BROKER -u -e GETES_M01 -o log.xml
mqsiformatlog -i log.xml -o log_flujo.log 


********************************* mirar la dead letter queue de un gestor **************************************

mqm@pbmdeaqprs01(/var/mqm)# runmqsc CPANQMGR
5724-H72 (C) Copyright IBM Corp. 1994, 2009.  ALL RIGHTS RESERVED.
Starting MQSC for queue manager CPANQMGR.


dis qmgr all
     1 : dis qmgr all
AMQ8408: Display Queue Manager details.
   QMNAME(CPANQMGR)                        ACCTCONO(DISABLED)
   ACCTINT(1800)                           ACCTMQI(OFF)
   ACCTQ(OFF)                              ACTIVREC(MSG)
   ALTDATE(2013-05-23)                     ALTTIME(14.35.39)
   AUTHOREV(ENABLED)                       CCSID(819)
   CHAD(DISABLED)                          CHADEV(DISABLED)
   CHADEXIT( )                             CHLEV(ENABLED)
   CLWLDATA( )                             CLWLEXIT( )
   CLWLLEN(100)                            CLWLMRUC(999999999)
   CLWLUSEQ(LOCAL)                         CMDEV(ENABLED)
   CMDLEVEL(701)                           COMMANDQ(SYSTEM.ADMIN.COMMAND.QUEUE)
   CONFIGEV(ENABLED)                       CRDATE(2013-03-08)
   CRTIME(11.09.26)                        DEADQ(CPANQMGR.DEAD.LETTER.QUEUE)
   DEFXMITQ( )                             DESCR( )
   DISTL(YES)                              INHIBTEV(DISABLED)
   IPADDRV(IPV4)                           LOCALEV(DISABLED)
   LOGGEREV(DISABLED)                      MARKINT(5000)
   MAXHANDS(256)                           MAXMSGL(104857600)
   MAXPROPL(NOLIMIT)                       MAXPRTY(9)
   MAXUMSGS(10000)                         MONACLS(QMGR)
   MONCHL(OFF)                             MONQ(OFF)
   PARENT( )                               PERFMEV(ENABLED)
   PLATFORM(UNIX)                          PSRTYCNT(5)
   PSNPMSG(DISCARD)                        PSNPRES(NORMAL)
   PSSYNCPT(IFPER)                         QMID(CPANQMGR_2013-03-08_11.09.26)
   PSMODE(ENABLED)                         REMOTEEV(DISABLED)
   REPOS( )                                REPOSNL( )
   ROUTEREC(MSG)                           SCHINIT(QMGR)
   SCMDSERV(QMGR)                          SSLCRLNL( )
   SSLCRYP( )                              SSLEV(ENABLED)
   SSLFIPS(NO)
   SSLKEYR(/var/mqm/qmgrs/CPANQMGR/ssl/key_cpanqmgr)
   SSLRKEYC(0)                             STATACLS(QMGR)
   STATCHL(OFF)                            STATINT(1800)
   STATMQI(OFF)                            STATQ(OFF)
   STRSTPEV(ENABLED)                       SYNCPT
   TREELIFE(1800)                          TRIGINT(999999999)


*********Determinar nÃºmero de mensajes en la cola, y si aÃºn no han sido aplicados (COMMIT) *********

DISPLAY QSTATUS(REC_QRINOTCLI_RIN.QL.REQ) CURDEPTH UNCOM
DISPLAY QSTATUS(REC_QRINUNE_RIN.QL.REQ) CURDEPTH UNCOM

********************* Crear grupo de ejecucion ************************++

mqsicreateexecutiongroup CCOLQMGR_BROKER -e GE_GEN_01

************************* Activar monitoreo de flujos ******************+

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "ErrorAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoError_flujo.txt

mqsichangeflowmonitoring CCOLQMGR_BROKER -e Grupo_Ejecucion -f Flujo -s "LoggingAdapterV2.0.terminal.in" -i enable > /tmp/ResultadoLogin_flujo.txt
2019-11-06 20:45:16,337 - INFO - Indexing file: Reinicio de Intermedia.docx
2019-11-06 20:45:16,349 - DEBUG - ---Reinicio de Intermedia
2019-11-06 20:45:16,351 - DEBUG - ---A continuación se detallará el paso a paso para reiniciar Intermedia.
2019-11-06 20:45:16,352 - DEBUG - ---Ubicarse en la consola de servicios de Windows.  Se puede ingresar por Panel de Control -> Herramientas Administrativas -> Servicios (como se ve en la imagen de abajo).
2019-11-06 20:45:16,354 - DEBUG - ---También se puede ingresar digitando en la ventana Ejecutar (Run) “services.msc” (como se ve en la imagen de abajo):
2019-11-06 20:45:16,356 - DEBUG - ---Luego, ubicarse en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “stop”:
2019-11-06 20:45:16,359 - DEBUG - ---En la ventana que aparece a continuación “Stop Other Services”, dar clic en el botón “Yes”.
2019-11-06 20:45:16,361 - DEBUG - ---Los servicios “beasvc valores_domain_IntermediaServer” y “beasvc valores_domain_ReportesIntServer” deben estar detenidos:
2019-11-06 20:45:16,362 - DEBUG - ---Luego, estando ubicado en el servicio “beasvc valores_domain_IntermediaServer”, dar clic derecho y seleccionar “Start”
2019-11-06 20:45:16,365 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:45:16,366 - DEBUG - ---El servicio “beasvc valores_domain_IntermediaServer” debe aparecer en estado Started.
2019-11-06 20:45:16,368 - DEBUG - ---Luego, iniciar el servicio “beasvc valores_domain_ReportesIntServer”, dando clic derecho sobre él y seleccionar “Start”:
2019-11-06 20:45:16,369 - DEBUG - ---Esperar a que la barra de progreso llegue al 100%.
2019-11-06 20:45:16,370 - DEBUG - ---El servicio “beasvc valores_domain_ReportesIntServer”, debe aparecer en estado Started.
2019-11-06 20:45:16,372 - INFO - Indexing file: PTR_ACT - LDAP - Subir servicios WAS sbbanbld01v .docx
2019-11-06 20:45:16,405 - DEBUG - ---

2019-11-06 20:45:16,407 - DEBUG - ---Control de Versiones
2019-11-06 20:45:16,412 - DEBUG - ---

2019-11-06 20:45:16,414 - DEBUG - ---Nombre del PTR
2019-11-06 20:45:16,416 - DEBUG - ---Consideraciones previas
2019-11-06 20:45:16,417 - DEBUG - ---Validar que el área de trabajo sea el DR utilizando el comando uptime:
2019-11-06 20:45:16,421 - DEBUG - ---Para las pruebas en el DR es posible que la dirección IP del controlador de dominio destinado sea diferente al configurado en WAS por lo que es necesario en primer lugar validar dicha configuración. Si se da este caso entonces es necesario proceder a actualizar la configuración de la celda WAS para que apunte al nuevo servidor. Después de realizar este cambio es necesario reiniciar la celda completa. De igual  manera proceder a ingresar por la consola web de WAS para validar que la autenticación se exitosa.
2019-11-06 20:45:16,425 - DEBUG - ---Ingresar al archivo LDAP_DMGR/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:45:16,435 - DEBUG - ---Ingresar al archivo LDAP_AppSrv01/config/cells/SBBANBLD01vCell01/security.xml y proceder a cambiar la dirección IP 10.5.133.4 por 10.61.178.10:
2019-11-06 20:45:16,440 - DEBUG - ---Validar en la celda que servidores de aplicación se encuentran iniciados. Para esto es necesario ingresar a la consola WEB y validar el estado de los Appserver.
2019-11-06 20:45:16,443 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:45:16,447 - DEBUG - ---También se puede realizar esta validación ingresando por una sesión SSH y validar los proceso java que se estén ejecutando en el servidor.
2019-11-06 20:45:16,450 - DEBUG - ---Para esto es necesario ingresar a los dos servidores donde se encuentra LDAP y validar que el dmgr, node y AppeServer se encuentran en estado de ejecución. 
2019-11-06 20:45:16,453 - DEBUG - ---SBBANBLD01v
2019-11-06 20:45:16,457 - DEBUG - ---SBBANBLD02v
2019-11-06 20:45:16,460 - DEBUG - ---Por último es necesario validar que la Shell que inicia y detiene servicios se encuentre en el home del usuario de servicio de WAS. Esto lo encontramos en la siguiente ruta.
2019-11-06 20:45:16,464 - DEBUG - ---wassvc01@SBBANBLD01v:~>
2019-11-06 20:45:16,467 - DEBUG - ---wassvc01@SBBANBLD02v:~>
2019-11-06 20:45:16,473 - DEBUG - ---Descripción de las actividades
2019-11-06 20:45:16,475 - DEBUG - ---Detener servicios del LDAP en WAS
2019-11-06 20:45:16,477 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:45:16,478 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:45:16,480 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:45:16,483 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:45:16,487 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:45:16,489 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:45:16,491 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro stop. Ejemplo: ./was_task.sh stop
2019-11-06 20:45:16,493 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:45:16,500 - DEBUG - ---Iniciar servicios del LDAP en WAS
2019-11-06 20:45:16,503 - DEBUG - ---Ingresar al servidor SBBANBLD01v
2019-11-06 20:45:16,505 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:45:16,507 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:45:16,509 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:45:16,515 - DEBUG - ---Ingresar al servidor SBBANBLD02v
2019-11-06 20:45:16,517 - DEBUG - ---Per medio de sudo su se debe pasar al usuario de servicio de WAS, en este caso sería el usuario wassvc01. Ejemplo: sudo su – wassvc01
2019-11-06 20:45:16,520 - DEBUG - ---Desde el home del usuario wassvc01 se debe ejecutar la Shell was_task.sh con el parámetro strat. Ejemplo: ./was_task.sh start
2019-11-06 20:45:16,522 - DEBUG - ---Esperar que el proceso finalice y ejecutar la Shell was_task.sh para validar el estado de los servidores. Ejemplo: ./was_task.sh satust. Ver ejemplo de cómo se debe ver los estados.
2019-11-06 20:45:16,526 - DEBUG - ---Para finalizar se ingresa a la consola para validar que todo los servicios se encuentran en estado runin.
2019-11-06 20:45:16,532 - DEBUG - ---https://10.5.134.196:9043/ibm/console/login.do?action=secure
2019-11-06 20:45:16,543 - INFO - Indexing file: Bibliotecas Compartidas.docx
2019-11-06 20:45:16,560 - DEBUG - ---Bibliotecas Compartidas
2019-11-06 20:45:16,561 - DEBUG - ---Las bibliotecas compartidas permiten configurar los jar que serán usados por la aplicación. En el banco encontramos tres tipos de bibliotecas compartidas:
2019-11-06 20:45:16,564 - DEBUG - ---De uso común: Transversal a muchas aplicaciones. Hacen parte del framework de Bancolombia y están agrupadas por las tareas que ejecutan. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen. No se deben referenciar directorios. 
2019-11-06 20:45:16,567 - DEBUG - ---Bibliotecas de Uso Común
2019-11-06 20:45:16,568 - DEBUG - ---Biblioteca de Encripción
2019-11-06 20:45:16,569 - DEBUG - ---Bibliotecas de Transformación de Mensajería
2019-11-06 20:45:16,570 - DEBUG - ---Biblioteca Seguridad
2019-11-06 20:45:16,571 - DEBUG - ---Biblioteca Web Services
2019-11-06 20:45:16,573 - DEBUG - ---De framewors de terceros: En este caso se debe tener presente la versión referenciada en la biblioteca. Su classpath es /wrkdirr/libdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios.
2019-11-06 20:45:16,575 - DEBUG - ---Hibernate
2019-11-06 20:45:16,576 - DEBUG - ---Spring
2019-11-06 20:45:16,577 - DEBUG - ---De uso específico de la aplicación: También existen bibliotecas con jars específicos de la aplicación. Sin embargo, se aclara que en NINGÚN caso deben referenciar cualquiera de los siguientes jars: 
2019-11-06 20:45:16,579 - DEBUG - ---servlet.jar
2019-11-06 20:45:16,582 - DEBUG - ---jstl.jar
2019-11-06 20:45:16,583 - DEBUG - ---mail.jar
2019-11-06 20:45:16,584 - DEBUG - ---activation.jar
2019-11-06 20:45:16,585 - DEBUG - ---junit.jar
2019-11-06 20:45:16,586 - DEBUG - ---xercesImpl.jar
2019-11-06 20:45:16,587 - DEBUG - ---xml-apis.jar
2019-11-06 20:45:16,589 - DEBUG - ---el-api.jar
2019-11-06 20:45:16,590 - DEBUG - ---el-impl.jar
2019-11-06 20:45:16,591 - DEBUG - ---Su classpath es /wrkdirr/xxxdirr y cada biblioteca debe referenciar cada uno de los jar que la componen, no se deben referenciar directorios. Las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:45:16,593 - DEBUG - ---
Configuración del alcance (scope):
2019-11-06 20:45:16,594 - DEBUG - ---Al encontrarnos en una configuración Network Deployment tenemos la posibilidad de crear la biblioteca en los siguientes alcances:
2019-11-06 20:45:16,597 - DEBUG - ---Celda (Cell): Se debe seleccionar para las bibliotecas compartidas de uso común.
2019-11-06 20:45:16,599 - DEBUG - ---Grupo de servidores (Cluster): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en cluster.
2019-11-06 20:45:16,601 - DEBUG - ---Nodo (Node): No se debe usar.
2019-11-06 20:45:16,602 - DEBUG - ---Servidor (Server): Se debe seleccionar para las bibliotecas compartidas específicas de una aplicación desplegada en un solo servidor de aplicaciones.
2019-11-06 20:45:16,604 - DEBUG - ---Excepciones: 
2019-11-06 20:45:16,606 - DEBUG - ---Si una aplicación desea referenciar un nuevo JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:45:16,607 - DEBUG - ---El JAR no afecta el correcto funcionamiento de las aplicaciones que actualmente usan dicha biblioteca compartida.
2019-11-06 20:45:16,608 - DEBUG - ---El JAR si es de uso común y no es especifico de la aplicación.
2019-11-06 20:45:16,610 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida solo con el (los) nuevos JAR’s, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:45:16,612 - DEBUG - ---Si una aplicación desea referenciar una versión diferente del JAR en una biblioteca de uso común o de frameworks de terceros ya existente, se debe evaluar lo siguiente:
2019-11-06 20:45:16,615 - DEBUG - ---¿Es una nueva versión? 
2019-11-06 20:45:16,616 - DEBUG - ---¿Es compatible con versiones anteriores, con el fin de no afectar aplicaciones que usen una versión anterior?
2019-11-06 20:45:16,618 - DEBUG - ---Si en el momento no hay claridad sobre los puntos anteriores se debe crear una biblioteca compartida con los JAR’s que usara la aplicación, cuyo alcance debe ser de cluster o servidor según como este desplegada la aplicación y el nombre debe ser diferente al de la biblioteca ya definida.
2019-11-06 20:45:16,620 - INFO - Indexing file: Archivos_Configuracion_y_Log.docx
2019-11-06 20:45:16,629 - DEBUG - ---Archivos de Configuración y Log
2019-11-06 20:45:16,631 - DEBUG - ---La idea es que el despliegue de las aplicaciones web se realice con base en un archivo de configuración inicial en formato XML. En este archivo se definen las propiedades que requiere el aplicativo de forma estática y que cambian de acuerdo al ambiente.
2019-11-06 20:45:16,634 - DEBUG - --- 
2019-11-06 20:45:16,635 - DEBUG - ---Propiedades como usuarios de conexión, passwords encriptados, rutas en el sistema de archivos, endpoints para acceder web services, nombres de librerías, nombres de dataqueues (en el caso de la plataforma ISeries), etc, deberán definirse en este archivo. El nombre de este XML de configuración, debe ser: xxx-conf.xml, donde las tres (3) X corresponden al nombre asignado al aplicativo. Ejemplos: tac-conf.xml, pcc-conf.xml, tmx-conf.xml, cae-conf.xml. 
2019-11-06 20:45:16,638 - DEBUG - ---Este archivo deberá ubicarse en una ruta creada para tal efecto y cuyo estándar es el siguiente: /wrkdir/xxxdir. Las tres (3) X corresponden a la sigla asignada al aplicativo. Como ejemplos tenemos: /wrkdirr/tacdirr, /wrkdirr/pccdirr, /wrkdirr/tmxdirr, /wrkdirr/caedirr. 
2019-11-06 20:45:16,640 - DEBUG - ---En este directorio se deben ubicar todos los componentes que hacen parte de la aplicación y que no hacen parte del EAR. Por ejemplo:
2019-11-06 20:45:16,642 - DEBUG - ---JAR’s propios de la aplicación.
2019-11-06 20:45:16,643 - DEBUG - ---Almacenes de certificados (KeyStore)
2019-11-06 20:45:16,644 - DEBUG - ---Archivos de configuración como el ya mencionado xxx-conf.xml
2019-11-06 20:45:16,645 - DEBUG - ---Para que la aplicación pueda acceder a estos archivos, la idea es crear una propiedad personalizada a nivel de la máquina virtual del servidor. El estándar para nombrar esta propiedad será: co.com.grporg.bancolombia.entappxxx.configfile, donde las tres (3) X corresponden a la sigla que identifica cada aplicativo. Dentro del archivo de configuración, debe hacerse referencia a una propiedad en la cual se parametriza la ruta en la que se localiza el archivo de configuración de log. Dicha propiedad en el ejemplo, se llama NombreArchivoLog. El estándar para el nombre de este archivo es xxx-log.xml, donde las tres (3) X corresponden a la sigla asignada al aplicativo.
2019-11-06 20:45:16,649 - DEBUG - ---En este archivo se definen los niveles y tipos de archivo de log que debe generar el aplicativo. La idea es que se generen dos archivos: XXXInfo.log y XXXError.log. Nuevamente las tres (3) X corresponden a la sigla asignada al aplicativo. En el ejemplo tenemos TMXInfo.log y TMXError.log. Con ello, se previene que la aplicación escriba en la consola, práctica que debe ser erradicada en ambientes de producción. El insumo para estos archivos es la existencia de una ruta denominada /logdir/xxxdir. De nuevo, las tres (3) X identifican el aplicativo. Como ejemplo, tenemos /logdirr/tmxdirr.
2019-11-06 20:45:16,651 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-06 20:45:16,683 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:45:16,686 - DEBUG - ---Gerencia de infraestructura banistmo
2019-11-06 20:45:16,690 - DEBUG - ---SUCURSAL VIRTUAL PERSONAS 
2019-11-06 20:45:16,693 - DEBUG - ---BANISTMO
2019-11-06 20:45:16,695 - DEBUG - ---

2019-11-06 20:45:16,698 - DEBUG - ---Control del Documento
2019-11-06 20:45:16,703 - DEBUG - ---

2019-11-06 20:45:16,704 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:45:16,724 - DEBUG - ---

2019-11-06 20:45:16,726 - DEBUG - ---DIAGRAMA DE COMPONENTES DEL DISEÑO SEGÚN LA PLATAFORMA
2019-11-06 20:45:16,729 - DEBUG - ---Producción
2019-11-06 20:45:16,733 - DEBUG - ---

2019-11-06 20:45:16,735 - DEBUG - ---Diagrama E2E
2019-11-06 20:45:16,740 - DEBUG - ---DESCRIPCIÓN DETALLADA DE CADA COMPONENTE EN LA PLATAFORMA BANCO 
2019-11-06 20:45:16,743 - DEBUG - ---PRODUCCIÓN
2019-11-06 20:45:16,745 - DEBUG - ---SECURITY GATEWAY:
2019-11-06 20:45:16,748 - DEBUG - ---El aplicativo Security Gateway cumple el rol de mediador entre el Front-End y los sistemas externos Integrador (ESB), DetectID y Directorio Activo, ADM.
2019-11-06 20:45:16,751 - DEBUG - ---ADM:
2019-11-06 20:45:16,753 - DEBUG - ---Administración de Usuarios. 
2019-11-06 20:45:16,755 - DEBUG - ---Es la aplicación de administración de usuarios, se valida existencia del usuario que está ingresando a la SVP.
2019-11-06 20:45:16,757 - DEBUG - ---DETECT ID
2019-11-06 20:45:16,759 - DEBUG - ---Aplicación que centraliza parte de la seguridad de la nueva Sucursal Virtual Personas (Autenticación, pregunta y respuesta secreta, creación de usuario y contraseña, imagen etc.).
2019-11-06 20:45:16,762 - DEBUG - ---BUS DE INTEGRACION
2019-11-06 20:45:16,767 - DEBUG - ---INTERMEDIARIO
2019-11-06 20:45:16,770 - DEBUG - ---Servidor De Aplicaciones:
2019-11-06 20:45:16,772 - DEBUG - ---Es un producto de la suite de websphere, que está diseñado para soportar sitios web dinámicos, aplicaciones y servicios web. De carácter integrador y multiplataforma (middleware), presta servicios de conectividad de bases de datos, conexión entre diferentes ESB, entre otras funcionalidades a base de código java.
2019-11-06 20:45:16,776 - DEBUG - ---DESCRIPCIÓN DETALLADA DEL DISEÑO EN LA PLATAFORMA
2019-11-06 20:45:16,778 - DEBUG - ---SERVIDOR DE APLICACIONES:
2019-11-06 20:45:16,781 - DEBUG - ---PRODUCCION – UAT – DESARROLLO
2019-11-06 20:45:16,787 - DEBUG - ---Lista De Chequeo recomendado para diagnostico  
2019-11-06 20:45:16,789 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:45:16,791 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:45:16,794 - DEBUG - ---Ej: https://10.5.161.169:9043/admin
2019-11-06 20:45:16,798 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación y validar los logs del App Server systemerr y systemout
2019-11-06 20:45:16,802 - DEBUG - ---Comprobar el ‘estado de salud’ de la máquina. Lo más importante es identificar el consumo de memoria y disco.
2019-11-06 20:45:16,805 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones. 
2019-11-06 20:45:16,807 - DEBUG - ---Contingencia de Infraestructura  Asociadas al servicio
2019-11-06 20:45:16,809 - DEBUG - ---Los procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:45:16,811 - DEBUG - ---El servidor de aplicaciones se encuentra instalado en dos máquinas distintas (Power HA) de modo activo – activo. En las mismas maquinas también está instalado el WebServer y este debe permanecer con el esquema activo – pasivo y con este se determina cuál de las dos máquinas se encuentra atendiendo el servicio.
2019-11-06 20:45:16,818 - DEBUG - ---

2019-11-06 20:45:16,819 - DEBUG - ---Errores conocidos de la Infraestructura
2019-11-06 20:45:16,822 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:45:16,824 - DEBUG - ---A Nivel De Was
2019-11-06 20:45:16,826 - DEBUG - ---A Nivel De La Aplicación
2019-11-06 20:45:16,829 - INFO - Indexing file: SAS ALM REINICIO SERVICIOS AML APP - PRODUCCION.txt
2019-11-06 20:45:16,833 - DEBUG - ---REINICIO DE SERVICIOS ALD - PRODUCCION - APP Y WEB - nuevos
--------------------------------------------------------------------------------------------------

OJO: PARA DETENER PRIMERO TODO LO DEL WAS Y LUEGO TODO EL SERVIDOR DE APLICACIONES.
PARA INICIAR, PRIMERO TODO EL SERVIDOR APLICACIONES Y LUEGO EL SERVIDOR WEB

				DETENCION DE SERVICIOS
               		------------------------------------------
SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------

1. DETENCION SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Autenticarse con el usuario wassvc en el servidor 10.4.80.25 y ejecutar:

DETENCION DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/stopManager.sh" -profileName "WAS01DMGRAML"

Se debe garantizar que no quede ningun proceso asociado al DMGR, al perfil ni tampoco a los application servers, para ello, en putty, ejecutar

ps -fea |grep WAS01AMLAS4
ps -fea |grep WAS01AMLAS3
ps -fea |grep WAS01AMLAS2
ps -fea |grep WAS01AMLAS1
ps -fea |grep WAS01AMLPF
ps -fea |grep WAS01DMGRAML

No nos deberia devolver procesos asociados, en caso contrario matarlos con kill -9

2. DETENCION SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP

Para garantizar que no quede ningun proceso asociado al puerto 5095 (remote services) se debe ejecutar por putty el comando:

netstat -Aan | grep 5095

Lo cual devuelve un resultado como:

f100070001028bb0 tcp4       0      0  *.5095            *.*      LISTEN     para el puerto 5095
valor de ejemplo


con este dato, ejecutamos en consola el comando: 

rmsock f100070001028bb0 tcpcb    donde el valor de la mitad es a modo de ejemplo y se obtiene de la validación inicial del puerto

el resultado de este comando nos da el numero del proceso asociado al puerto que está LISTEN, nos da un resultado como:


The socket 0x1028808 is being held by proccess  (java).
          Valor ejemplo  

Con lo cual podríamos hacer un 

Kill -9 nro proceso   ejemplo: kill -9 766076



SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

3. DETENCION SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------
Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers stop

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en stopping  o NOT UP


	                           INICIO DE SERVICIOS
               		------------------------------------------	

Para iniciar servicios:

SERVIDOR DE APLICACIONES -  10.8.3.188
--------------------------------------------------------------------------------------------------

1. INICIO SERVICIOS SAS - con usuario sasald - 10.8.3.188 (pbmdebpald06) - Lo ejecuta Plataformas Pseries Aplicaciones
--------------------------------------------------------------------------------------------------

Ubicarse en la ruta:
/sasald/sas_config/Lev5
y ejecutar: ./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

SERVIDOR WEB -  10.4.80.25
--------------------------------------------------------------------------------------------------
2. INICIO SERVICIOS SAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC 
--------------------------------------------------------------------------------------------------

ubicarse en la ruta:

/wrkdirr/SAS/SASALD/sas_config/Lev5

y ejecutar - con usuario wassvc:
./sas.servers start

para verificar estado de servicios:   ./sas.servers status  ---- Todos deben estar en running o  UP

3. INICIO DE SERVICIOS WEB WAS - con usuario wassvc - 10.4.80.25 - Lo hace IBM por OC
--------------------------------------------------------------------------------------------------

INICIO DE SERVICIOS WAS EN 10.4.80.25 - con usuario wassvc

"/was7/IBM/WebSphere/AppServer/bin/startManager.sh" -profileName "WAS01DMGRAML"
"/was7/IBM/WebSphere/AppServer/bin/startNode.sh" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS1" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS2" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS3" -profileName "WAS01AMLPF"
"/was7/IBM/WebSphere/AppServer/bin/startServer.sh" "WAS01AMLAS4" -profileName "WAS01AMLPF"


VALIDACION URL'S
--------------------------------------------------------------------------------------------------

Consola Administracion de WAS por puerto no seguro: http://pbmdeapwas01.bancolombia.corp:51400/ibm/console/unsecureLogon.jsp

SAS Stored Process Web Application:    		http://pbmdeapwas01.bancolombia.corp:51450/SASStoredProcess/do
SAS Web Administration Console:        		http://pbmdeapwas01.bancolombia.corp:51450/SASAdmin
SAS Web Report Studio:		       		http://pbmdeapwas01.bancolombia.corp:51500/SASWebReportStudio
SAS Information Delivery Portal        		http://pbmdeapwas01.bancolombia.corp:51450/SASPortal
SAS BI Dashboard		       		http://pbmdeapwas01.bancolombia.corp:51450/SASBIDashboard
SAS Flex Application Themes:           		http://pbmdeapwas01.bancolombia.corp:51450/SASThemeDesignerForFlex. 
SAS Enterprise Case Management Mid-tier: 	http://pbmdeapwas01.bancolombia.corp:51550/SASEntCaseManagement
SAS Help Viewer for Midtier Applications: 	http://pbmdeapwas01.bancolombia.corp:51500/SASWebDoc
SAS Anti-Money Laundering Investigation UI 5.1: http://pbmdeapwas01.bancolombia.corp:51550/AntiMoneyLaunderingInvestUI_BusinessUnit
pdnwsaml
pbmdeapwas01








2019-11-06 20:45:16,843 - INFO - Indexing file: Datos ECM - Arquitectura PSeries.docx
2019-11-06 20:45:16,937 - DEBUG - ---Las urls de Capacitación son: 
2019-11-06 20:45:16,939 - DEBUG - ---WAS: 
2019-11-06 20:45:16,940 - INFO - Indexing file: Datos ECM - Arquitectura Windows.docx
2019-11-06 20:45:16,951 - INFO - Indexing file: Pasos Instalacion TLSv1-2 RSA.docx
2019-11-06 20:45:16,959 - DEBUG - ---Ingresar al dmgr de calidad
2019-11-06 20:45:16,960 - DEBUG - ---Ir a security a la opción de la imagen a continuación.
2019-11-06 20:45:16,961 - DEBUG - ---Clic en NodeDefaultSSLSettings del nodo de calidad
2019-11-06 20:45:16,967 - DEBUG - ---Seleccionar TLSv1.2, dar clic en OK y finalmente reinciar el CLUSTER de RAS de forma escalonada.
2019-11-06 20:45:16,973 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:45:17,017 - DEBUG - ---Manual de Operaciones
2019-11-06 20:45:17,020 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:45:17,028 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:45:17,044 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:45:17,056 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:45:17,060 - DEBUG - ---DESARROLLO
2019-11-06 20:45:17,063 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:17,071 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,076 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:17,078 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:45:17,083 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:17,087 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:45:17,090 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:17,096 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:17,105 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,113 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:17,119 - DEBUG - ---

2019-11-06 20:45:17,122 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:45:17,126 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:17,132 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,140 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:17,144 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:45:17,148 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:17,153 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:45:17,156 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:17,167 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:17,173 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,195 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:17,199 - DEBUG - ---

2019-11-06 20:45:17,204 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:45:17,208 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:17,213 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:45:17,219 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:17,221 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:45:17,224 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:17,226 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:45:17,232 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:17,242 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:17,251 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,258 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:17,272 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:45:17,275 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:17,281 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,288 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:45:17,290 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:17,292 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:45:17,294 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:45:17,298 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:17,300 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:45:17,304 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:45:17,307 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:17,309 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:45:17,311 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:45:17,314 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:17,317 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:45:17,321 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:45:17,324 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:45:17,328 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:45:17,333 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:17,342 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:17,350 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,358 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:17,363 - DEBUG - ---

2019-11-06 20:45:17,371 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:45:17,375 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:17,384 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,393 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:45:17,396 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:45:17,401 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:45:17,404 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:45:17,408 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:45:17,411 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:45:17,414 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:45:17,418 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:45:17,423 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:45:17,426 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:45:17,431 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:45:17,437 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:17,444 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:17,453 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:17,460 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:17,467 - DEBUG - ---

2019-11-06 20:45:17,471 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:45:17,475 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:45:17,478 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:45:17,482 - DEBUG - ---AW0939
2019-11-06 20:45:17,488 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:45:17,490 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:45:17,493 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:45:17,497 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:45:17,501 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:45:17,506 - DEBUG - ---PASOS
2019-11-06 20:45:17,512 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:45:17,525 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:45:17,535 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:45:17,543 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:45:17,558 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:45:17,571 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:45:17,578 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:45:17,583 - DEBUG - ---

2019-11-06 20:45:17,587 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:45:17,593 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:45:17,601 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:45:17,605 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:45:17,613 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:45:17,630 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:45:17,633 - INFO - Indexing file: Configuración Activation specifications.docx
2019-11-06 20:45:17,658 - DEBUG - ---Activation Specifications
2019-11-06 20:45:17,660 - DEBUG - ---Seleccionar el scope respectivo, luego > NewLlenar los siguientes campos, nombre del recurso JMS 
2019-11-06 20:45:17,661 - DEBUG - ---Nombre de recurso asociado a la cola:
2019-11-06 20:45:17,663 - DEBUG - ---Nombre del gestor de colas:
2019-11-06 20:45:17,664 - DEBUG - ---Transporte: cliente, en el campo Connection name list se deben colocar las máquinas con el respectivo puerto del gestor, separadas por , 
2019-11-06 20:45:17,666 - DEBUG - ---El Test Connection en was siempre da fallido, esto no significa que la conexión no se vaya a realizar o este mal parametrizada:
2019-11-06 20:45:17,668 - DEBUG - ---

2019-11-06 20:45:17,669 - DEBUG - ---Luego de creado el activation specification se debe acceder a el para terminar de realizar las configuraciones:
2019-11-06 20:45:17,670 - DEBUG - ---Configurar SSL para canal seguro:
2019-11-06 20:45:17,672 - DEBUG - ---

2019-11-06 20:45:17,673 - DEBUG - ---Creación de colas:
2019-11-06 20:45:17,675 - DEBUG - ---

2019-11-06 20:45:17,676 - DEBUG - ---

2019-11-06 20:45:17,677 - DEBUG - ---Para activar la configuration
2019-11-06 20:45:17,678 - DEBUG - ---Se debe exportar la aplicación fsbmdb.ear
2019-11-06 20:45:17,680 - DEBUG - ---Luego se debe redesplegar una nueva aplicación fsbmdb con un nuevo nombre
2019-11-06 20:45:17,683 - DEBUG - ---Cambiar el nombre de la aplicación, relacionándolo con el nuevo recurso JMS
2019-11-06 20:45:17,684 - DEBUG - ---Seleccionar al módulo asociado los servidores y/o clusters relacionados:
2019-11-06 20:45:17,688 - DEBUG - ---Relacionar con el recurso jms creado (Activation Specification):
2019-11-06 20:45:17,689 - DEBUG - ---Luego activar la aplicación fsbmdb_HA01
2019-11-06 20:45:17,691 - INFO - Indexing file: test.docx
2019-11-06 20:45:17,695 - DEBUG - ---Documento de prueba
2019-11-06 20:45:17,697 - DEBUG - ---parrafa 1 ok
2019-11-06 20:45:17,698 - DEBUG - ---parrafa 2 ok
2019-11-06 20:45:17,699 - DEBUG - ---parrafa 3 ok
2019-11-06 20:45:17,700 - DEBUG - ---parrafa 4 ok
2019-11-06 20:45:17,700 - INFO - Indexing file: test.txt
2019-11-06 20:45:17,701 - DEBUG - ---De la jamÃ¡s vista ni oÃ­da aventura que con mÃ¡s poco peligro fue acabada de famoso caballero en el mundo, como la acabÃ³ el valeroso Don Quijote de la Mancha
No es posible, seÃ±or mÃ­o, sino que estas yerbas dan testimonio de que por aquÃ­ cerca debe de estar alguna fuente o arroyo que humedece, y asÃ­ serÃ¡ bien que vayamos un poco mÃ¡s adelante, que ya toparemos donde podamos mitigar esta terrible sed que nos fatiga, que sin duda causa mayor pena que la hambre. PareciÃ³le bien el consejo a Don Quijote, y tomando de la rienda a Rocinante, y Sancho del cabestro a su asno despuÃ©s de haber puesto sobre Ã©l los relieves que de la cena quedaron, comenzaron a caminar sobre el prado arriba a tiento, porque la oscuridad de la noche no les dejaba ver cosa alguna; mas no hubieron andado doscientos pasos, cuando llegÃ³ a sus oÃ­dos un gran ruido de agua, como que de algunos grandes y levantados riscos se despeÃ±aba. AlegrÃ³les el ruido en gran manera, y parÃ¡ndose a escuchar hacia que parte sonaba, oyeron a deshora otro estruendo que les aguÃ³ el contento del agua, especialmente a Sancho que naturalmente era medroso y de poco Ã¡nimo: digo que oyeron que daban unos golpes a compÃ¡s, con un cierto crujir de hierros y cadenas, que acompaÃ±ados del furioso estruendo del agua, pusieron pavor a cualquier otro corazÃ³n que no fuera el de Don Quijote.

2019-11-06 20:45:17,706 - INFO - Indexing file: portal.txt
2019-11-06 20:45:17,707 - DEBUG - ---
home bancolombia --> intergrupo
home banitsmo    ------> nosotros

arquitecrua
---------------------------------------------
dallas nodo 1, dmgr
washington nodo 2
server 1 ihs y ventas digitales banitsmo
server 2 ihs y ventas digitales banitsmo
db 1  en HADR
db 2  en HADR
balanceadores de carga (con redes)

la db apunta a un nodo en particular, si hay contigencia se debe apuntar a mano

el producto portal utiliza el usuario 'portal'
los WAS usand el usuario 'portal'
los ihs usan 'wasadmin'

todo estÃ¡ en un keepass  -------> conseguir

para probar cargar www.banitsmo.com

esructuras
--------------------
dllo y QA son administrador por intergrupo
el XML de estructura se exporta desde ahi y se importa en producciÃ³n con XMLAccess


contenidos
--------------------
automatico a las 1pm y 6pm
puede hacerse manual con la consola web
tambien hay script que tiene intergrupo

dentro de WAS la aplicaciÃ³n
------------------------------
las urls de DMGR estÃ¡n en el manual
http://10.209.17.3:9443|9043/ibm/console

los datasources wp ...   son del portal
tienen un duplicado wp ... _DR que apunte al nodo de DB de contingencia
eso no funciona

los 2 nodos espejan bien pero ante una contingencia hay que apuntar los DS (los normales sin DR) manualmente al nodo activo.

las aplicaciones web que administramos en el portal son las que se llaman '*anitsmo'. Las otras forman parte del producto.
las aplicaciones Banitsmo son el theme del portal
las aplicaciones banitsmo_dtd_* son de contenido como tal

consola de portal
----------------------------
portal contenet --> suscribers
sindicacion de contenido por consola web - suscribers, donde se configura que el contenido viene desde QA
probar conexion con el proveedor de contenido, primer icono
sindicaciÃ³n manual, segun Ã­cono
editar suscripcion, tercer icono

monitoreo
---------------
new relic
xrbc --> bancolombia
xrvi --> banitsmo

dudas
---------------
usuarios de DMGR
usuarios de consola de portal
keepass
contraseÃ±a de wasadmin
cer si mi usuario de softlayer funciona o no con esto
pedir usuario de new relic


2019-11-06 20:45:17,713 - INFO - Indexing file: Instalacion_WinScp.docx
2019-11-06 20:45:17,730 - DEBUG - ---Instalación y uso de la herramienta WinScp
2019-11-06 20:45:17,731 - DEBUG - ---Se ejecuta el instalador  y clic en aceptar.
2019-11-06 20:45:17,732 - DEBUG - --- 
2019-11-06 20:45:17,733 - DEBUG - ---Clic en siguiente
2019-11-06 20:45:17,737 - DEBUG - ---Clic en aceptar
2019-11-06 20:45:17,738 - DEBUG - ---Clic en siguiente
2019-11-06 20:45:17,740 - DEBUG - ---

2019-11-06 20:45:17,741 - DEBUG - ---Clic en siguiente
2019-11-06 20:45:17,742 - DEBUG - ---Clic en instalar
2019-11-06 20:45:17,743 - DEBUG - ---                
2019-11-06 20:45:17,744 - DEBUG - ---Clic en finalizar
2019-11-06 20:45:17,745 - DEBUG - ---

2019-11-06 20:45:17,746 - DEBUG - ---Para realizar copias de archivos de servidores a PC de escritorio y viceversa se efectúa de la siguiente manera:
2019-11-06 20:45:17,748 - DEBUG - ---Ingresar a Password Safe e ingresar a un servidor (En este caso Linux) y antes de abrir una sesión SSH copiar todo el contenido de la sección “Username/IP”:
2019-11-06 20:45:17,750 - DEBUG - ---Abrir preferiblemente un internet explorer y en el campo de texto de la dirección URL pegar la línea copiada y agregar al principio “sftp://” y al final (:4422) como se ve en la imagen:
2019-11-06 20:45:17,752 - DEBUG - ---

2019-11-06 20:45:17,753 - DEBUG - ---Dar enter e inmediatamente se ejecuta la herramienta winScp:
2019-11-06 20:45:17,754 - DEBUG - ---Ya con esto se pueden realizar copias entre PC y servidor.
2019-11-06 20:45:17,756 - DEBUG - ---Nota: es preferible realizar las copias inicialmente al directorio “/tmp”, ya después por sesión ssh a través del putty hacer las operaciones requeridas con los archivos copiados.
2019-11-06 20:45:17,757 - INFO - Indexing file: ConfigurarPutty.txt
2019-11-06 20:45:17,758 - DEBUG - ---ÿþW i n d o w s   R e g i s t r y   E d i t o r   V e r s i o n   5 . 0 0 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h ] 
 
 @ = " U R L : S e c u r e   S h e l l   P r o t o c o l " 
 
 " U R L   P r o t o c o l " = " " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ D e f a u l t I c o n ] 
 
 @ = " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e " 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n ] 
 
 
 
 [ H K E Y _ C L A S S E S _ R O O T \ s s h \ s h e l l \ o p e n \ c o m m a n d ] 
 
 @ = " c m d   / V : O N   / s   / c   @ e c h o   o f f   & &   s e t   u r l = % 1   & &   f o r   / f   \ " t o k e n s = 1 , 2 , 3   d e l i m s = : /   \ "   % % a   i n   ( \ " ! u r l ! \ " )   d o   s e t   p r o t o c o l = % % a & s e t   h o s t = % % b & s e t   p o r t = % % c   & &   s t a r t   \ " \ "   \ " % % P r o g r a m F i l e s % % \ \ P u T T Y \ \ p u t t y . e x e \ "   - P   ! p o r t !   ! h o s t ! " 
 
 
 
 
2019-11-06 20:45:17,760 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 20:45:17,761 - DEBUG - ---ï»¿WAS iSeries
--------------------
crear perfil (/qibm/proddata/websphere/appserver/v85/nd/bin)
./manageprofiles -create -profileName WAS01PFCSV02 -templatePath managed -nodeName WASSV1_WAS01PFCSV02 -hostname WASSV1.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL01PFCSV02 -templatePath managed -nodeName WASNLSV1_WNL01PFCSV02 -hostname WASNLSV1.BANCOLOMBIA.COM
./manageprofiles -create -profileName WAS02PFCSV02 -templatePath managed -nodeName WASSV2_WAS02PFCSV02 -hostname WASSV2.BANCOLOMBIA.COM 
./manageprofiles -create -profileName WNL02PFCSV02 -templatePath managed -nodeName WASNLSV2_WNL02PFCSV02 -hostname WASNLSV2.BANCOLOMBIA.COM 

./manageprofiles -delete -profileName WNL01PFCSV02

habilitar java 7 (/qibm/proddata/websphere/appserver/v85/nd/bin)
./managesdk -enableProfile -profileName WAS01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL01PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WAS02PFCSV02 -sdkname 1.7_64 -enableServers
./managesdk -enableProfile -profileName WNL02PFCSV02 -sdkname 1.7_64 -enableServers

federar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
#./addNode 10.8.3.174 49503 -username mgazzola -password ************
#./addNode 10.8.3.174 49503 -username svcwps01 -password W3v$p1*Er9
./addNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM

sincronizar (ejecutar en el bin del perfil creado)
/qibm/userdata/websphere/appserver/v85/nd/profiles/WNL01PFCSV02/bin
./stopNode
 -username wassvc -password C0nf1d3nci@lECM
./syncNode 10.8.3.174 49503 -username wassvc -password C0nf1d3nci@lECM
./startNode

resultado
system administration - node agents - aparece el nuevo nodo

WAS pSeries
-----------------
crear perfiles dmgr y managed
./manageprofiles.sh -create -profileName DMGR85LIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBDMGRLIVEBPDNA01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/management/
./manageprofiles.sh -create -profileName DWEBLIVEBPDPF01 -cellName pbmdebdrec01Node01Cell02DMGR -nodeName DWEBLIVEBPDNODE01 -hostname pbmdebdrec01 -templatePath ../profileTemplates/managed/

habilitar java
./managesdk.sh -enableProfileAll -sdkname 1.7_64 -enableServers

borrar perfiles
bin ./manageprofiles.sh -delete -profileName DWEB85RECMIGPF01
bin ./manageprofiles.sh -delete -profileName DWEBLIVEBPDPF01


parachado de WAS
------------------

PARA ACTUALIZAR WAS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/WAS_85/IBM/WebSphere/AppServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

PARA ACTUALZIAR PLUGIN
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/Plugins -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress -properties user.wasjava=java6

PARA ACTUALIZAR IHS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl install com.ibm.websphere.ND.v85_8.5.5012.20170627_1018 -repositories /finwas/MEDIOS/WAS/8.5.5.12/WAS -installationDirectory /finwas/IBM/HTTPServer -sharedResourcesDirectory /finwas/IBM/InstallationManager/IMShared -acceptLicense -showVerboseProgress

VERIFICAR LOS MEDIOS INSTALADOS
Ubicarse en el directorio /was85/IBM/InstallationManager/eclipse/tools/imcl 
Ejecutar el comando:
./imcl  listInstalledPackages -long



2019-11-06 20:45:17,768 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 20:45:17,815 - DEBUG - ---

2019-11-06 20:45:17,817 - DEBUG - ---

2019-11-06 20:45:17,821 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:45:17,824 - DEBUG - ---Nota
2019-11-06 20:45:17,825 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:45:17,828 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:45:17,831 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:45:17,833 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:45:17,836 - DEBUG - ---Nota
2019-11-06 20:45:17,837 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:45:17,840 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:45:17,842 - DEBUG - ---a.
2019-11-06 20:45:17,844 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:45:17,846 - DEBUG - ---b.
2019-11-06 20:45:17,848 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:45:17,850 - DEBUG - ---f.
2019-11-06 20:45:17,852 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:45:17,857 - DEBUG - ---

2019-11-06 20:45:17,860 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:45:17,863 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:45:17,867 - DEBUG - ---Recordar:
2019-11-06 20:45:17,869 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:45:17,870 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:45:17,872 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:45:17,875 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:45:17,878 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:45:17,882 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:45:17,900 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:45:17,903 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:45:17,904 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:45:17,907 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:45:17,909 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:45:17,911 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:45:17,915 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:45:17,918 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:45:17,921 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:45:17,923 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:45:17,925 - DEBUG - --- 
2019-11-06 20:45:17,927 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:45:17,933 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:45:17,935 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:45:17,938 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:45:17,941 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:45:17,943 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:45:17,947 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:45:17,950 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:45:17,953 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:45:17,955 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:45:17,958 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:45:17,961 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:45:17,963 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:45:17,965 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:45:17,966 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:45:17,969 - INFO - Indexing file: pass.txt
2019-11-06 20:45:17,971 - DEBUG - ---WSZA855C3S
2019-11-06 20:45:17,971 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-06 20:45:17,991 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:45:17,994 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:45:17,997 - DEBUG - ---Elaborado para
2019-11-06 20:45:17,998 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:45:18,001 - DEBUG - ---Elaborado por
2019-11-06 20:45:18,002 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:45:18,004 - DEBUG - ---Fecha
2019-11-06 20:45:18,005 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:45:18,009 - DEBUG - ---Objetivo
2019-11-06 20:45:18,011 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:45:18,013 - DEBUG - ---Rotación de servicios
2019-11-06 20:45:18,016 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:45:18,020 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:45:18,063 - DEBUG - ---Menú iSeries
2019-11-06 20:45:18,065 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:45:18,073 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:45:18,075 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:45:18,077 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:45:18,079 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:45:18,081 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:45:18,086 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:45:18,093 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:45:18,098 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:45:18,100 - DEBUG - ---Opciones del menú
2019-11-06 20:45:18,102 - DEBUG - ---Contingencia Medellín
2019-11-06 20:45:18,105 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:45:18,107 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:45:18,109 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:45:18,111 - DEBUG - ---Regresar
2019-11-06 20:45:18,112 - DEBUG - ---Salir
2019-11-06 20:45:18,114 - DEBUG - ---Rotación servicios
2019-11-06 20:45:18,116 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:45:18,118 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:45:18,122 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:45:18,130 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:45:18,135 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:45:18,138 - DEBUG - ---Actividades IPL
2019-11-06 20:45:18,141 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:45:18,142 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:45:18,144 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:45:18,145 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:45:18,147 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:45:18,149 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:45:18,150 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:45:18,153 - INFO - Indexing file: Actualizar_certificado_celda_WAS.docx
2019-11-06 20:45:18,178 - DEBUG - ---TERCERIZACIÓN DE LOS SERVICIOS DE ADMINISTRACIÓN DE LA PLATAFORMA SOA
2019-11-06 20:45:18,180 - DEBUG - ---PARA BANCOLOMBIA
2019-11-06 20:45:18,186 - DEBUG - ---Procedimiento
2019-11-06 20:45:18,187 - DEBUG - ---Actualizar Certificado Personal en una Celda WAS
2019-11-06 20:45:18,190 - DEBUG - ---Elaborado para
2019-11-06 20:45:18,193 - DEBUG - ---Bancolombia
2019-11-06 20:45:18,196 - DEBUG - ---Elaborado por:
2019-11-06 20:45:18,198 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:45:18,202 - DEBUG - ---Fecha: agosto de 2016
2019-11-06 20:45:18,204 - DEBUG - ---Contenido
2019-11-06 20:45:18,222 - DEBUG - ---INTRODUCCION
2019-11-06 20:45:18,225 - DEBUG - ---Este documento describe el procedimiento para actualizar el certificado personal de una celda de WebSphere Application Server.
2019-11-06 20:45:18,229 - DEBUG - ---Datos Generales
2019-11-06 20:45:18,234 - DEBUG - ---Descripción Procedimiento
2019-11-06 20:45:18,237 - DEBUG - ---Con el objetivo de generar menos impacto se sugiere generar un nuevo certificado y luego indicarle a la celda cual certificado debe usar.
2019-11-06 20:45:18,241 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:45:18,244 - DEBUG - ---Ir a la opción solicitud de certificados personales y hacer clic en New.
2019-11-06 20:45:18,247 - DEBUG - ---

2019-11-06 20:45:18,249 - DEBUG - ---Diligenciar el formulario tal como lo muestra la imagen y hacer clic en OK.
2019-11-06 20:45:18,252 - DEBUG - ---

2019-11-06 20:45:18,253 - DEBUG - ---Validar que la solicitud de certificado se haya creado. Descargar el certificado de la ruta indicada en el paso dos y enviarlo al área de seguridades de Bancolombia para su firma. 
2019-11-06 20:45:18,257 - DEBUG - ---

2019-11-06 20:45:18,258 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:45:18,260 - DEBUG - ---Importar los certificados que conforman la cadena de confianza del certificado firmado en el almacén de certificados personales de la celda (CellDefaultKeystore) en la opción de certificados de confianza (Signer certificates). 
2019-11-06 20:45:18,264 - DEBUG - ---Ir a la opción de certificados personales y hacer clic en el botón de recibir de una autoridad de certificados (Receive from a certificate authority)
2019-11-06 20:45:18,268 - DEBUG - ---Ingresar la ruta donde se encuentra el certificado enviado por el área de seguridades de Bancolombia.
2019-11-06 20:45:18,271 - DEBUG - ---Validar que el certificado haya sido recibido correctamente.
2019-11-06 20:45:18,274 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:45:18,276 - DEBUG - ---Se debe importar el certificado público en los siguientes almacenes:
2019-11-06 20:45:18,278 - DEBUG - ---CMSKeyStore para cada uno de los web servers.
2019-11-06 20:45:18,279 - DEBUG - ---CellDefaultTrustStore
2019-11-06 20:45:18,281 - DEBUG - ---NodeDefaultTrustStore para cada uno de nodos.
2019-11-06 20:45:18,284 - DEBUG - ---

2019-11-06 20:45:18,285 - DEBUG - ---Extraer el certificado público de la celda
2019-11-06 20:45:18,288 - DEBUG - ---Indicar la ruta donde se debe exportar el certificado público
2019-11-06 20:45:18,290 - DEBUG - ---

2019-11-06 20:45:18,292 - DEBUG - ---Ir a cada almacén y añadir el certificado público.
2019-11-06 20:45:18,295 - DEBUG - ---Configurar la celda para que use el nuevo certificado
2019-11-06 20:45:18,298 - DEBUG - ---Validar los endpoints y donde se encuentre el certificado anterior asociar el nuevo certificado.
2019-11-06 20:45:18,303 - DEBUG - ---

2019-11-06 20:45:18,304 - DEBUG - ---Asociar el nuevo certificado en la configuración SSL de la celda.
2019-11-06 20:45:18,306 - DEBUG - ---Reinicio de la celda
2019-11-06 20:45:18,308 - DEBUG - ---Sincronizar los nodos usando la opción de sincronización completa.
2019-11-06 20:45:18,311 - DEBUG - ---Una vez sincronizados podemos reiniciar los servicios usando la consola en la opción de reiniciar todos los servidores de aplicación para el nodo seleccionado. Se debe esperar a que dicho reinicio termine para continuar con otro nodo.
2019-11-06 20:45:18,315 - DEBUG - ---Una vez reiniciado todos los servidores de aplicación y nodos se reinician el deployment manager (dmgr).
2019-11-06 20:45:18,317 - DEBUG - ---Consideraciones y Recomendaciones
2019-11-06 20:45:18,319 - DEBUG - ---Las siguientes actividades pueden ejecutarse previo a la ventana de mantenimiento:
2019-11-06 20:45:18,320 - DEBUG - ---Generar solicitud para firma del nuevo certificado
2019-11-06 20:45:18,322 - DEBUG - ---Recibir certificado firmado
2019-11-06 20:45:18,323 - DEBUG - ---Importar el certificado público en los almacenes de confianza de la celda
2019-11-06 20:45:18,324 - INFO - Indexing file: Aplicar reglas a Proxy Server.docx
2019-11-06 20:45:18,334 - DEBUG - ---Aplicar reglas a Proxy Server
2019-11-06 20:45:18,335 - DEBUG - ---Ingresar al cluster de proxy server al cual se le desea aplicar la regla.
2019-11-06 20:45:18,336 - DEBUG - ---Seleccionar la opción Proxy actions, que se encuentra dentro del menú Proxy virtual host configuration.
2019-11-06 20:45:18,338 - DEBUG - ---Ir a Routing Actions y seleccionar New,  y luego dar click en Fail Route…
2019-11-06 20:45:18,339 - DEBUG - ---Se configura el nombre y el código que se desea retorne ante esa acción. 
2019-11-06 20:45:18,340 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy rule expressions.
2019-11-06 20:45:18,341 - DEBUG - ---Dar click en New 
2019-11-06 20:45:18,342 - DEBUG - ---Colocar el nombre que se desea colocar a la expresión, luego presionar en el botón Subexpresion Builder, luego seleccionar en Operand la opción Module. Luego en Module seleccionar el modulo war que se desea restringir, por último se da click en el botón Generate subexpression. Adicional en la parte inferior en los Routing Actions seleccionar la acción que se creo previamente. 
2019-11-06 20:45:18,344 - DEBUG - ---                                                     dar click en el botón OK, y luego en Preview, asegurándose de sincronizar todos los nodos.
2019-11-06 20:45:18,345 - DEBUG - ---Se retorna a la configuración del ProxyCluster y dentro del menú Proxy Virtual Host Configuration seleccionar Proxy virtual hosts.
2019-11-06 20:45:18,347 - DEBUG - ---Se da click en el botón New para generar una nueva configuración.
2019-11-06 20:45:18,349 - DEBUG - ---En la casilla Virtual host name, se deja el valor *, en la casilla Virtual host port, se debe indicar el puerto al que se desea aplicar la regla, luego seleccionar la expresión previamente creada, quedando así: se presiona en OK y luego Review y asegurarse de sincronizar los nodos.
2019-11-06 20:45:18,350 - DEBUG - ---Se deben reiniciar los Clusters de Proxy Servers.
2019-11-06 20:45:18,351 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:45:18,376 - DEBUG - ---Creación Proxy Servers en WAS 8.5
2019-11-06 20:45:18,383 - DEBUG - ---Change log
2019-11-06 20:45:18,386 - DEBUG - ---Audiencia
2019-11-06 20:45:18,387 - DEBUG - ---Administradores de productos de capa media IBM.
2019-11-06 20:45:18,389 - DEBUG - ---Abstract
2019-11-06 20:45:18,390 - DEBUG - ---Un proxy servers permite direccionar tráfico http y gestionar archivos estáticos como lo hace un servidor web Apache o un IHS. Sin embargo, no es un producto separado. Un proxy es un pequeño servidor WAS basado en un template diferente que es más sencillo de administrar que un IHS.
2019-11-06 20:45:18,393 - DEBUG - ---Los proxy servers pueden funcionar independientemente o en forma de cluster, en este instructivo se explicará cómo crearlos de ambas maneras y las configuraciones adicionales que la celda necesita para hacer que las aplicaciones se expongan a través de los proxy.
2019-11-06 20:45:18,398 - DEBUG - ---Creación de un proxy server
2019-11-06 20:45:18,400 - DEBUG - ---A continuación se especifican los pasos para la creación de un nuevo Websphere Proxy Server en WAS 8.5.
2019-11-06 20:45:18,402 - DEBUG - ---1. Desde la consola del DMGR, ubicarnos en tipos de servidores y dar clic en Websphere proxy servers.
2019-11-06 20:45:18,405 - DEBUG - ---2. Dar clic en nuevo.
2019-11-06 20:45:18,407 - DEBUG - ---3. Se debe ingresar el nombre que se aprovisionara al nuevo proxy server.
2019-11-06 20:45:18,410 - DEBUG - ---4. Utilizar las opciones seleccionadas a continuación para un aprovisionamiento estándar.
2019-11-06 20:45:18,413 - DEBUG - ---5. Se utiliza la plantilla de proxy_server_foundation.
2019-11-06 20:45:18,416 - DEBUG - ---6. Finalmente se debe revisar el resumen de las configuraciones realizadas sean las deseadas.
2019-11-06 20:45:18,419 - DEBUG - ---Y dar clic en “Finish”.
2019-11-06 20:45:18,424 - DEBUG - ---7. Guardar las configuraciones.
2019-11-06 20:45:18,426 - DEBUG - ---8. Se verifica que el proxy server nuevo creado aparece ya en la consola de WAS para su administración.
2019-11-06 20:45:18,429 - DEBUG - ---Una vez hecho esto se puede validar el inicio del nuevo proxy server.
2019-11-06 20:45:18,440 - DEBUG - ---Creación de cluster de proxy servers
2019-11-06 20:45:18,442 - DEBUG - ---1. click en el menú izquierdo
2019-11-06 20:45:18,444 - DEBUG - ---Servers  clusters  proxy Server clusters  new
2019-11-06 20:45:18,446 - DEBUG - ---2. colocar un nombre
2019-11-06 20:45:18,447 - DEBUG - ---Se acepta la convensión CLPS[aplicación][numero], ejemplo CLPSPSE01.
2019-11-06 20:45:18,449 - DEBUG - ---Dejar el resto de los campos con el valor por defecto.
2019-11-06 20:45:18,451 - DEBUG - ---3. agregar miembros del cluster
2019-11-06 20:45:18,453 - DEBUG - ---a. nombre del miembro, se acepta la convensión PS[aplicación][numero]
2019-11-06 20:45:18,454 - DEBUG - ---b. seleccionar el nodo al que el miembro quedará asociado (pueden ser diferentes miembros asociados a diferentes nodos)
2019-11-06 20:45:18,457 - DEBUG - ---4. crear miembros adicionales
2019-11-06 20:45:18,458 - DEBUG - ---Colocar el nombre del miembro y seleccionar el nodo asociados, luego click en Add member
2019-11-06 20:45:18,460 - DEBUG - ---5. repetir el paso 4 por cada miembro adicional hasta completar los miembros.
2019-11-06 20:45:18,462 - DEBUG - ---Luego click en ‘Next’
2019-11-06 20:45:18,464 - DEBUG - ---6. Sumary
2019-11-06 20:45:18,466 - DEBUG - ---Click en Finish
2019-11-06 20:45:18,468 - DEBUG - ---Grabar los cambios.
2019-11-06 20:45:18,470 - DEBUG - ---Configuraciones adicionales
2019-11-06 20:45:18,471 - DEBUG - ---1. Se debe validar que los puertos a utilizar por el nuevo proxy server, server deben estar abiertos en el la maquina donde esta instalado el producto
2019-11-06 20:45:18,473 - DEBUG - ---Para el caso de maquinas Pseries se puede validar con el comando
2019-11-06 20:45:18,474 - DEBUG - ---netstat –Aan | grep #puerto
2019-11-06 20:45:18,476 - DEBUG - ---Para validar cuales son los puertos configurados en el proxy server vamos a la siguiente ubicación.
2019-11-06 20:45:18,478 - DEBUG - ---Donde se pueden observar los puertos y realizar los cambios según se requiera.
2019-11-06 20:45:18,481 - DEBUG - ---2. Las aplicaciones tienen por default habilitada la opción “Enable Proxy” de tal forma que el servicio se resuelva desde el proxy server. Debemos garantizar que la aplicación que va a utilizar proxy server ten la opción habilitada como se muestra en el ejemplo a continuación.
2019-11-06 20:45:18,484 - DEBUG - --- 
2019-11-06 20:45:18,492 - DEBUG - ---3. Se deben configurar los puertos en que van a utilizar las aplicaciones desde “Enviroment”, y desde el Virtual Host deseado se debe agregar los puertos requeridos en la consideración #1. 
2019-11-06 20:45:18,498 - DEBUG - ---Opcionalmente, como buena practica, se puede crear un nuevo virtual host particular para configurar los puertos que exclusivamente vaya a utilizar una aplicación y mapear desde la misma app el virtual host creado desde la siguiente ubicación, como se muestra en el ejemplo a continuación.
2019-11-06 20:45:18,501 - DEBUG - ---NOTA: Una vez se realice cualquier cambio de los anteriores mencionados en las consideraciones, debemos realizar reinicio del proxy server.
2019-11-06 20:45:18,503 - DEBUG - ---Configuraciones adicionales para was en iSeries
2019-11-06 20:45:18,505 - DEBUG - ---Además de las configuraciones mencionadas en el apartado anterior, para los WAS instalados en plataformas iSeries que utilicen proxy servers en combinación en el appliance F5 como balanceador de carga se necesita aplicar la siguiente configuración:
2019-11-06 20:45:18,507 - DEBUG - ---Matricular en los Virtual Host de WAS, el nombre (DNS) con el cual se consume el servicio por F5 y el puerto por el cual se expone el servicio en los Proxy Server.
2019-11-06 20:45:18,509 - DEBUG - ---1. ingresar a la configuración del proxy servers a configurar, y en la sección Ports, buscar los puertos con los que se expone el servicio
2019-11-06 20:45:18,510 - DEBUG - ---PROXY_HTTP_ADDRESS
2019-11-06 20:45:18,512 - DEBUG - ---PROXY_HTTPS_ADDRESS
2019-11-06 20:45:18,514 - DEBUG - ---2. crear en la sección Virtual Hosts > default_host > Host Aliases dos nuevos aliases con la combinación de los puertos de los proyx servers y el DNS provisto por F5 para la aplicación a exponer:
2019-11-06 20:45:18,516 - DEBUG - ---3. reiniciar los proxy servers
2019-11-06 20:45:18,518 - INFO - Indexing file: test.txt
2019-11-06 20:45:18,519 - DEBUG - ---WASX7209I: Connected to process "dmgr" on node QWEBDMGR using SOAP connector;  The type of process is: DeploymentManager
2017-12-11 14:50:02,571 [INFO] using WDR (https://wdr.github.io/WDR/) version 0.8.2
2017-12-11 14:50:02,598 [INFO] the client is connected to host localhost:10403 using SOAP connector
2017-12-11 14:50:02,604 [INFO] the target process is CeldaJuanFWAS85/QWEBDMGR/dmgr
 Lista Aplicaciones en la celda :
['DynaCacheEsi', 'Dynamic Cache Monitor', 'query']

2019-11-06 20:45:18,521 - INFO - Indexing file: ReadMe.txt
2019-11-06 20:45:18,522 - DEBUG - ---${WAS_85_INSTALL_ROOT}/bin/wsadmin.sh
-lang jython
-connType SOAP
-username user
-password pwd
-f /wrkdirr/ibmdirr/wsadminUtils/main.py [options]
    -m or --mode, Script mode: createCluster
    -w or --workdir, Script work space, required because is a script inside wsadmin environment
    -cl or --cluster, Cluster name. Used in createCluster
    -n1 or --node1, Node name. Used in createCluster
    -n2 or --node2, Node name. Used in createCluster
    -s1 or --server1, Server name. Used in createCluster
    -s2 or --server2, Server name. Used in createCluster
    -h1 or --host1, Host name. Used in createCluster
    -h2 or --host2, Host name. Used in createCluster
    -p1 or --port1, Initial port. Used in createCluster
    -p2 or --port2, Initial port. Used in createCluster
    -ih1 or --initialHeap1, Initial heap size. Used in createCluster
    -ih2 or --initialHeap2, Initial heap size. Used in createCluster
    -mh1 or --maxHeap1, Max heap size. Used in createCluster
    -mh2 or --maxHeap2, Max heap size. Used in createCluster
Example:
/opt/IBM/WebSphere/AppServer85/profiles/ProfileDmgr01/bin/wsadmin.sh -lang jython -connType SOAP -f /wrkdirr/ibmdirr/wsadminUtils/main.py -m createCluster -w /wrkdirr/ibmdirr/ -s1 ServerMng04 -s2 ServerMng05 -n1 NodeMng01 -n2 NodeMng02 -h1 localhost -h2 localhost -p1 6000 -p2 6100 -ih1 128 -mh1 512 -ih2 128 -mh2 512 -cl CLMNG02
2019-11-06 20:45:18,525 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 20:45:18,558 - DEBUG - ---

2019-11-06 20:45:18,573 - DEBUG - ---

2019-11-06 20:45:18,575 - DEBUG - ---

2019-11-06 20:45:18,579 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:45:18,583 - DEBUG - ---Nota
2019-11-06 20:45:18,584 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:45:18,587 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:45:18,590 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:45:18,593 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:45:18,596 - DEBUG - ---Nota
2019-11-06 20:45:18,599 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:45:18,602 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:45:18,605 - DEBUG - ---a.
2019-11-06 20:45:18,606 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:45:18,608 - DEBUG - ---b.
2019-11-06 20:45:18,610 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:45:18,612 - DEBUG - ---f.
2019-11-06 20:45:18,615 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:45:18,620 - DEBUG - ---

2019-11-06 20:45:18,622 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:45:18,625 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:45:18,628 - DEBUG - ---Recordar:
2019-11-06 20:45:18,630 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:45:18,632 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:45:18,634 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:45:18,637 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:45:18,640 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:45:18,644 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:45:18,648 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:45:18,650 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:45:18,652 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:45:18,655 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:45:18,657 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:45:18,659 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:45:18,665 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:45:18,668 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:45:18,671 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:45:18,673 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:45:18,674 - DEBUG - --- 
2019-11-06 20:45:18,676 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:45:18,684 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:45:18,690 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:45:18,695 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:45:18,700 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:45:18,702 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:45:18,706 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:45:18,709 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:45:18,713 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:45:18,716 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:45:18,719 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:45:18,723 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:45:18,725 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:45:18,728 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:45:18,730 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:45:18,733 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 20:45:18,788 - DEBUG - ---

2019-11-06 20:45:18,789 - DEBUG - ---

2019-11-06 20:45:18,793 - DEBUG - ---Los servicios expuestos en producción iSeries, tienen un esquema de despliegue con una interfaz activa en una máquina y una interfaz inactiva en otra máquina, intentando equilibrar la carga de trabajo entre ambas maquinas y que ellas estén homologadas y completamente operativas, en caso de una contingencia. Estas máquinas son WAS y WASNL. 
2019-11-06 20:45:18,796 - DEBUG - ---Nota
2019-11-06 20:45:18,798 - DEBUG - ---El término “interfaz”, debe entenderse como la dirección IP por donde se enruta todo el tráfico relacionado con un servicio (entrada y salida).
2019-11-06 20:45:18,801 - DEBUG - ---La forma en que normalmente debe permanecer equilibrada la carga de trabajo (interfaces activas) en ambas máquinas, es la siguiente:
2019-11-06 20:45:18,804 - DEBUG - ---El despliegue de un servicio o aplicación (paso a producción), se debe efectuar en la instancia pasiva de ese servicio. 
2019-11-06 20:45:18,806 - DEBUG - ---El switcheo de los servicios no sólo debe contemplar la interfaz, sino también el servidor de aplicaciones completo, con el fin de facilitar la operación sobre la instancia pasiva.
2019-11-06 20:45:18,808 - DEBUG - ---Nota
2019-11-06 20:45:18,809 - DEBUG - ---El concepto “instancia pasiva”, debe entenderse como la ubicación (máquina y app server) donde se encuentra inactiva la interfaz de un servicio.
2019-11-06 20:45:18,813 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:45:18,816 - DEBUG - ---a.
2019-11-06 20:45:18,817 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:45:18,819 - DEBUG - ---b.
2019-11-06 20:45:18,820 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:45:18,822 - DEBUG - ---f.
2019-11-06 20:45:18,823 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:45:18,828 - DEBUG - ---

2019-11-06 20:45:18,831 - DEBUG - ---TOMAR PANTALLAS DEL ESTADO DE EJECUCIÓN DE LOS DIFERENTES ELEMENTOS
2019-11-06 20:45:18,833 - DEBUG - ---Tomar pantallas donde se identifique el estado de las interfaces, servidores de aplicaciones y web servers en ejecución en cada máquina (WASET01 y WASNLET01). 
2019-11-06 20:45:18,836 - DEBUG - ---Recordar:
2019-11-06 20:45:18,837 - DEBUG - ---Los subsistemas donde se ejecutan los servidores de aplicaciones son QWAS8 y QWAS85.
2019-11-06 20:45:18,839 - DEBUG - ---El subsistema donde se ejecutan los web server es QHTTPSVR.
2019-11-06 20:45:18,840 - DEBUG - ---Verificar el procesamiento de los servidore de aplicaciones.
2019-11-06 20:45:18,843 - DEBUG - ---REINICIO DE LOS SERVIDORES DE APLICACIONES DONDE SE ENCUENTRAN PASIVOS
2019-11-06 20:45:18,847 - DEBUG - ---Realizar reinicio del servidor de aplicaciones en la maquina donde se encuentra pasivo para garantizar que libere cualquier tipo de carga que pueda tener. Además de ser necesario para que los agentes de Wily suban sin ningún inconveniente.
2019-11-06 20:45:18,850 - DEBUG - ---CONFIGURAR INDICADOR DE 1 y 0 PARA ACTIVAR e INACTIVAR SERVICIOS
2019-11-06 20:45:18,852 - DEBUG - ---Es necesario configurar de manera manual aquellas aplicaciones cuya interfaz será switcheada y que manejan un indicador para activación de servicio. 
2019-11-06 20:45:18,855 - DEBUG - ---Las aplicaciones con esta característica son: CAE y SOI. 
2019-11-06 20:45:18,856 - DEBUG - ---El número 1 indica “Activo” y el número 0 indica “Inactivo”. *
2019-11-06 20:45:18,858 - DEBUG - ---El indicador 1 se usa para aquellas aplicaciones que estarán en servicio en la instancia activa; y el indicador 0, para aquellas aplicaciones que estarán en la interfaz pasiva.
2019-11-06 20:45:18,861 - DEBUG - ---* La aplicación SOI funciona con lógica inversa, es decir, el número 0 indica “Activo”, y el número 1 indica “Inactivo”.
2019-11-06 20:45:18,864 - DEBUG - ---El ajuste se realiza en un archivo de configuración propio de cada aplicación, normalmente ubicado en el directorio de configuración asignado. Estos son los archivos y el parámetro a ajustar:
2019-11-06 20:45:18,867 - DEBUG - ---ACTIVAR / INACTIVAR SERVICIOS
2019-11-06 20:45:18,870 - DEBUG - ---Es necesario detener de manera manual en ambas máquinas, aquellas aplicaciones que cumplen con alguno de los siguientes criterios, siempre y cuando su interfaz vaya a ser switcheada:
2019-11-06 20:45:18,874 - DEBUG - ----La aplicación maneja un indicador para activación de servicio (1 y 0).
2019-11-06 20:45:18,876 - DEBUG - ----La aplicación sólo puede estar en ejecución en una sola máquina (RIN, PCC, TAC y SOI).
2019-11-06 20:45:18,877 - DEBUG - --- 
2019-11-06 20:45:18,879 - DEBUG - ---Es importante no olvidar que inicialmente estas aplicaciones se detienen en ambas máquinas. Posteriormente, se inician en donde vayan a tener su interfaz activa, y se dejan detenidas en donde vayan a tener su interfaz inactiva.
2019-11-06 20:45:18,883 - DEBUG - ---SWITCHEO DE INTERFACES
2019-11-06 20:45:18,885 - DEBUG - ---Es necesario detener las interfaces a switchear, en la máquina donde quedarán inactivas; inmediatamente después, iniciar las interfaces en la máquina donde quedarán activas.
2019-11-06 20:45:18,888 - DEBUG - ---Recordar secuencia de comandos: CFGTCP >  Trabajar con interfaces TCP/IP
2019-11-06 20:45:18,892 - DEBUG - ---VALIDAR SERVICIOS CON EL CENTRO DE GESTION (CGI)
2019-11-06 20:45:18,895 - DEBUG - ---Se debe solicitar al CGI unas pruebas básicas para garantizar la disponibilidad de los servicios relacionados con el switch aplicado; simultáneamente, se deben validar los registros de log de los servidores de aplicaciones y los servicios mismos, con el fin de garantizar que hay normalidad en la operación.
2019-11-06 20:45:18,899 - DEBUG - ---REINICIAR SERVIDORES DE APLICACIONES QUE HAN QUEDADO COMO INSTANCIA PASIVA
2019-11-06 20:45:18,901 - DEBUG - ---Reiniciar los servidores de aplicaciones en las instancias que han quedado como pasivas luego del switcheo. Esta actividad tiene como objetivo dejar los servidores de aplicaciones preparados y libres de todo tráfico; y también que en las herramientas de monitoreo no se presente un doble graficado.
2019-11-06 20:45:18,904 - DEBUG - ---CONFIGURAR INTERFACES PARA INICIO AUTOMÁTICO
2019-11-06 20:45:18,907 - DEBUG - ---Se deben configurar las interfaces que han sido switcheadas, para que inicien automáticamente en la máquina donde quedaron activas y no inicien automáticamente en la máquina donde quedaron inactivas. Con esto se busca que el estado de las interfaces no cambie o se vea afectado, luego de un IPL o cualquier otro evento relacionado con las máquinas.
2019-11-06 20:45:18,909 - DEBUG - ---Para la configuración, sólo es necesario ejecutar los siguientes comandos por cada una de las interfaces switcheadas (cambiando desde luego la dirección IP por la que corresponda):
2019-11-06 20:45:18,913 - DEBUG - ---El parámetro AUTOSTART puede tomar los siguientes valores:
2019-11-06 20:45:18,915 - DEBUG - ---*YES = 	Inicia automáticamente luego de un IPL u otro evento.
2019-11-06 20:45:18,916 - DEBUG - ---*NO = 	No Inicia automáticamente.
2019-11-06 20:45:18,918 - DEBUG - ---*SAME = 	Conserva su valor actual.
2019-11-06 20:45:18,920 - INFO - Indexing file: Manual_Menu_iSeries(2).docx
2019-11-06 20:45:18,947 - DEBUG - ---Tercerización de los servicios de administración de la plataforma SOA para Bancolombia
2019-11-06 20:45:18,953 - DEBUG - ---Manual Usuario Menú iSeries
2019-11-06 20:45:18,957 - DEBUG - ---Elaborado para
2019-11-06 20:45:18,958 - DEBUG - ---Administradores Bancolombia
2019-11-06 20:45:18,960 - DEBUG - ---Elaborado por
2019-11-06 20:45:18,962 - DEBUG - ---Juan David Aristizabal O.
2019-11-06 20:45:18,965 - DEBUG - ---Fecha
2019-11-06 20:45:18,966 - DEBUG - ---1 de Julio de 2016
2019-11-06 20:45:18,970 - DEBUG - ---Objetivo
2019-11-06 20:45:18,972 - DEBUG - ---Este documento tiene como objetivo explicar el uso del Menú de iSeries el cual permite ejecutar las siguientes actividades:
2019-11-06 20:45:18,974 - DEBUG - ---Rotación de servicios
2019-11-06 20:45:18,975 - DEBUG - ---Toma de evidencias del estado de las máquinas.
2019-11-06 20:45:18,976 - DEBUG - ---Detención e inicio masivo de servicios para agilizar las pruebas de continuidad.
2019-11-06 20:45:18,993 - DEBUG - ---Menú iSeries
2019-11-06 20:45:18,995 - DEBUG - ---Para acceder al menú se ingresa a la máquina PBMDEBPMGR01, se cambia al usuario dmgruser con el comando sudo su – dmgruser y se ubica en la ruta /home/dmgruser/menu_iSeries
2019-11-06 20:45:19,001 - DEBUG - ---Los directorios que se encuentran en dicha ruta son:
2019-11-06 20:45:19,003 - DEBUG - ---config: Contiene los archivos de configuración del programa.
2019-11-06 20:45:19,006 - DEBUG - ---iSeriesMenu.jar: Archivo JAR con los ejecutables del programa.
2019-11-06 20:45:19,009 - DEBUG - ---iSeriesMenu_lib: Contiene las utilidades y dependencias del programa.
2019-11-06 20:45:19,012 - DEBUG - ---logs: Contiene los logs generados por el programa.
2019-11-06 20:45:19,015 - DEBUG - ---menu_iSeries.sh: Archivo encargado de lanzar el programa.
2019-11-06 20:45:19,020 - DEBUG - ---Una vez ubicados en la ruta se ejecuta el menú con el siguiente comando:
2019-11-06 20:45:19,021 - DEBUG - ---sh menu_iSeries.sh ó ./menu_iSeries.sh
2019-11-06 20:45:19,023 - DEBUG - ---Opciones del menú
2019-11-06 20:45:19,025 - DEBUG - ---Contingencia Medellín
2019-11-06 20:45:19,028 - DEBUG - ---Detener servidores de aplicaciones y servidores web. (Esta opción detiene los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2): Tal como se encuentra en la descripción de la opción, detiene TODOS los servicios de WASET01, WASNLET01, WASSV1, WASSV2, WASNLSV1 y WASNLSV2. Debe usarse con mucho cuidado y solo cuando se tenga el aval del banco. Normalmente la usamos en contingencia, ya sea programada o de emergencia.
2019-11-06 20:45:19,032 - DEBUG - ---Iniciar servidores de aplicaciones: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta solo inicia los servidores de aplicaciones, esperando el aval del Banco para iniciar los servidores web.
2019-11-06 20:45:19,035 - DEBUG - ---Iniciar servidores web: Acorde al PTR luego de una detención de servicios primero se deben iniciar solo los servidores de aplicaciones, por eso se crearon dos opciones. Esta opción inicia los servidores web.
2019-11-06 20:45:19,037 - DEBUG - ---Regresar
2019-11-06 20:45:19,038 - DEBUG - ---Salir
2019-11-06 20:45:19,040 - DEBUG - ---Rotación servicios
2019-11-06 20:45:19,042 - DEBUG - ---Rotar todos los servicios de WAS a WASNL: Esta opción rota todos los servicios de WAS a WASNL.
2019-11-06 20:45:19,044 - DEBUG - ---Rotar todos los servicios de WASNL a WAS: Esta opción rota todos los servicios de WASNL a WAS.
2019-11-06 20:45:19,045 - DEBUG - ---Balancear los servicios en WAS y WASNL: Esta opción se basa en el PTR de rotación de servicios para dejar cada servicio en la máquina que le corresponda.
2019-11-06 20:45:19,049 - DEBUG - ---Rotar un servicio específico de WAS a WASNL: Esta opción rota el servicio seleccionado de WAS a WASNL. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:45:19,053 - DEBUG - ---Rotar un servicio específico de WASNL a WAS: Esta opción rota el servicio seleccionado de WASNL a WAS. Los servicios que actualmente se pueden rotar se muestran en la siguiente imagen. Es de aclarar que aquellos que se encuentren en el mismo servidor de aplicaciones serán rotados en conjunto.
2019-11-06 20:45:19,057 - DEBUG - ---Actividades IPL
2019-11-06 20:45:19,061 - DEBUG - ---Cada opción listada en el menú de la gráfica anterior ejecutara las siguientes tareas:
2019-11-06 20:45:19,064 - DEBUG - ---Genera un PDF con el estado de las interfaces en el /tmp/NombreMaquina.pdf
2019-11-06 20:45:19,069 - DEBUG - ---Genera un PDF con el estado de los Jobs de WAS (QWAS61, QWAS8, QWAS85) y Web Servers (QHTTPSVR).
2019-11-06 20:45:19,072 - DEBUG - ---Realiza una validación de los requisitos para el funcionamiento de cada aplicación:
2019-11-06 20:45:19,075 - DEBUG - ---Inicio automático de las interfaces.
2019-11-06 20:45:19,077 - DEBUG - ---Inicio automático de las aplicaciones. (TAC, SOI, CAE, RIN, PCC, etc)
2019-11-06 20:45:19,081 - DEBUG - ---Inicio automático de los listeners. (RIN y PCC).
2019-11-06 20:45:19,083 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:45:19,130 - DEBUG - ---

2019-11-06 20:45:19,133 - DEBUG - ---Control de Versiones
2019-11-06 20:45:19,136 - DEBUG - ---

2019-11-06 20:45:19,138 - DEBUG - ---VERIFICAR INTERFACES CORRESPONDIENTES A CADA SERVIDOR DE APLICACION EN AMBAS MAQUINAS ( WAS y WASNL) Y TOMAR EVIDENCIAS DE ELLO
2019-11-06 20:45:19,141 - DEBUG - ---Se deben tomar evidencias de las interfaces correspondientes a cada aplicativo en ambas máquinas. 
2019-11-06 20:45:19,145 - DEBUG - ---Ingresamos a WAS y ejecutamos el comando CFGTCP
2019-11-06 20:45:19,152 - DEBUG - ---Luego seleccionamos la opción 1 del menú (Trabajar con interfaces  TCP/IP)
2019-11-06 20:45:19,163 - DEBUG - ---Nos aparecerá la pantalla con las interfaces.
2019-11-06 20:45:19,170 - DEBUG - ---En la pantalla de las interfaces, presionamos la tecla F11 para ver los estados de las interfaces y la pantalla quedaría así:
2019-11-06 20:45:19,178 - DEBUG - ---Para generar un respaldo podemos usar la opción F6 que llevara la información a nuestro spool el cual podrá ser descargado posteriormente como un archivo de texto.
2019-11-06 20:45:19,186 - DEBUG - ---NOTA: LOS MISMOS PASOS ANTERIORES APLICAN PARA LA MAQUINA DE WASNL
2019-11-06 20:45:19,193 - DEBUG - ---CAMBIAR EL PARÁMETRO  DE INICIO AUTOSTAR  A LAS INTERFACES CORRESPONDIENTES A CADA APLICATIVO.
2019-11-06 20:45:19,200 - DEBUG - ---Se debe ingresar a las máquinas (WAS y WASNL). Luego ejecutamos el siguiente comando donde debemos cambiar el valor del parámetro de AUTOINICIO a *NO donde se requiere que permanezca abajo la interfaz al momento de un IPL y *YES a las interfaces que se requiere que permanezcan activas en la máquina una vez se haga un IPL; esto depende de en qué máquina se dejarán los servicios operando.
2019-11-06 20:45:19,216 - DEBUG - ---Ejemplos:
2019-11-06 20:45:19,218 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*NO)
2019-11-06 20:45:19,220 - DEBUG - ---CHGTCPIFC INTNETADR('10.10.238.211') AUTOSTART(*YES)
2019-11-06 20:45:19,224 - DEBUG - ---PTR detener servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:45:19,228 - DEBUG - ---Consideraciones previas
2019-11-06 20:45:19,230 - DEBUG - ---[Si aplica: premisas, riesgos]
2019-11-06 20:45:19,233 - DEBUG - ---Descripción de las actividades
2019-11-06 20:45:19,236 - DEBUG - ---PTR detener servicios Contingencia Medellin - MEDHA 
2019-11-06 20:45:19,239 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:45:19,247 - DEBUG - ---ACTIVIDADES PREVIAS
2019-11-06 20:45:19,250 - DEBUG - ---Tomar pantallas de las interfaces (Punto 1 de este PTR), servidores de aplicaciones y web servers en WAS y WASNL como se indica a continuación:
2019-11-06 20:45:19,255 - DEBUG - ---Validar estado de subsistemas WAS y servidores de aplicaciones websphere:
2019-11-06 20:45:19,261 - DEBUG - ---wrkactjob sbs(QWAS8)
2019-11-06 20:45:19,268 - DEBUG - ---wrkactjob sbs(QWAS85)
2019-11-06 20:45:19,273 - DEBUG - ---Validar estado de subsistema QHTTPSVR y sus webservers:
2019-11-06 20:45:19,277 - DEBUG - ---wrkactjob sbs(QHTTPSVR)
2019-11-06 20:45:19,281 - DEBUG - ---Ejemplo pantallazo subsistema QWAS85:
2019-11-06 20:45:19,290 - DEBUG - ---ACTIVIDADES DURANTE LA CONTINGENCIA
2019-11-06 20:45:19,296 - DEBUG - ---3.1 Detener servidores web y servidores de aplicaciones
2019-11-06 20:45:19,300 - DEBUG - ---Cuando bajen los servicios y se dé la señal, se debe bajar el subsistema QHTTPSVR y una vez esté completamente detenido, proceder a bajar los servidores de aplicación que  tengan conexiones a la máquina MEDELLINET01.
2019-11-06 20:45:19,304 - DEBUG - ---Comandos 
2019-11-06 20:45:19,306 - DEBUG - ---DETENER SERVIDORES WEB:
2019-11-06 20:45:19,308 - DEBUG - ---ENDTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:45:19,310 - DEBUG - ---Se valida que todos los web server estén detenidos con el siguiente comando:
2019-11-06 20:45:19,315 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:45:19,318 - DEBUG - ---DETENER SERVIDORES DE APLICACIONES:
2019-11-06 20:45:19,321 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:45:19,326 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:45:19,330 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:45:19,332 - DEBUG - ---ASADM01
2019-11-06 20:45:19,334 - DEBUG - ---ASADM02
2019-11-06 20:45:19,337 - DEBUG - ---ASADM03
2019-11-06 20:45:19,339 - DEBUG - ---ASADM04
2019-11-06 20:45:19,341 - DEBUG - ---ASADM05
2019-11-06 20:45:19,343 - DEBUG - ---ASADM06
2019-11-06 20:45:19,345 - DEBUG - ---ASALM01
2019-11-06 20:45:19,348 - DEBUG - ---ASALM02
2019-11-06 20:45:19,350 - DEBUG - ---ASBTS01
2019-11-06 20:45:19,352 - DEBUG - ---ASBTS02
2019-11-06 20:45:19,354 - DEBUG - ---ASCAN01
2019-11-06 20:45:19,356 - DEBUG - ---ASCAN02
2019-11-06 20:45:19,358 - DEBUG - ---ASCAN03
2019-11-06 20:45:19,360 - DEBUG - ---ASCAN04
2019-11-06 20:45:19,362 - DEBUG - ---ASMRP01
2019-11-06 20:45:19,365 - DEBUG - ---ASMRP02
2019-11-06 20:45:19,368 - DEBUG - ---ASPAC01
2019-11-06 20:45:19,371 - DEBUG - ---ASPAC02
2019-11-06 20:45:19,373 - DEBUG - ---ASRIN01
2019-11-06 20:45:19,375 - DEBUG - ---ASRIN02
2019-11-06 20:45:19,378 - DEBUG - ---ASRSA01
2019-11-06 20:45:19,380 - DEBUG - ---ASRSA02
2019-11-06 20:45:19,382 - DEBUG - ---ASTAC01
2019-11-06 20:45:19,384 - DEBUG - ---ASTAC02
2019-11-06 20:45:19,386 - DEBUG - ---ASWAP01
2019-11-06 20:45:19,389 - DEBUG - ---ASWAP02
2019-11-06 20:45:19,391 - DEBUG - ---ASWSE01
2019-11-06 20:45:19,392 - DEBUG - ---ASWSE02
2019-11-06 20:45:19,395 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:45:19,398 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:45:19,400 - DEBUG - ---ASAPP01
2019-11-06 20:45:19,402 - DEBUG - ---ASAPP02
2019-11-06 20:45:19,404 - DEBUG - ---ASAPP03
2019-11-06 20:45:19,406 - DEBUG - ---ASAPP04
2019-11-06 20:45:19,408 - DEBUG - ---ASSVP01
2019-11-06 20:45:19,410 - DEBUG - ---ASSVP02
2019-11-06 20:45:19,412 - DEBUG - ---ASSVP03
2019-11-06 20:45:19,414 - DEBUG - ---ASSVP04
2019-11-06 20:45:19,416 - DEBUG - ---ASSVE01
2019-11-06 20:45:19,418 - DEBUG - ---ASSVE02
2019-11-06 20:45:19,420 - DEBUG - ---ASSVE03
2019-11-06 20:45:19,422 - DEBUG - ---ASSVE04
2019-11-06 20:45:19,424 - DEBUG - ---Luego, se debe verificar que todos los web server queden detenidos, con el siguiente comando:
2019-11-06 20:45:19,427 - DEBUG - ---WRKACTJOB SBS(QHTTPSVR)
2019-11-06 20:45:19,429 - DEBUG - ---NOTA: No deben de aparecer trabajos en el subsistema, como aparece en la imagen, una vez los web server queden detenidos.
2019-11-06 20:45:19,434 - DEBUG - ---PTR activar servicios WAS Contingencia Medellin - MEDHA
2019-11-06 20:45:19,437 - DEBUG - ---En WAS y WASNL hay servicios que se conectan a la máquina de Medellín, por lo tanto se hace necesario realizar actividades en ambas máquinas.
2019-11-06 20:45:19,442 - DEBUG - ---4.1 Iniciar servicios
2019-11-06 20:45:19,445 - DEBUG - ---PASO 1 SUBIR SERVIDORES DE APLICACIONES:
2019-11-06 20:45:19,449 - DEBUG - ---Cuando comience a subir y se dé la señal, se deben iniciar los servidores de aplicaciones 
2019-11-06 20:45:19,452 - DEBUG - ---Comandos 
2019-11-06 20:45:19,454 - DEBUG - ---INICIAR SERVIDORES DE APLICACIONES:
2019-11-06 20:45:19,456 - DEBUG - ---Ingresar a la consola administrativa de PCC según donde este activa, en WAS o WASNL:
2019-11-06 20:45:19,461 - DEBUG - ---Ingresar a la consola administrativa corporativa de iSeries:
2019-11-06 20:45:19,464 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:45:19,466 - DEBUG - ---ASADM01
2019-11-06 20:45:19,468 - DEBUG - ---ASADM02
2019-11-06 20:45:19,470 - DEBUG - ---ASADM03
2019-11-06 20:45:19,473 - DEBUG - ---ASADM04
2019-11-06 20:45:19,475 - DEBUG - ---ASADM05
2019-11-06 20:45:19,477 - DEBUG - ---ASADM06
2019-11-06 20:45:19,478 - DEBUG - ---ASALM01
2019-11-06 20:45:19,480 - DEBUG - ---ASALM02
2019-11-06 20:45:19,482 - DEBUG - ---ASBTS01
2019-11-06 20:45:19,484 - DEBUG - ---ASBTS02
2019-11-06 20:45:19,487 - DEBUG - ---ASCAN01
2019-11-06 20:45:19,490 - DEBUG - ---ASCAN02
2019-11-06 20:45:19,492 - DEBUG - ---ASCAN03
2019-11-06 20:45:19,494 - DEBUG - ---ASCAN04
2019-11-06 20:45:19,496 - DEBUG - ---ASMRP01
2019-11-06 20:45:19,499 - DEBUG - ---ASMRP02
2019-11-06 20:45:19,501 - DEBUG - ---ASPAC01
2019-11-06 20:45:19,503 - DEBUG - ---ASPAC02
2019-11-06 20:45:19,505 - DEBUG - ---ASRIN01
2019-11-06 20:45:19,507 - DEBUG - ---ASRIN02
2019-11-06 20:45:19,509 - DEBUG - ---ASRSA01
2019-11-06 20:45:19,511 - DEBUG - ---ASRSA02
2019-11-06 20:45:19,513 - DEBUG - ---ASTAC01
2019-11-06 20:45:19,515 - DEBUG - ---ASTAC02
2019-11-06 20:45:19,517 - DEBUG - ---ASWAP01
2019-11-06 20:45:19,519 - DEBUG - ---ASWAP02
2019-11-06 20:45:19,521 - DEBUG - ---ASWSE01
2019-11-06 20:45:19,523 - DEBUG - ---ASWSE02
2019-11-06 20:45:19,525 - DEBUG - ---Ingresar a la consola administrativa de escalabilidad de canales:
2019-11-06 20:45:19,528 - DEBUG - ---En la opción de servidores de aplicaciones detener los siguientes:
2019-11-06 20:45:19,530 - DEBUG - ---ASAPP01
2019-11-06 20:45:19,532 - DEBUG - ---ASAPP02
2019-11-06 20:45:19,534 - DEBUG - ---ASAPP03
2019-11-06 20:45:19,536 - DEBUG - ---ASAPP04
2019-11-06 20:45:19,538 - DEBUG - ---ASSVP01
2019-11-06 20:45:19,540 - DEBUG - ---ASSVP02
2019-11-06 20:45:19,542 - DEBUG - ---ASSVP03
2019-11-06 20:45:19,545 - DEBUG - ---ASSVP04
2019-11-06 20:45:19,547 - DEBUG - ---ASSVE01
2019-11-06 20:45:19,549 - DEBUG - ---ASSVE02
2019-11-06 20:45:19,551 - DEBUG - ---ASSVE03
2019-11-06 20:45:19,553 - DEBUG - ---ASSVE04
2019-11-06 20:45:19,556 - DEBUG - ---Validar que las interfaces suban donde deben subir en WAS y WASNL (Luego de que se ejecute la activación por iSeries).
2019-11-06 20:45:19,559 - DEBUG - ---Validar que los app server suban bien
2019-11-06 20:45:19,561 - DEBUG - ---Revisar los logs para garantizar que los servidores subieron bien y no colgaron hebras o no subieron (validar errores o hebras colgadas “hung”).
2019-11-06 20:45:19,563 - DEBUG - ---Debe aparecer Mensaje: open for e-business
2019-11-06 20:45:19,566 - DEBUG - ---Hacer estas verificaciones en el orden de prioridad de la tabla que se encuentra al final del documento (PRIORIDAD DE LOS SERVICIOS)
2019-11-06 20:45:19,568 - DEBUG - ---Es necesario iniciar RSA primero para que sincronice los token con BOLE.
2019-11-06 20:45:19,573 - DEBUG - ---APLICACIONES
2019-11-06 20:45:19,575 - DEBUG - ---Es muy importante tener siempre presentes los siguientes puntos:
2019-11-06 20:45:19,577 - DEBUG - ---Las aplicaciones RIN, PCC, TAC y SOI no pueden estar encendidas en ambas máquinas, sólo deben estar encendidas en la máquina correspondiente a la instancia activa.
2019-11-06 20:45:19,580 - DEBUG - ---La aplicación PCC se encuentra en uso en versión de WAS 8.0; en cuyo caso la máquina correspondiente a la instancia pasiva, debe mantener detenidos los listener de MQ y la aplicación misma.
2019-11-06 20:45:19,584 - DEBUG - ---El procedimiento para detener e iniciar la aplicación PCC es el siguiente (en el orden indicado):
2019-11-06 20:45:19,588 - DEBUG - ---PASO 2 SUBIR QHTTPSVR (NO PROCEDER HASTA QUE SUBAN SERVICIOS EN ISERIES, QWAS8 y QWAS85 ARRIBA):
2019-11-06 20:45:19,591 - DEBUG - ---QHTTPSERVER - Luego de que hayan subido, mínimo los servidores de aplicaciones de SVE, SVP y APP (para no encolar)
2019-11-06 20:45:19,594 - DEBUG - ---Para subir los servidores web (HTTP server) se tiene el comando 
2019-11-06 20:45:19,596 - DEBUG - ---STRTCPSVR SERVER(*HTTP) HTTPSVR(*ALL)
2019-11-06 20:45:19,598 - DEBUG - ---Validar con las pantallas tomadas inicialmente que si queden activos los que deben quedar. Los que no, detenerlos (4, F4)
2019-11-06 20:45:19,601 - DEBUG - ---IMPORTANTE: Revisar que no suba el IWADFT, APACHEDFT para que no cree conflicto con el puerto 80 para el web Server ADMWS21180.
2019-11-06 20:45:19,604 - DEBUG - ---PRIORIDAD DE LOS SERVICIOS
2019-11-06 20:45:19,606 - DEBUG - ---RSA
2019-11-06 20:45:19,608 - DEBUG - ---SVE
2019-11-06 20:45:19,611 - DEBUG - ---SVP
2019-11-06 20:45:19,613 - DEBUG - ---APP
2019-11-06 20:45:19,615 - DEBUG - ---FCN y PSE
2019-11-06 20:45:19,617 - DEBUG - ---WAP
2019-11-06 20:45:19,619 - DEBUG - ---RIN
2019-11-06 20:45:19,621 - DEBUG - ---PAC
2019-11-06 20:45:19,623 - DEBUG - ---TAC
2019-11-06 20:45:19,625 - DEBUG - ---PCC
2019-11-06 20:45:19,627 - DEBUG - ---SVS
2019-11-06 20:45:19,629 - DEBUG - ---Resto de servicios.
2019-11-06 20:45:19,632 - DEBUG - ---La documentación la encontramos en el archivo catalogo_WAS_iSeries.xlsx
2019-11-06 20:45:19,636 - INFO - Indexing file: Banistmo PTR_WAS SBBANBSM01V.docx
2019-11-06 20:45:19,659 - DEBUG - ---

2019-11-06 20:45:19,661 - DEBUG - ---Control de Versiones
2019-11-06 20:45:19,662 - DEBUG - ---

2019-11-06 20:45:19,664 - DEBUG - ---Nombre del PTR
2019-11-06 20:45:19,665 - DEBUG - ---Consideraciones previas
2019-11-06 20:45:19,666 - DEBUG - ---La máquina Windows inicia el servidor de aplicaciones por medio de un servicio, sin embargo, el servidor de aplicaciones tiene la seguridad habilitada y el controlador de dominio (LDAP) al que apunta es de Producción, el cual es diferente al DR.
2019-11-06 20:45:19,668 - DEBUG - ---Se deben ejecutar algunas acciones para modificar esta configuración. 
2019-11-06 20:45:19,670 - DEBUG - ---Descripción de las actividades
2019-11-06 20:45:19,671 - DEBUG - ---Terminar el servicio de WAS
2019-11-06 20:45:19,674 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:45:19,677 - DEBUG - ---Finalizar el servicio de WAS, si se intenta detener por medio del administrador de servicios este se quedará en el estado stopping.
2019-11-06 20:45:19,682 - DEBUG - ---Por lo tanto, es necesario terminar el proceso. Se abre el task manager, clic en Show process from all users.
2019-11-06 20:45:19,685 - DEBUG - ---Se buscan los procesos WASService.exe y java.exe y clic en End Process
2019-11-06 20:45:19,688 - DEBUG - ---Actualizar el controlador de dominio.
2019-11-06 20:45:19,690 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:45:19,691 - DEBUG - ---Sacar un respaldo del archivo security.xml
2019-11-06 20:45:19,693 - DEBUG - ---Editar el archivo security.xml ubicado en la ruta:
2019-11-06 20:45:19,694 - DEBUG - ---C:\IBM\WebSphere\AppServer\profiles\SMG3\config\cells\SBBANBSM01VNode02Cell\
2019-11-06 20:45:19,696 - DEBUG - ---Se debe reemplazar la IP 10.5.133.4 por 10.61.178.10
2019-11-06 20:45:19,699 - DEBUG - ---Iniciar los servicios de WAS
2019-11-06 20:45:19,701 - DEBUG - ---Ingresar al servidor Windows SBBANBSM01V
2019-11-06 20:45:19,702 - DEBUG - ---Iniciar el servicio IBM WebSphere Application Server V8.5 - SBBANBSM01VNode02
2019-11-06 20:45:19,705 - DEBUG - ---Ingresar a la consola administrativa para verificar que los servicios se encuentren iniciados. 
2019-11-06 20:45:19,708 - INFO - Indexing file: Paso a paso Start-Stop FATCA-jar.docx
2019-11-06 20:45:19,719 - DEBUG - ---PASO A PASO START-STOP FATCA - JAR
2019-11-06 20:45:19,721 - DEBUG - ---Inicio del aplicativo MonitorFATCA_JOB
2019-11-06 20:45:19,723 - DEBUG - ---Ejecución del aplicativo MonitorFATCA_JOB
2019-11-06 20:45:19,727 - DEBUG - ---Consideraciones
2019-11-06 20:45:19,731 - DEBUG - ---Ruta Base
2019-11-06 20:45:19,735 - DEBUG - ---

2019-11-06 20:45:19,738 - DEBUG - ---Para iniciar la aplicación se debe ejecutar el archivo .SH encargado de iniciar la aplicación. Para esto nos ubicamos en la ruta:
2019-11-06 20:45:19,741 - DEBUG - ---/nas/htsl-fat512/bin/
2019-11-06 20:45:19,743 - DEBUG - ---Luego, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:45:19,746 - DEBUG - ---./start_fatca.sh
2019-11-06 20:45:19,747 - DEBUG - ---Para validar si la aplicación JOB se está ejecutando, se puede ejecutar el siguiente comando en la consola:
2019-11-06 20:45:19,749 - DEBUG - ---ps -ef | grep co.com.tata.MonitorStartJob
2019-11-06 20:45:19,751 - DEBUG - ---Si no se está ejecutando el aplicativo, se muestra un mensaje parecido al siguiente:
2019-11-06 20:45:19,755 - DEBUG - ---Si el programa está arriba, se debe ver un mensaje parecido al siguiente:
2019-11-06 20:45:19,756 - DEBUG - ---

2019-11-06 20:45:19,758 - DEBUG - ---Detener el aplicativo MonitorFATCA_JOB
2019-11-06 20:45:19,759 - DEBUG - ---Datos varios
2019-11-06 20:45:19,761 - DEBUG - ---Para detener el aplicativo FATCA_JOB.jar, debemos ingresar a la ruta:
2019-11-06 20:45:19,763 - DEBUG - ---/nas/htsl-fat512/bin/flag/
2019-11-06 20:45:19,764 - DEBUG - ---En esta ruta, se debe encontrar el archivo KILLME.txt. 
2019-11-06 20:45:19,765 - DEBUG - ---Este archivo debe ser eliminado por completo del FileSystem.
2019-11-06 20:45:19,767 - DEBUG - ---Para eliminar el archivo, se debe ejecutar la siguiente línea de comando:
2019-11-06 20:45:19,769 - DEBUG - ---rm KILLME.txt
2019-11-06 20:45:19,770 - DEBUG - ---Debemos esperar al menos 2 minutos mientras el programa cierra todos los hilos de ejecución que se encuentren arriba.
2019-11-06 20:45:19,773 - DEBUG - ---Contacto: Diana Lopez Parra (dilparr@bancolombia.com.co)
2019-11-06 20:45:19,774 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-06 20:45:19,821 - DEBUG - ---Manual de Operaciones
2019-11-06 20:45:19,831 - DEBUG - --- WebSphere Service Registry and Repository
2019-11-06 20:45:19,839 - DEBUG - ---IBM de Colombia S.A
2019-11-06 20:45:19,850 - DEBUG - ---Fecha: Mayo 7 de 2015
2019-11-06 20:45:19,869 - DEBUG - ---INICIO Y DETENCIÓN DE SERVICIOS POR AMBIENTE
2019-11-06 20:45:19,873 - DEBUG - ---DESARROLLO
2019-11-06 20:45:19,877 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:19,881 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:19,887 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:19,889 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:45:19,902 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:19,906 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/DWSRRPF1/bin/startServer.sh server1
2019-11-06 20:45:19,910 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:19,917 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando de nuevo a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:19,923 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:19,941 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:19,946 - DEBUG - ---

2019-11-06 20:45:19,949 - DEBUG - ---CERTIFICACIÓN
2019-11-06 20:45:19,953 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:19,959 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:19,974 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:19,976 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/stopServer.sh server1
2019-11-06 20:45:19,979 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:19,984 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRPF1/bin/startServer.sh server1
2019-11-06 20:45:19,987 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:20,007 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:20,014 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:20,023 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:20,032 - DEBUG - ---

2019-11-06 20:45:20,046 - DEBUG - ---INSTANCIA GOBIERNO
2019-11-06 20:45:20,060 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:20,073 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR:
2019-11-06 20:45:20,091 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:20,098 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/stopServer.sh server1
2019-11-06 20:45:20,104 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.33.114 por SSH y ejecutar el comando:
2019-11-06 20:45:20,110 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/QWSRRGOVPF/bin/startServer.sh server1
2019-11-06 20:45:20,119 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:20,138 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de CERTIFICACIÓN):
2019-11-06 20:45:20,146 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:20,157 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:20,194 - DEBUG - ---PRODUCCIÓN PANAMÁ
2019-11-06 20:45:20,198 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:20,204 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:20,212 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:45:20,219 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:20,223 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:45:20,226 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:45:20,229 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:20,231 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:45:20,235 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.16 por SSH y ejecutar el comando:
2019-11-06 20:45:20,238 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:20,244 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:45:20,252 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.52.144.17 por SSH y ejecutar el comando:
2019-11-06 20:45:20,257 - DEBUG - ---sudo su – wsrsvc
2019-11-06 20:45:20,260 - DEBUG - ---/wsrr/IBM/WebSphere/ServiceRegistry/profiles/WSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:45:20,263 - DEBUG - ---Subir los web servers en las máquinas PBPAMTPIHS01 y PBPAMTPIHS02:
2019-11-06 20:45:20,268 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/apachectl -d /ihs/IBM/HTTPServer_V80/ -k start -f /ihs/IBM/HTTPServer_V80/conf/httpd_wsrr.conf
2019-11-06 20:45:20,272 - DEBUG - ---sudo /ihs/IBM/HTTPServer_V80/bin/adminctl start
2019-11-06 20:45:20,276 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:20,295 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:20,303 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:20,309 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:20,318 - DEBUG - ---

2019-11-06 20:45:20,327 - DEBUG - ---PRODUCCIÓN COLOMBIA
2019-11-06 20:45:20,331 - DEBUG - ---Ingresar a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:20,336 - DEBUG - ---Detener las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:20,342 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:45:20,344 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/stopServer.sh WSRR01AS01
2019-11-06 20:45:20,351 - DEBUG - ---Para detener los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:45:20,359 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/stopServer.sh WSRR02AS01
2019-11-06 20:45:20,363 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.237 por SSH y ejecutar el comando:
2019-11-06 20:45:20,366 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG01PF/bin/startServer.sh WSRR01AS01
2019-11-06 20:45:20,370 - DEBUG - ---Para iniciar los servicios, ingresar al servidor 10.4.80.74 por SSH y ejecutar el comando:
2019-11-06 20:45:20,373 - DEBUG - ---sudo /opk/was8/IBM/WebSphere/AppServer/profiles/PSRG02PF/bin/startServer.sh WSRR02AS01
2019-11-06 20:45:20,377 - DEBUG - ---Subir los web servers en las máquinas PBMDEAPIHS01 y PBMDEAPIHS02:
2019-11-06 20:45:20,381 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/apachectl -d /opk/IBM/HTTPServer/ -k start -f /opk/IBM/HTTPServer/conf/httpd_wsrr.conf
2019-11-06 20:45:20,395 - DEBUG - ---sudo /opk/IBM/HTTPServer/bin/adminctl start
2019-11-06 20:45:20,401 - DEBUG - ---Realizar un test de conexión a los datasources, pues en caso de fallo, las aplicaciones de WSRR no subirán correctamente:
2019-11-06 20:45:20,408 - DEBUG - ---Si la anterior prueba dio resultados positivos, proceder a subir las aplicaciones, ingresando a la consola (utilizando las credenciales del LDAP de PRODUCCIÓN):
2019-11-06 20:45:20,415 - DEBUG - ---Iniciar las aplicaciones pertenecientes a WSRR
2019-11-06 20:45:20,421 - DEBUG - ---Realizar prueba de ingreso a WSRR:
2019-11-06 20:45:20,426 - DEBUG - ---

2019-11-06 20:45:20,430 - DEBUG - ---OPERACIONES FRECUENTES EN WSRR v8.0
2019-11-06 20:45:20,434 - DEBUG - ---Se requiere ejecutar las siguientes actividades en el WSRR instancia certificación (pbmdeaqmeb01 - 10.4.33.114)
2019-11-06 20:45:20,438 - DEBUG - ---Crear la clasificación (consumidor) en el sistema de clasificación Arquitectura Aplicativa - Clasificacion SystemId V 1.0: 
2019-11-06 20:45:20,441 - DEBUG - ---AW0939
2019-11-06 20:45:20,443 - DEBUG - ---Nombre: AW0939_Gestion de Filas Q-Flow
2019-11-06 20:45:20,446 - DEBUG - ---Comentario: Gestión de asignación de turnos.
2019-11-06 20:45:20,448 - DEBUG - ---Asignar el consumidor creado en el punto anterior al servicio:
2019-11-06 20:45:20,451 - DEBUG - ---MQE_RecuperarDatosCliente 
2019-11-06 20:45:20,454 - DEBUG - ---(la versión 3.0 --> http://grupobancolombia.com/intf/Clientes/GestionClientes/RecuperarDatosCliente/Enlace/V3.0).
2019-11-06 20:45:20,458 - DEBUG - ---PASOS
2019-11-06 20:45:20,460 - DEBUG - ---Entrar en el web user interface (aplicación ServiceRegistry) y seleccionar la Perspectiva Configuration:
2019-11-06 20:45:20,468 - DEBUG - ---Estando allí, seleccionar la opción Active Profile / Classification Systems:
2019-11-06 20:45:20,476 - DEBUG - ---Estando en esta opción, seleccionamos Arquitectura Aplicativa – Clasificacion SystemId V1.0:
2019-11-06 20:45:20,484 - DEBUG - ---Al darle click, se abre la siguiente ventana:
2019-11-06 20:45:20,491 - DEBUG - ---Dar click en Classes y allí en Add Root Class y diligencio los campos con la información provista por los usuarios:
2019-11-06 20:45:20,501 - DEBUG - ---Lo cual le conduce a la siguiente opción:
2019-11-06 20:45:20,508 - DEBUG - ---Selecciono OK y queda almacenado el registro, pero es necesario en la ventana siguiente seleccionar Save and Commit para que quede aplicado el cambio:
2019-11-06 20:45:20,513 - DEBUG - ---

2019-11-06 20:45:20,518 - DEBUG - ---Para la segunda parte de la actividad, selecciono Development del menú de Perspective:
2019-11-06 20:45:20,524 - DEBUG - ---En la ventana principal damos scroll hacia abajo y encontramos el grupo Service Model y damos click en la opción Manual MQ Endpoints:
2019-11-06 20:45:20,533 - DEBUG - ---Seleccionamos el MQ Endpoint indicado por los analistas:
2019-11-06 20:45:20,538 - DEBUG - ---Estando allí, selecciono la opción Edit Classifications:
2019-11-06 20:45:20,545 - DEBUG - ---En la parte izquierda despliego la opción Arquitectura Aplicativa - Clasificacion SystemId V 1.0 y selecciono el checkbox correspondiente al consumidor a asignar y doy click en Add:
2019-11-06 20:45:20,553 - DEBUG - ---Doy click en OK y queda grabado el cambio.
2019-11-06 20:45:20,556 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER1.docx
2019-11-06 20:45:20,565 - DEBUG - ---Procedimiento para el reinicio CLUSTER1 Ventas Digitales Produccion
2019-11-06 20:45:20,567 - DEBUG - ---Cuando soliciten reinicio del CLUSTER1, Se deben ejecutar las siguientes actividades:
2019-11-06 20:45:20,569 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:45:20,570 - DEBUG - ---Detener  los APPSERVERs del CLUSTER1 
2019-11-06 20:45:20,571 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:45:20,572 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:45:20,574 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:45:20,576 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:45:20,577 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:45:20,579 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:45:20,581 - DEBUG - ---disableAllApps()
2019-11-06 20:45:20,582 - DEBUG - ---save()
2019-11-06 20:45:20,584 - DEBUG - ---Subir los APPSERVERs del CLUSTER1
2019-11-06 20:45:20,585 - DEBUG - ---Subir la aplicacion
2019-11-06 20:45:20,587 - DEBUG - ---AW1128001_VTDAPI_COMMONMensajesError
2019-11-06 20:45:20,588 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:45:20,591 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:45:20,592 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:45:20,594 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:45:20,596 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:45:20,598 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:45:20,600 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:45:20,601 - DEBUG - ---enableAllApps()
2019-11-06 20:45:20,602 - DEBUG - ---save()
2019-11-06 20:45:20,603 - INFO - Indexing file: Procedimiento reinicio ambiente PDN CLUSTER2.docx
2019-11-06 20:45:20,613 - DEBUG - ---Procedimiento para el reinicio CLUSTER2 Ventas Digitales Produccion
2019-11-06 20:45:20,615 - DEBUG - ---Cuando soliciten reinicio del CLUSTER2, Se deben ejecutar las siguientes actividades:
2019-11-06 20:45:20,616 - DEBUG - ---Ingresar a la consola WAS de Produccion 
2019-11-06 20:45:20,618 - DEBUG - ---Detener  los APPSERVERs del CLUSTER2
2019-11-06 20:45:20,619 - DEBUG - ---Deshabilitar el inicio automatico de todas las aplicaciones
2019-11-06 20:45:20,620 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:45:20,622 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:45:20,623 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:45:20,625 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:45:20,627 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:45:20,628 - DEBUG - ---disableAllApps()
2019-11-06 20:45:20,630 - DEBUG - ---save()
2019-11-06 20:45:20,631 - DEBUG - ---Subir los APPSERVERs del CLUSTER2
2019-11-06 20:45:20,632 - DEBUG - ---Subir la aplicacion
2019-11-06 20:45:20,633 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:45:20,634 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:45:20,635 - DEBUG - ---AW0937001_VTDFrontAutenticacion
2019-11-06 20:45:20,637 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:45:20,638 - DEBUG - ---PMO27262_API_PreaprobadoTDC
2019-11-06 20:45:20,639 - DEBUG - ---PMO27262_API_InfoUsuario
2019-11-06 20:45:20,641 - DEBUG - ---Subir las demás aplicaciones por la consola WAS
2019-11-06 20:45:20,643 - DEBUG - ---Habilitar nuevamente el inicio automatico de las aplicaciones WAS.
2019-11-06 20:45:20,644 - DEBUG - ---Ingresar a la ruta
2019-11-06 20:45:20,646 - DEBUG - ---/b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEBDMGR01/bin
2019-11-06 20:45:20,647 - DEBUG - ---Ejecutar el commando ./ wsadmin.sh -lang jython -user xxxxx -password xxxx
2019-11-06 20:45:20,649 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/wsadminlib.py')
2019-11-06 20:45:20,650 - DEBUG - ---execfile('/wrkdirr/ibmdirr/edwin/changeAutostartApps.py')
2019-11-06 20:45:20,651 - DEBUG - ---enableAllApps()
2019-11-06 20:45:20,653 - DEBUG - ---save()
2019-11-06 20:45:20,654 - INFO - Indexing file: TD_Arquitectura_Ventas_Digitales_v1.1.docx
2019-11-06 20:45:20,731 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:45:20,734 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:45:20,744 - DEBUG - ---Reto 3 – Ventas Digitales
2019-11-06 20:45:20,747 - DEBUG - ---PMO25445
2019-11-06 20:45:20,784 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:45:20,789 - DEBUG - ---Control del Documento	3
2019-11-06 20:45:20,791 - DEBUG - ---Referencias	4
2019-11-06 20:45:20,794 - DEBUG - ---1.	Contextualización y Alcance de la Solución	5
2019-11-06 20:45:20,796 - DEBUG - ---2.	Vista funcional de la solución	7
2019-11-06 20:45:20,798 - DEBUG - ---2.1.	Componentes de la solución y relaciones de uso	7
2019-11-06 20:45:20,801 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito	8
2019-11-06 20:45:20,820 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión	9
2019-11-06 20:45:20,824 - DEBUG - ---Release 3 – Créditos Online (Motor)	10
2019-11-06 20:45:20,829 - DEBUG - ---2.1.1.	Detalle de componentes involucrados en Reportería (Visualización)	11
2019-11-06 20:45:20,833 - DEBUG - ---2.1.2.	Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos	13
2019-11-06 20:45:20,835 - DEBUG - ---2.1.3.	Detalle de componentes involucrados en la solución para Precalculados	14
2019-11-06 20:45:20,838 - DEBUG - ---2.1.4.	Descomposición funcional	15
2019-11-06 20:45:20,840 - DEBUG - ---2.1.5.	Validación con Expertos de la VSTI	20
2019-11-06 20:45:20,843 - DEBUG - ---2.2.	Interacción de Componentes	20
2019-11-06 20:45:20,845 - DEBUG - ---2.3.	Interfaces de la solución	25
2019-11-06 20:45:20,847 - DEBUG - ---3.	Vista física de la solución	25
2019-11-06 20:45:20,850 - DEBUG - ---3.1.	Diagrama de componentes técnicos	25
2019-11-06 20:45:20,852 - DEBUG - ---3.2.	Continuidad Tecnológica	27
2019-11-06 20:45:20,854 - DEBUG - ---3.2.1.	Esquema de Disponibilidad Local	27
2019-11-06 20:45:20,856 - DEBUG - ---3.2.2.	Esquema de Disponibilidad Remota	28
2019-11-06 20:45:20,858 - DEBUG - ---3.3.	Monitoreo de la solución	28
2019-11-06 20:45:20,861 - DEBUG - ---4.	Decisiones de Arquitectura	29
2019-11-06 20:45:20,885 - DEBUG - ---	
2019-11-06 20:45:20,889 - DEBUG - ---
Control del Documento
2019-11-06 20:45:20,898 - DEBUG - ---

2019-11-06 20:45:20,900 - DEBUG - ---Referencias
2019-11-06 20:45:20,904 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:45:20,912 - DEBUG - ---

2019-11-06 20:45:20,914 - DEBUG - ---Contextualización y Alcance de la Solución
2019-11-06 20:45:20,918 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:45:20,922 - DEBUG - ---El tercer reto que se afrontará dentro del programa será el de Ventas Digitales, el cual en su primera fase, tiene el siguiente alcance:
2019-11-06 20:45:20,928 - DEBUG - ---Con este reto se pretende darle solución a dos necesidades macro que actualmente tiene el banco:
2019-11-06 20:45:20,932 - DEBUG - ---Crear un nuevo portal de ventas digitales que habilite una experiencia de usuario enriquecedora a nuestros clientes.
2019-11-06 20:45:20,934 - DEBUG - ---Habilitar el portal para ventas que sean 100% en línea, en donde nuestros clientes disfruten de una experiencia de principio a fin sin necesidad de desplazarse a una sucursal física.  
2019-11-06 20:45:20,940 - DEBUG - ---El presente documento contempla el siguiente alcance:
2019-11-06 20:45:20,954 - DEBUG - ---El alcance adicional se realizará de manera incremental e iterativa.
2019-11-06 20:45:20,958 - DEBUG - ---Nota aclaratoria: como decisión del proyecto, no se va a realizar la migración de las actuales pantallas de solicitud de productos (seguros, tarjeta de crédito y libre inversión) que existen en Bancolombia a un Clic.
2019-11-06 20:45:20,963 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:45:20,967 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:45:20,971 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso de acuerdo con los requisitos de negocio planteados para la solución
2019-11-06 20:45:20,975 - DEBUG - ---

2019-11-06 20:45:20,977 - DEBUG - ---Release 1 – Preaprobados de Tarjeta de Crédito
2019-11-06 20:45:20,986 - DEBUG - ---Release 2 – Preaprobados de CrediAgil y Libre Inversión
2019-11-06 20:45:20,992 - DEBUG - ---Release 3 – Créditos Online (Motor)
2019-11-06 20:45:21,000 - DEBUG - ---A continuación se detallan por medio de diagramas de componentes algunas funcionalidades que se tienen en la solución:
2019-11-06 20:45:21,008 - DEBUG - ---Detalle de componentes involucrados en Reportería (Visualización)
2019-11-06 20:45:21,014 - DEBUG - ---Los siguientes diagramas muestran la solución objetivo y transitoria para la visualización de la información de la base de datos de ventas digitales. 
2019-11-06 20:45:21,018 - DEBUG - ---Se hace necesario un modelo transitorio debido a que en Bancolombia aun no contamos con la herramienta Flume con gobierno desde TI. Esto se espera suceda en la segunda mitad del 2018.
2019-11-06 20:45:21,022 - DEBUG - ---Objetivo: en esta solución se transportará la información desde la base de datos de ventas digitales directamente hacia la LZ, esto a través de unos procesos micro-batch con la herramienta Flume. 
2019-11-06 20:45:21,024 - DEBUG - ---La explotación de la información se puede hacer directamente en la LZ con alguna de sus herramientas o a través de SAS o SAS Web Report Studio.
2019-11-06 20:45:21,032 - DEBUG - ---Transitorio: en esta solución se hace necesario involucrar una base de datos intermedia que servirá para ir descargando la información (cada hora aproximadamente) y mediante un proceso batch se llevará el histórico a la LZ. 
2019-11-06 20:45:21,035 - DEBUG - ---La explotación de la información se realizará mediante las herramientas propias de la LZ, SAS, Modeler o para algunos usuarios que no cuentan con skill o licencia se construirá un reporte en SAP BO.
2019-11-06 20:45:21,040 - DEBUG - ---

2019-11-06 20:45:21,044 - DEBUG - ---Detalle de componentes involucrados en el Módulo Administrador de Tasas para Créditos
2019-11-06 20:45:21,047 - DEBUG - ---Al ser una solución nueva para Bancolombia, el siguiente diagrama muestra los componentes involucrados en la solución para la administración de tasas para créditos.
2019-11-06 20:45:21,054 - DEBUG - ---

2019-11-06 20:45:21,056 - DEBUG - ---Detalle de componentes involucrados en la solución para Precalculados
2019-11-06 20:45:21,062 - DEBUG - ---El siguiente diagrama muestra los componentes involucrados en la solución de precalculados desde que se generan los preaprobados hasta que quedan disponibles para ser consultados o actualizados vía capa de integración.
2019-11-06 20:45:21,079 - DEBUG - ---

2019-11-06 20:45:21,082 - DEBUG - ---Descomposición funcional
2019-11-06 20:45:21,086 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:45:21,102 - DEBUG - ---Validación con Expertos de la VSTI
2019-11-06 20:45:21,109 - DEBUG - ---Interacción de Componentes 
2019-11-06 20:45:21,113 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:45:21,116 - DEBUG - ---

2019-11-06 20:45:21,119 - DEBUG - ---Autenticación de clientes
2019-11-06 20:45:21,125 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la autenticación de los clientes dentro del portal de ventas digitales. Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:45:21,139 - DEBUG - ---Consulta de preaprobados
2019-11-06 20:45:21,143 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la consulta de los productos preaprobados de un cliente por cualquiera de los canales habilitados (SVP, APP y Portal de Ventas).
2019-11-06 20:45:21,149 - DEBUG - ---Carga de preaprobados
2019-11-06 20:45:21,153 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar la carga de la base de datos transaccional de precalculados.
2019-11-06 20:45:21,159 - DEBUG - ---Venta de preaprobados TDC
2019-11-06 20:45:21,163 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes cuando se vende un producto preaprobado de Tarjeta de Crédito.
2019-11-06 20:45:21,170 - DEBUG - ---Replicar Información Solicitudes
2019-11-06 20:45:21,174 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para la replicación de la información de solicitudes desde la base de datos en IBM Bluemix hasta la base de datos intermedia y su posterior histórico en la LZ.
2019-11-06 20:45:21,176 - DEBUG - ---Nota: la periodicidad de ejecución de este proceso se propone sea cada hora de 6 a.m. a 6 p.m.
2019-11-06 20:45:21,186 - DEBUG - ---SSO entre canales
2019-11-06 20:45:21,193 - DEBUG - ---El siguiente diagrama muestra las interacciones entre componentes para realizar el single sign on de un cliente desde la SVP/APP hacia el portal de ventas.3 Más detalle en el entregable de arquitectura para el componente transversal de autenticación.
2019-11-06 20:45:21,202 - DEBUG - ---Venta de preaprobados de Libre Inversión y CrediAgil
2019-11-06 20:45:21,204 - DEBUG - ---Venta de créditos con aprobación en línea.
2019-11-06 20:45:21,210 - DEBUG - ---Interfaces de la solución
2019-11-06 20:45:21,214 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:45:21,218 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:45:21,222 - DEBUG - ---<Enlace>
2019-11-06 20:45:21,225 - DEBUG - ---Vista física de la solución  
2019-11-06 20:45:21,230 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:45:21,248 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:45:21,253 - DEBUG - --- 
2019-11-06 20:45:21,256 - DEBUG - ---

2019-11-06 20:45:21,261 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:45:21,264 - DEBUG - ---En esta sección se muestra el diseño de los esquemas de disponibilidad local y remota desde la perspectiva de la necesidad de la solución y únicamente para componentes nuevos dentro de la arquitectura del banco. Los componentes existentes ya cuentan con su esquema de continuidad definido.
2019-11-06 20:45:21,269 - DEBUG - --- Esquema de Disponibilidad Local
2019-11-06 20:45:21,272 - DEBUG - ---Aplicación Administración de Tasas para Créditos
2019-11-06 20:45:21,277 - DEBUG - ---Base de datos de Preaprobados
2019-11-06 20:45:21,283 - DEBUG - ---Autenticación, manejo de sesión y Tx de consulta de preaprobados para la SVP
2019-11-06 20:45:21,288 - DEBUG - ---Esquema de Disponibilidad Remota
2019-11-06 20:45:21,291 - DEBUG - ---De acuerdo a la definición entregada por Riesgos y Continuidad del negocio en donde se indica que el Portal de Ventas al ser un canal alterno no está incluido en el BIA y por lo tanto no se requiere tener un esquema de disponibilidad remota (DR).
2019-11-06 20:45:21,296 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:45:21,301 - DEBUG - ---A continuación se describen de manera general, el monitoreo que deben tener los componentes que son nuevos dentro de la solución y que se encuentren en infraestructura nueva.
2019-11-06 20:45:21,308 - DEBUG - ---   
2019-11-06 20:45:21,314 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:45:21,322 - INFO - Indexing file: acceso.txt
2019-11-06 20:45:21,323 - DEBUG - ---Softlayer (Abrir con el internet explorer)
https://vpn.hou02.softlayer.com
Usuario:   ejbetanc     password:  Y6W6iY2&
Usuario : vcardona / Vcardona123*

Url consola was producción
https://10.121.219.153:10001/ibm/console/logon.jsp
user: 
wasadminb1    
pass:  
wasadminb1//* 


SSH
10.121.219.153
10.77.251.216

wasadmin
B1CAdminWAS
2019-11-06 20:45:21,324 - INFO - Indexing file: Procedimiento reinicio CLUSTER2 Ventas Digitales Produccion.docx
2019-11-06 20:45:21,332 - DEBUG - ---Instructivo para realizar reinicio CLUSTER2 de ventas Digitales
2019-11-06 20:45:21,334 - DEBUG - ---Detener las aplicaciones, para ello desde la consola WAS ir a la ruta Applications - Application Types - WebSphere enterprise applications y buscar las aplicaciones 
2019-11-06 20:45:21,335 - DEBUG - ---PMO27262_API_Persistence
2019-11-06 20:45:21,336 - DEBUG - ---PMO27262_API_Autenticacion
2019-11-06 20:45:21,337 - DEBUG - ---El Cluser2 está compuesto por los APPSERVER ASPDNB1C03 y ASPDNB1C04, para continuar con el proceso de reinicio se debe detener  primero el APPSERVER ASPDNB1C03
2019-11-06 20:45:21,339 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:45:21,340 - DEBUG - ---En el servidor 10.73.29.83 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:45:21,342 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C03 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:45:21,344 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF01 /bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C03
2019-11-06 20:45:21,346 - DEBUG - ---Despues de validar que suba el APPSERVER ASPDNB1C03, se procede a detener el APPSERVER ASPDNB1C04
2019-11-06 20:45:21,348 - DEBUG - ---Posteriormente limpiar caché de la siguiente manera:
2019-11-06 20:45:21,349 - DEBUG - ---En el servidor 10.170.187.21 ingresar a la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02 y posteriormente borrar las carpetas temp y wstemp
2019-11-06 20:45:21,351 - DEBUG - ---Bajar el node agent correspondiente al APPSERVER ASPDNB1C04 para realizar la sincronización de la celda, para ello nos ubicamos en la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin y se ejecuta el siguiente comando ./syncNode.sh 10.73.29.83 10003 -username xxxxxxx -password xxxxxxx donde xxxxxx equivale al usuario wasadminb1 y el password asociado a ese usuario
2019-11-06 20:45:21,353 - DEBUG - ---Subir el node agent ejecutando el comando ./startNode.sh desde la ruta /b1c/IBM/WebSphere/AppServer/V85/ND/profiles/PWEB85SRVPF02/bin tener en cuenta que al subir el node agent éste automáticamente sube el appserver ASPDNB1C04
2019-11-06 20:45:21,355 - INFO - Indexing file: TD_Arquitectura_Mercado_Libre_Divisas_Personas_v1.3.docx
2019-11-06 20:45:21,414 - DEBUG - ---Diseño de Arquitectura de la Solución
2019-11-06 20:45:21,418 - DEBUG - ---Programa Transformación Hacia lo Digital
2019-11-06 20:45:21,427 - DEBUG - ---Reto Mercado Libre de Divisas
2019-11-06 20:45:21,438 - DEBUG - ---	
2019-11-06 20:45:21,441 - DEBUG - ---

2019-11-06 20:45:21,445 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:45:21,449 - DEBUG - ---
Control del Documento
2019-11-06 20:45:21,456 - DEBUG - ---

2019-11-06 20:45:21,458 - DEBUG - ---Referencias
2019-11-06 20:45:21,461 - DEBUG - ---La siguiente lista corresponde a los documentos complementarios e insumos usados para en el diseño de la arquitectura:
2019-11-06 20:45:21,467 - DEBUG - ---

2019-11-06 20:45:21,469 - DEBUG - ---Contextualización de la Solución
2019-11-06 20:45:21,472 - DEBUG - ---Dentro del marco del programa Transformación Hacia lo Digital se vienen trabajando una serie de retos estratégicos para la organización, que permitirán llevar algunos procesos claves a un plano 100% digital desde una perspectiva front to back.
2019-11-06 20:45:21,477 - DEBUG - ---El primer reto que se afrontará dentro del programa será el de Mercado Libre de Divisas, el cual pretende digitalizar a través de la SVP el proceso de compra y venta de divisas (solo formulario cambiario cinco) para personas naturales y pymes, este proceso comúnmente llamado envío y recepción de giros interbancarios a hoy se realiza personalmente a través de la sucursal física o de la mesa de dinero (telefónicamente). A continuación se presenta un diagrama conceptual que ilustra a alto nivel el proceso actual desde el punto de vista del cliente:
2019-11-06 20:45:21,484 - DEBUG - ---Con la digitalización de este proceso se pretende darle solución básicamente a dos aspectos:
2019-11-06 20:45:21,489 - DEBUG - ---Necesidad de desplazamiento a la sucursal física y la firma de declaraciones de cambio: actualmente, independiente del canal de negociación, para realizar el cumplimiento de la operación, el cliente se debe desplazar hasta la sucursal y radicar los documentos declaración de cambio y carta de instrucciones.
2019-11-06 20:45:21,492 - DEBUG - ---Alta congestión de mesa de dinero: a hoy un alto porcentaje de las operaciones entran directamente a la mesa, bien sea porque los clientes se sienten mejor asesorados o porque desde las oficinas, por desconocimiento, los remiten a la mesa, ocasionando así que se pierdan muchas veces mejores negocios por lo tiempos de espera en la mesa.
2019-11-06 20:45:21,501 - DEBUG - ---Alcance de la solución
2019-11-06 20:45:21,504 - DEBUG - ---La presente solución tiene como alcance los siguientes aspectos:
2019-11-06 20:45:21,507 - DEBUG - ---Consulta de histórico de transferencias internacionales recibidas.
2019-11-06 20:45:21,510 - DEBUG - ---Transacción de recepción manual de transferencias internacionales por la SVP, con abono a cuenta de ahorros o corriente.
2019-11-06 20:45:21,512 - DEBUG - ---Administración de la inscripción al servicio de abono automático para las transferencias internacionales recibidas.
2019-11-06 20:45:21,515 - DEBUG - ---Modificación de rutina de abono automático con beneficio de tasa digital.
2019-11-06 20:45:21,517 - DEBUG - ---Consulta de condiciones de negociación y tasa digital.
2019-11-06 20:45:21,519 - DEBUG - ---Alertas de recepción de transferencias internacionales.
2019-11-06 20:45:21,521 - DEBUG - ---Inscripción y administración de cuentas en el exterior.
2019-11-06 20:45:21,523 - DEBUG - ---Transacción de envío de transferencias internacionales por la SVP, con debito a cuenta ahorros o corriente.
2019-11-06 20:45:21,526 - DEBUG - ---Alertas de recibo y envío de transferencias internacionales.
2019-11-06 20:45:21,531 - DEBUG - ---Relación de la solución con otras Iniciativas 
2019-11-06 20:45:21,536 - DEBUG - ---Restricciones
2019-11-06 20:45:21,540 - DEBUG - ---Las siguientes son las restricciones de negocio y técnicas consideradas en el diseño de la arquitectura de la solución:   
2019-11-06 20:45:21,544 - DEBUG - ---

2019-11-06 20:45:21,546 - DEBUG - ---Vista funcional de la solución  
2019-11-06 20:45:21,550 - DEBUG - ---Componentes de la solución y relaciones de uso  
2019-11-06 20:45:21,554 - DEBUG - ---El siguiente diagrama presenta una vista estática de la solución en donde se muestran los componentes y sus relaciones de uso a un alto nivel de acuerdo con los requisitos de negocio planteados para la solución.
2019-11-06 20:45:21,559 - DEBUG - ---

2019-11-06 20:45:21,564 - DEBUG - ---Actores de la solución
2019-11-06 20:45:21,568 - DEBUG - ---Se relacionan los actores que interactúan con la solución y su descripción desde la perspectiva del rol que desempeña:
2019-11-06 20:45:21,574 - DEBUG - ---  Puntos de acceso   
2019-11-06 20:45:21,577 - DEBUG - ---Los medios a través de los cuales los actores acceden a las funcionalidades de la solución son relacionados en la siguiente tabla:
2019-11-06 20:45:21,582 - DEBUG - ---   
2019-11-06 20:45:21,583 - DEBUG - ---Descomposición funcional
2019-11-06 20:45:21,586 - DEBUG - ---Se especifican cada uno de los elementos involucrados en la solución teniendo en cuenta si son componentes o servicios, su estado y quien es el dueño de dicho elemento, al igual que la función específica que realizará cada elemento con relación a la solución de negocio planteada, especificando claramente si dicha función es nueva o modificada.
2019-11-06 20:45:21,593 - DEBUG - ---Requisitos Técnicos (RT)
2019-11-06 20:45:21,597 - DEBUG - ---Para la presente solución no se requiere de requisitos técnicos adicionales a los planteados en las responsabilidades de cada uno de los componentes y en las historias de usuario creadas por los usuarios.
2019-11-06 20:45:21,604 - DEBUG - ---Interacción de Componentes (Escenarios de uso de la solución)
2019-11-06 20:45:21,610 - DEBUG - ---Muestra la forma en la cual se dan las interacciones entre los diferentes componentes involucrados dentro de la solución, así mismo, se presenta la realización de los requisitos.  
2019-11-06 20:45:21,613 - DEBUG - ---

2019-11-06 20:45:21,616 - DEBUG - ---Gestión Abono Automático
2019-11-06 20:45:21,619 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario  de gestión de abono automático (inscripción, modificación y retiro) y la interacción entre ellos: 
2019-11-06 20:45:21,626 - DEBUG - ---Transferencias recibidas desde el exterior
2019-11-06 20:45:21,629 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de recepción manual de una transferencia desde el exterior y la interacción entre ellos: 
2019-11-06 20:45:21,635 - DEBUG - ---Abono Automático
2019-11-06 20:45:21,638 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario de la ejecución de la rutina de abono automático y la interacción entre ellos: 
2019-11-06 20:45:21,645 - DEBUG - ---Notificaciones desde CIB
2019-11-06 20:45:21,648 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para la migración de notificaciones de Faxmail a Alertas y Notificaciones: 
2019-11-06 20:45:21,654 - DEBUG - ---Transferencias hacia el exterior
2019-11-06 20:45:21,658 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario y la interacción entre ellos para inscripción de cuentas y transferencias hacia el exterior: 
2019-11-06 20:45:21,660 - DEBUG - ---	
2019-11-06 20:45:21,664 - DEBUG - ---Consulta de Tasa
2019-11-06 20:45:21,668 - DEBUG - ---El siguiente diagrama de secuencia muestra los componentes que hacen parte del escenario para la consulta de tasa digital y la interacción entre ellos: 
2019-11-06 20:45:21,676 - DEBUG - ---Interfaces de la solución
2019-11-06 20:45:21,681 - DEBUG - ---En la sección de componentes de la solución y relaciones de uso, fueron identificadas funcionalidades requeridas y mapeadas a componentes.    
2019-11-06 20:45:21,687 - DEBUG - ---En la siguiente tabla se muestran la lista de interfaces de la solución y atributos de calidad requeridos en cada interfaz:   
2019-11-06 20:45:21,693 - DEBUG - ---Visualización y accesos 
2019-11-06 20:45:21,697 - DEBUG - ---Se presentan los principales reportes/informes o punto de acceso a la información, que se crean o se modifican de forma relevante en la solución:
2019-11-06 20:45:21,703 - DEBUG - ---Para obtener mayor información sobre los tipos de reportes y las herramientas corporativas para su implementación, puede referirse a la 
2019-11-06 20:45:21,706 - DEBUG - ---   
2019-11-06 20:45:21,708 - DEBUG - ---

2019-11-06 20:45:21,710 - DEBUG - ---Vista física de la solución  
2019-11-06 20:45:21,714 - DEBUG - ---Diagrama de componentes técnicos
2019-11-06 20:45:21,717 - DEBUG - ---En el siguiente diagrama se muestran componentes funcionales ubicados en componentes físicos, componentes de seguridad, protocolos de transporte, formatos de mensaje y se identifican lo atributos de seguridad requeridos en la solución: 
2019-11-06 20:45:21,725 - DEBUG - ---

2019-11-06 20:45:21,728 - DEBUG - ---Cuadro resumen de componentes técnicos
2019-11-06 20:45:21,733 - DEBUG - ---Se ubican los componentes en capas  y se  relaciona  la información técnica asociada a cada componente, tipo,  plataforma, sistema operativo, tecnologías y ubicación geográfica:
2019-11-06 20:45:21,740 - DEBUG - ---Continuidad Tecnológica
2019-11-06 20:45:21,747 - DEBUG - ---En esta seacción se muestra el diseño de la contingencia local y remota para los siguientes componentes de infraestructura nuevos de la solución:
2019-11-06 20:45:21,751 - DEBUG - ---Front Mercado Libre
2019-11-06 20:45:21,754 - DEBUG - ---Los demás componentes de infraestructura son los existentes, por lo tanto la alta disponibilidad, contingencia remota, monitoreo y ambientes de ejecución serán los mismos que a hoy se tienen definidos.
2019-11-06 20:45:21,758 - DEBUG - --- Alta Disponibilidad  (High Availability- HA)
2019-11-06 20:45:21,762 - DEBUG - ---La alta disponibilidad se puede ver en la sección 5.6 del presente documento.
2019-11-06 20:45:21,765 - DEBUG - ---Contingencia Remota (Disaster Recovery - DR)
2019-11-06 20:45:21,769 - DEBUG - ---La contingencia remota es la misma que existe actualmente para la infraestructura de WAS de la SVP, a continuación una imagen que detalla el tema:
2019-11-06 20:45:21,775 - DEBUG - ---Monitoreo de la solución
2019-11-06 20:45:21,778 - DEBUG - ---Se debe implementar el mismo esquema de monitoreo que a hoy se tiene para los desarrollos de la SVP y el Framework Transaccional. Adicionalmente se deberán implementar mecanismos de monitoreo para garantizar que la aplicación del nuevo front este arriba, monitoreando el link y garantizando que la respuesta http sea correcta.
2019-11-06 20:45:21,782 - DEBUG - ---Ambientes de Ejecución
2019-11-06 20:45:21,786 - DEBUG - ---Se tendrán los siguientes ambientes para la solución:
2019-11-06 20:45:21,789 - DEBUG - ---Desarrollo
2019-11-06 20:45:21,791 - DEBUG - ---El ambiente de desarrollo será utilizando la infraestructura actual que tiene la SVP, para tal motivo se creará un nuevo servidor de aplicaciones para los desarrollos del front y otro servidor de aplicaciones para los desarrollos comunes del framework transaccional.
2019-11-06 20:45:21,795 - DEBUG - ---Certificación
2019-11-06 20:45:21,797 - DEBUG - ---El ambiente de certificación será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán dos nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros dos servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:45:21,806 - DEBUG - ---Producción
2019-11-06 20:45:21,808 - DEBUG - ---El ambiente de producción será utilizando la infraestructura actual que tiene la SVP, para tal motivo se crearán cuatro nuevos servidores de aplicaciones en cluster para los desarrollos del front y otros cuatro servidores de aplicaciones en cluster para los desarrollos comunes del framework transaccional. Las peticiones entre los clusters y entre TODO1 y el nuevo front serán balanceadas a través de F5. A continuación se presenta un diagrama de despliegue con el detalle.
2019-11-06 20:45:21,817 - DEBUG - ---Decisiones de Arquitectura
2019-11-06 20:45:21,820 - DEBUG - ---Las decisiones aplicativas, técnicas, de información y seguridad más relevantes con respecto a diversos aspectos de la arquitectura son relacionadas a continuación:
2019-11-06 20:45:21,825 - DEBUG - --- Riesgos y/o Alertas
2019-11-06 20:45:21,829 - DEBUG - ---En la siguiente tabla se relacionan los puntos relevantes generados a partir del diseño y de interés para certificación, desarrollo, gestión de la demanda e infraestructura: 
2019-11-06 20:45:21,835 - DEBUG - --- Estándares y definiciones
2019-11-06 20:45:21,838 - DEBUG - ---Se relacionan los estándares y definiciones que se consideraron para la elaboración del diseño de la arquitectura de la solución:
2019-11-06 20:45:21,842 - DEBUG - ---   
2019-11-06 20:45:21,844 - INFO - Indexing file: Tips OC 2154091.docx
2019-11-06 20:45:21,855 - DEBUG - ---Ejecucion OC 2154091
2019-11-06 20:45:21,856 - DEBUG - ----Se requiere subir archivo de monitoreo para ventas tajeta de credito y libre inversión
2019-11-06 20:45:21,858 - DEBUG - ---Solución:
2019-11-06 20:45:21,859 - DEBUG - ----Actualizar los siguientes war:
2019-11-06 20:45:21,861 - DEBUG - ---VIEW.Dashboard
2019-11-06 20:45:21,862 - DEBUG - ---VIEW.Tarjeta
2019-11-06 20:45:21,863 - DEBUG - ---VIEW.Creditos
2019-11-06 20:45:21,864 - DEBUG - ---Las aplicaciones a actualizar están desplegadas en el WAS CLUSTER2 apuntando a los IHS de Acceso digital y tienen los siguientes nombres:
2019-11-06 20:45:21,866 - DEBUG - ---PMO27262_VIEW_Dashboard
2019-11-06 20:45:21,868 - DEBUG - ---PMO27262_VIEW_Tarjetas
2019-11-06 20:45:21,869 - DEBUG - ---PMO27262_VIEW_Creditos
2019-11-06 20:45:21,870 - DEBUG - ---Una vez instales, reincias el CLUSTER2 para no generar afectación del servicio
2019-11-06 20:45:21,873 - DEBUG - ---Accesos de produccion
2019-11-06 20:45:21,875 - DEBUG - ---Softlayer (Abrir con el internet explorer)
2019-11-06 20:45:21,877 - DEBUG - ---Usuario:   ejbetanc     password:  Y6W6iY2&
2019-11-06 20:45:21,878 - DEBUG - ---Usuario : vcardona / Vcardona123*
2019-11-06 20:45:21,880 - DEBUG - ---Url consola was producción
2019-11-06 20:45:21,881 - DEBUG - ---user: 
2019-11-06 20:45:21,882 - DEBUG - ---wasadminb1    
2019-11-06 20:45:21,883 - DEBUG - ---pass:  
2019-11-06 20:45:21,884 - DEBUG - ---wasadminb1//* 
2019-11-06 20:45:21,885 - DEBUG - ---SSH
2019-11-06 20:45:21,886 - DEBUG - ---10.121.219.153
2019-11-06 20:45:21,887 - DEBUG - ---10.77.251.216
2019-11-06 20:45:21,888 - DEBUG - ---wasadmin
2019-11-06 20:45:21,889 - DEBUG - ---B1CAdminWAS
2019-11-06 20:45:21,890 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-06 20:45:21,983 - DEBUG - ---DISEÑO AREAS INFRAESTRUCTURA
2019-11-06 20:45:21,987 - DEBUG - ---(PLATAFORMAS CENTRALES DE INTEGRACION)
2019-11-06 20:45:21,994 - DEBUG - ---Versión 1.0 
2019-11-06 20:45:21,997 - DEBUG - ---SVE, Facturanet, PSE
2019-11-06 20:45:22,007 - DEBUG - ---PMO17969
2019-11-06 20:45:22,014 - DEBUG - ---

2019-11-06 20:45:22,021 - DEBUG - ---Control del Documento
2019-11-06 20:45:22,028 - DEBUG - ---

2019-11-06 20:45:22,033 - DEBUG - ---TABLA DE CONTENIDO
2019-11-06 20:45:22,041 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:45:22,044 - DEBUG - ---Descripción detallada del diseño en la plataformac
2019-11-06 20:45:22,046 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:45:22,049 - DEBUG - --- 
2019-11-06 20:45:22,087 - DEBUG - ---Diagrama de componentes del diseño según la plataforma
2019-11-06 20:45:22,089 - DEBUG - ---(Telecomunicaciones, plataformas centrales, bases de datos, Distribuidas, monitoreo)
2019-11-06 20:45:22,091 - DEBUG - ---Diagrama que contiene cada uno de los componentes de tecnología y su relación (hardware y software) 
2019-11-06 20:45:22,094 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:45:22,097 - DEBUG - ---AMBIENTE DE PRODUCCIÓN
2019-11-06 20:45:22,105 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:45:22,118 - DEBUG - ---AMBIENTE DE DESARROLLO
2019-11-06 20:45:22,133 - DEBUG - ---(Información de  Configuraciones especificas, reglas, direccionamiento, VLANs, 
2019-11-06 20:45:22,136 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:45:22,140 - DEBUG - ---A nivel de Servidor de aplicaciones WAS
2019-11-06 20:45:22,169 - DEBUG - ---Seguridad a Nivel de Sistema Operativo
2019-11-06 20:45:22,173 - DEBUG - ---Seguridad a Nivel de Datos
2019-11-06 20:45:22,177 - DEBUG - ---Esquema de depuración de la base de datos
2019-11-06 20:45:22,179 - DEBUG - ---Ambiente de Producción
2019-11-06 20:45:22,181 - DEBUG - ---Ambiente de Certificación
2019-11-06 20:45:22,183 - DEBUG - ---Ambiente de Integración
2019-11-06 20:45:22,188 - DEBUG - ---Servidores de Producción
2019-11-06 20:45:22,191 - DEBUG - ---Servidores Certificación:
2019-11-06 20:45:22,196 - DEBUG - ---Servidores Desarrollo:
2019-11-06 20:45:22,201 - DEBUG - ---Consideraciones especiales 
2019-11-06 20:45:22,203 - DEBUG - ---(Recomendaciones y procedimientos adicionales para la Implementación, soporte)
2019-11-06 20:45:22,205 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:45:22,209 - DEBUG - ---  
2019-11-06 20:45:22,212 - DEBUG - ---(Incluir desde la plataforma específica,  una lista de pasos recomendados para verificar el estado de la solución  y plasmarlo en  un diagrama  de flujo de decisión en cada paso mencionado)
2019-11-06 20:45:22,215 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, DRP)
2019-11-06 20:45:22,220 - DEBUG - ---La verificación de esta lista de chequeo la realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:45:22,224 - DEBUG - ---Comprobar el estado de la aplicación. Lo importante es identificar que se encuentra en servicio. Para ello es necesario ir a la consola de administración del servidor de aplicaciones donde se ejecuta la aplicación
2019-11-06 20:45:22,227 - DEBUG - ---Comprobar el estado del servidor de aplicaciones donde se ejecuta la aplicación. 
2019-11-06 20:45:22,230 - DEBUG - ---Comprobar el estado del servidor web que recibe las peticiones para la aplicación.
2019-11-06 20:45:22,233 - DEBUG - ---Identificar errores o posibles fallas que se evidencian en los archivos de log del servidor de aplicaciones y del web server. 
2019-11-06 20:45:22,238 - DEBUG - ---  
2019-11-06 20:45:22,241 - DEBUG - ---Liste los  tipos de contingencia que tiene el servicio (de aplicación, de modo de operación, de infraestructura, etc)
2019-11-06 20:45:22,243 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:45:22,245 - DEBUG - ---Entrega el área que proporciona la contingencia
2019-11-06 20:45:22,248 - DEBUG - ---Los  procedimientos de contingencia los realizan los analistas Administradores de Plataformas Centrales de Integración.
2019-11-06 20:45:22,251 - DEBUG - ---Plataforma WAS
2019-11-06 20:45:22,254 - DEBUG - ---El servidor de aplicaciones cuenta con un esquema de disponibilidad ACTIVO/PASIVO; de esta manera la aplicación está disponible en uno de los servidores y tiene el otro como respaldo.
2019-11-06 20:45:22,258 - DEBUG - ---La plataforma también cuenta con DRP.
2019-11-06 20:45:22,262 - DEBUG - ---  
2019-11-06 20:45:22,265 - DEBUG - ---Errores funcionales del servicio, Errores Técnicos de aplicación, Errores de la Infraestructura, Errores en  Plataformas Centrales , Errores en  Plataformas Distribuidas, Errores en  Telecomunicaciones
2019-11-06 20:45:22,267 - DEBUG - ---(Hacerlo para todos los ambientes, Producción, Certificación, Desarrollo, Test)
2019-11-06 20:45:22,271 - DEBUG - ---Errores conocidos  
2019-11-06 20:45:22,274 - DEBUG - ---Para cada tipo de problema se deberá especificar la siguiente información:
2019-11-06 20:45:22,277 - DEBUG - ---A nivel de WAS
2019-11-06 20:45:22,283 - DEBUG - ---.    Errores funcionales del servicio
2019-11-06 20:45:22,288 - DEBUG - --- 
2019-11-06 20:45:22,292 - INFO - Indexing file: Anexo 1 - Grafico de diseдo de arquitectura del cliente.docx
2019-11-06 20:45:22,301 - DEBUG - ---Grafico de diseño de arquitectura del cliente.
2019-11-06 20:45:22,303 - INFO - Indexing file: Hoja de datos WAS.docx
2019-11-06 20:45:22,311 - INFO - Indexing file: Hoja de datos Process server.docx
2019-11-06 20:45:22,319 - DEBUG - ---Hoja de datos Process server
2019-11-06 20:45:22,321 - INFO - Indexing file: Hoja de datos Datapower.docx
2019-11-06 20:45:22,328 - DEBUG - ---HOJA DE DATOS - DATA POWER
2019-11-06 20:45:22,330 - DEBUG - ---RIN – UNE (Servidor)
2019-11-06 20:45:22,331 - DEBUG - ---PMO16436
2019-11-06 20:45:22,332 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-06 20:45:22,353 - DEBUG - ---

2019-11-06 20:45:22,354 - DEBUG - ---PROCEDIMIENTO A REALIZAR
2019-11-06 20:45:22,356 - DEBUG - ---PEDIDOS QUE REALIZA PI
2019-11-06 20:45:22,357 - DEBUG - ---Solicitud del filesystem para el Proyecto 
2019-11-06 20:45:22,358 - DEBUG - ---Se solicita por medio de correo a nosotros con el nombre del proyecto y el Sizing del mismo.
2019-11-06 20:45:22,360 - DEBUG - ---Crear OC: 
2019-11-06 20:45:22,361 - DEBUG - ---Categoría: almacenamiento y creación de disco.
2019-11-06 20:45:22,363 - DEBUG - ---Adjuntar el formato (Solicitarlo a almacenamiento).
2019-11-06 20:45:22,365 - DEBUG - ---SOLICITAR AMPLIACIÓN - CREACIÓN - FILESYSTEM - DIRECTORIO - CARPETA oc'S:

2019-11-06 20:45:22,366 - DEBUG - ---Filesystem existente:
*orden de cambio ampliación - 456834
Categoría: Almacenamiento. Ampliación File Systems y presentación Discos SAN Plataformas Centrales 

2019-11-06 20:45:22,368 - DEBUG - ---Filesystem Nuevo:
*orden de cambio creación - 718604 
Categoría: Almacenamiento. Creación de Discos Nuevos Plataformas Centrales
2019-11-06 20:45:22,371 - DEBUG - ---PEDIDOS QUE REALIZA DESARROLLO
2019-11-06 20:45:22,373 - DEBUG - ---Creación de usuarios de red (AIX): Se solicita por USM, creación usuarios pSeries.
2019-11-06 20:45:22,375 - DEBUG - ---En caso de que el proveedor sea nuevo en el banco.
2019-11-06 20:45:22,378 - DEBUG - ---Pedidos USM a Control de Acceso
2019-11-06 20:45:22,380 - DEBUG - --- Se realiza la solicitud por medio de USM ().
2019-11-06 20:45:22,381 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:45:22,383 - DEBUG - ---Cuando tengan los nombres de los usuarios de red de cada desarrollador, deben solicitar la autorización por correo a GCIA PLATAFORMAS DE INTEGRACION  para la creación de los usuarios en la máquina 10.8.64.210 - PBMDEADDST04, para adjuntarlo al pedido. 
2019-11-06 20:45:22,385 - DEBUG - ---Con la aprobación realizan la solicitud para la creación de usuarios del SO para cada desarrollador y que pertenezcan al grupo “dstageXXX” (Fabrica) 
2019-11-06 20:45:22,387 - DEBUG - ---Servicios Especializados de TI (sólo para empleados VTI) -> Gestion de ambientes de pruebas y desarrollo -> Gestion de Ambientes - Administración control de Acceso -> Creación de usuarios Pseries -> Selecciona la opción de Creación de usuarios Pseries y descargamos el formato para diligenciarlo que se encuentra en la parte de abajo en letra roja, para luego adjuntarlo.
2019-11-06 20:45:22,390 - DEBUG - ---El usuario de red debe solicitarse para crear en el directorio activo de AMBIENTESBC para poderse conectar a través de las herramientas cliente (Designer, Director). Debe solicitarse con las siguientes características: 
2019-11-06 20:45:22,392 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:45:22,393 - DEBUG - ---La clave no puede expirar
2019-11-06 20:45:22,395 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:45:22,397 - DEBUG - ---Relación de confianza (SFTP): Aplica si utilizan conexión SFTP. 
2019-11-06 20:45:22,399 - DEBUG - ---Solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadmXXX y el de conexión creado previamente.
2019-11-06 20:45:22,401 - DEBUG - ---AMBIENTE DE CERTIFICACIÓN
2019-11-06 20:45:22,403 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:45:22,406 - DEBUG - ---Solicitarse para crear en el directorio activo de AMBIENTESBC los usuarios de Tester (Certificadores). Debe solicitarse con las siguientes características:
2019-11-06 20:45:22,409 - DEBUG - ---Debe ser creado con nombre corto (usuario de red)
2019-11-06 20:45:22,410 - DEBUG - ---La clave no puede expirar
2019-11-06 20:45:22,412 - DEBUG - ---No puede pedir cambio de contraseña al primer logueo.
2019-11-06 20:45:22,415 - DEBUG - ---AMBIENTE DE PRODUCCIÓN 
2019-11-06 20:45:22,417 - DEBUG - ---Relación de confianza (SFTP): solicitan la creación del usuario de conexión en la máquina destino e intercambio de llaves entre el usuario dsadm y el de conexión creado previamente.
2019-11-06 20:45:22,419 - DEBUG - ---En éste ambiente no se crean usuarios de desarrollo por ser productivo.
2019-11-06 20:45:22,422 - DEBUG - ---Pedidos OC a nuestro grupo Plataformas de integración
2019-11-06 20:45:22,423 - DEBUG - ---AMBIENTE DESARROLLO
2019-11-06 20:45:22,425 - DEBUG - ---Solicitan la creación del proyecto DESA_PROYECTO 
2019-11-06 20:45:22,428 - DEBUG - ---Solicitan matricular los usuarios de los desarrolladores creados en AMBIENTESBC y asociarlos al proyecto creado. (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx).
2019-11-06 20:45:22,430 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:45:22,431 - DEBUG - ---Ambiente
2019-11-06 20:45:22,433 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:45:22,434 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:45:22,435 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:45:22,437 - DEBUG - ---Nombre de la BD
2019-11-06 20:45:22,439 - DEBUG - ---Tabla o esquema
2019-11-06 20:45:22,441 - DEBUG - ---Puerto 
2019-11-06 20:45:22,442 - DEBUG - ---Nombre del Datasource
2019-11-06 20:45:22,443 - DEBUG - ---DNS del servidor
2019-11-06 20:45:22,445 - DEBUG - ---AMBIENTE CERTIFICACIÓN
2019-11-06 20:45:22,447 - DEBUG - ---Solicitan la creación del proyecto, CERT_ PROYECTO 
2019-11-06 20:45:22,449 - DEBUG - ---Solicitan matricular los usuarios de los Tester y asociarlos al proyecto creado (Z:\FORMATOS\ PlantillaUsuariosDataStage.xlsx)
2019-11-06 20:45:22,450 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:45:22,452 - DEBUG - ---Ambiente
2019-11-06 20:45:22,453 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:45:22,455 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:45:22,457 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:45:22,458 - DEBUG - ---Nombre de la BD
2019-11-06 20:45:22,459 - DEBUG - ---Tabla o esquema
2019-11-06 20:45:22,461 - DEBUG - ---Puerto 
2019-11-06 20:45:22,462 - DEBUG - ---Nombre del Datasource
2019-11-06 20:45:22,464 - DEBUG - ---DNS del servidor
2019-11-06 20:45:22,467 - DEBUG - ---AMBIENTE PRODUCCIÓN
2019-11-06 20:45:22,468 - DEBUG - ---Solicitan la creación del proyecto PROD_ PROYECTOS 
2019-11-06 20:45:22,469 - DEBUG - ---Creación del Data Source (ODBC): Deben especificar en la descripción los siguientes campos: 
2019-11-06 20:45:22,472 - DEBUG - ---Ambiente
2019-11-06 20:45:22,473 - DEBUG - ---Nombre del proyecto.
2019-11-06 20:45:22,475 - DEBUG - ---Tipo de BD (oracle, DB2 SQL etc.)
2019-11-06 20:45:22,476 - DEBUG - ---IP de la máquina de la BD
2019-11-06 20:45:22,478 - DEBUG - ---Nombre de la BD
2019-11-06 20:45:22,479 - DEBUG - ---Tabla o esquema
2019-11-06 20:45:22,480 - DEBUG - ---Puerto 
2019-11-06 20:45:22,481 - DEBUG - ---Nombre del Datasource
2019-11-06 20:45:22,483 - DEBUG - ---DNS del servidor
2019-11-06 20:45:22,484 - DEBUG - ---	
2019-11-06 20:45:22,485 - DEBUG - ---Otros temas a tener en cuenta:
2019-11-06 20:45:22,487 - DEBUG - ---El nombre del proyecto se define de la siguiente forma:
2019-11-06 20:45:22,489 - DEBUG - ---Desarrollo: DESA_PROYECTO
2019-11-06 20:45:22,490 - DEBUG - ---Certificación: CERT_PROYECTO
2019-11-06 20:45:22,491 - DEBUG - ---Producción: PROD_PROYECTO
2019-11-06 20:45:22,493 - DEBUG - ---Los usuarios de SO se crean en Desarrollo y Certificación en el Engine DataStage (Dllo: 10.8.64.210, Cert: 10.4.33.30).
2019-11-06 20:45:22,495 - DEBUG - ---Los usuarios de Desarrollo deben tener un cliente instalado en su máquina o conectarse a través de Citrix.
2019-11-06 20:45:22,497 - DEBUG - ---Información que se solicita al analista del proyecto: 
2019-11-06 20:45:22,499 - DEBUG - ---Nombre de la Fábrica
2019-11-06 20:45:22,500 - DEBUG - ---Sizing (Tamaño del filesystem en cada uno de los ambientes).
2019-11-06 20:45:22,502 - DEBUG - ---Si es una conexión ODBC se necesita un String de Conexión para lo cual se requiere saber:
2019-11-06 20:45:22,504 - DEBUG - ---Tipo base de datos
2019-11-06 20:45:22,506 - DEBUG - ---Nombre del Datasource
2019-11-06 20:45:22,507 - DEBUG - ---DNS del servidor
2019-11-06 20:45:22,509 - DEBUG - ---Nombre de base de datos
2019-11-06 20:45:22,510 - DEBUG - ---Puerto
2019-11-06 20:45:22,511 - DEBUG - ---Si es una conexión sftp se deben conocer los usuarios de conexión y las máquinas destino a las cuáles se conectan.
2019-11-06 20:45:22,513 - DEBUG - ---Usuario iSeries (CNXxxx).
2019-11-06 20:45:22,514 - INFO - Indexing file: Guia_Instalacion_CambioCertificadoDigital.docx
2019-11-06 20:45:22,533 - DEBUG - ---	
2019-11-06 20:45:22,535 - DEBUG - ---Cambio Certificado Digital 
2019-11-06 20:45:22,536 - DEBUG - ---CerFirmaCarvajal.cer
2019-11-06 20:45:22,537 - DEBUG - ---Guía de instalación
2019-11-06 20:45:22,538 - DEBUG - ---OC 2230886
2019-11-06 20:45:22,540 - DEBUG - ---Versión 1.0
2019-11-06 20:45:22,556 - DEBUG - ---Manual de instalación 
2019-11-06 20:45:22,557 - DEBUG - ---OC 2230886
2019-11-06 20:45:22,559 - DEBUG - ---Datos para la instalación
2019-11-06 20:45:22,560 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:45:22,562 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:45:22,563 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:45:22,564 - DEBUG - ---CEL: 3115332927 
2019-11-06 20:45:22,566 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:45:22,567 - DEBUG - ---  
2019-11-06 20:45:22,568 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 6
2019-11-06 20:45:22,569 - DEBUG - ---Acceso Datapower 
2019-11-06 20:45:22,571 - DEBUG - ---Ingresar a  y a  - Datapower 2   con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio PRODUCCIÓN
2019-11-06 20:45:22,573 - DEBUG - ---Nota: Instalar también en el DataPower del DRP
2019-11-06 20:45:22,575 - DEBUG - ---Instalación de los Certificados nombres CC_FIRMA_CARVAJAL, certificado CerFirmaCarvajal.cer
2019-11-06 20:45:22,577 - DEBUG - ---Descargar los archivos CerFirmaCarvajal.cer  que se encuentra adjunto en la OC.
2019-11-06 20:45:22,579 - DEBUG - ---Sobrescribir el archivo en la carpeta cert del dominio de producción, el certificado CerFirmaCarvajal.cer 
2019-11-06 20:45:22,580 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:45:22,592 - DEBUG - ---Manual de instalación 
2019-11-06 20:45:22,594 - DEBUG - ---OC 2230886
2019-11-06 20:45:22,595 - DEBUG - ---Datos para la instalación
2019-11-06 20:45:22,597 - DEBUG - ---NOMBRE DE LA APLICACIÓN: AW0481 (DATAPOWER)
2019-11-06 20:45:22,599 - DEBUG - ---NOMBRE DEL PROYECTO: Renovación Certificado Digital 
2019-11-06 20:45:22,600 - DEBUG - ---NOMBRE DEL ANALISTA ENCARGADO DEL BANCO: Jeidi Fallani Acevedo Torres
2019-11-06 20:45:22,601 - DEBUG - ---CEL: 3115332927  
2019-11-06 20:45:22,602 - DEBUG - ---AMBIENTE: Producción.
2019-11-06 20:45:22,604 - DEBUG - ---PRIMERO: INSTALACIÓN EN DATAPOWER VERSIÓN 7
2019-11-06 20:45:22,606 - DEBUG - ---Acceso Datapower 
2019-11-06 20:45:22,607 - DEBUG - ---Ingresar a  - Datapower1 y a  - Datapower 2 , con un usuario que se encuentre en el rol de Implementación o Admin Accesos. Tener en cuenta que para todas las acciones se debe garantizar que esté seleccionado el dominio Default
2019-11-06 20:45:22,611 - DEBUG - ---Instalación de los Certificados Nombre CC_FIRMA_CARVAJAL certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:45:22,613 - DEBUG - ---Descargar los archivos CC_FIRMA_CARVAJAL.cer que se encuentra adjunto en la OC.
2019-11-06 20:45:22,614 - DEBUG - ---Sobrescribir los archivos en la carpeta sharedcert del dominio de Default, el certificado CC_FIRMA_CARVAJAL.cer
2019-11-06 20:45:22,616 - DEBUG - ---Buscar todos los objetos del tipo Crypto Certificate CC_FIRMA_CARVAJAL que tengan asociado el certificado con el nombre entregado y reiniciarlos (Disabled, Apply, Save Config, Enabled, Apply, Save Config).
2019-11-06 20:45:22,618 - DEBUG - ---Por favor instalar las cadenas de confianza adjuntas (AC_SUB_CERTICAMARA.cer y AC_Raiz_Certicamara.cer) en la carpeta pubcert en el dominio Default
2019-11-06 20:45:22,623 - DEBUG - ---Ingresar a la URL
2019-11-06 20:45:22,624 - DEBUG - ---​
2019-11-06 20:45:22,626 - DEBUG - ---​
2019-11-06 20:45:22,628 - DEBUG - ---Y deshabilitar el componente que aparece​ a continuación:
2019-11-06 20:45:22,630 - INFO - Indexing file: Reinicio_Datastage (1).txt
2019-11-06 20:45:22,631 - DEBUG - ---
REINICIO - ENGINE
Con el usuario DSADM

cd /opk/IBM/InformationServer/Server/DSEngine/
. ./dsenv 
uv -admin -stop

REINICIO LOGGIN AGENT
/opk/IBM/InformationServer/ASBNode/bin
sudo ./NodeAgents.sh stop

version.xml - /opk/IBM/InformationServer

sudo /opk/IBM/InformationServer/Server/DSEngine/

sudo sh "chown -R dsadm:dstage /opk /dataset1 /dataset2 /scratch1 /scratch2 /proyectos /interfaces" 
cd $DSHOME/scripts 
sudo sh DSEenable_impersonation.sh 

/opk/IBM/InformationServer/Server/DSComponents/bin
./dscompinst -username ceaherre -password Banco2013* -install -force /tmp/CC_ORA_aix_installation.jar

ps -ef | grep osh
ps -ef | grep DSD.RUN
ps -ef | grep dsapi

2019-11-06 20:45:24,128 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:45:24,158 - DEBUG - results found: 7
2019-11-06 20:45:54,835 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:47:54,217 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:48:48,560 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:51:27,780 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:51:27,817 - DEBUG - results found: 7
2019-11-06 20:51:27,818 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:51:27,868 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 20:51:28,028 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:51:28,063 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 20:51:28,141 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 20:51:28,226 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 20:51:28,304 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 20:51:59,070 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:51:59,126 - DEBUG - results found: 7
2019-11-06 20:57:38,258 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 20:59:34,975 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 20:59:35,037 - DEBUG - results found: 7
2019-11-06 20:59:36,536 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:00:16,589 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 21:00:38,230 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:00:40,561 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 21:01:01,280 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 21:02:56,437 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 21:02:57,144 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 21:04:09,307 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 21:04:09,351 - DEBUG - results found: 7
2019-11-06 21:04:09,352 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:04:09,428 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 21:04:09,607 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:04:09,666 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 21:04:09,737 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 21:04:09,797 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 21:04:09,865 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 21:07:36,845 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 21:07:36,887 - DEBUG - results found: 7
2019-11-06 21:07:36,887 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:07:36,951 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 21:07:37,095 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:07:37,137 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 21:07:37,194 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 21:07:37,249 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 21:07:37,308 - INFO - Indexing file: perfiles.comandos.txt
2019-11-06 21:13:06,464 - DEBUG - performing search with criteria: WAS iSeries
2019-11-06 21:13:06,500 - DEBUG - results found: 7
2019-11-06 21:13:06,501 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:13:06,565 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-06 21:13:06,757 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-06 21:13:06,799 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-06 21:13:06,874 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-06 21:13:06,935 - INFO - Indexing file: PTR_switch_servicios (1).docx
2019-11-06 21:13:07,018 - INFO - Indexing file: perfiles.comandos.txt
2019-11-07 09:21:55,874 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:22:29,640 - INFO - criteria: was iSeries
2019-11-07 09:22:29,640 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:22:29,690 - DEBUG - results found: 7
2019-11-07 09:22:29,690 - INFO - hists: 7
2019-11-07 09:22:29,690 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-07 09:22:58,989 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:23:09,902 - INFO - criteria: was iSeries
2019-11-07 09:23:09,903 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:23:09,931 - DEBUG - results found: 7
2019-11-07 09:23:09,931 - INFO - hists: 7
2019-11-07 09:23:09,931 - INFO - Indexing file: Creacion Websphere Proxy Server.docx
2019-11-07 09:25:20,685 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:25:26,078 - INFO - criteria: was iSeries
2019-11-07 09:25:26,078 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:25:26,103 - DEBUG - results found: 7
2019-11-07 09:25:26,104 - INFO - hists: 7
2019-11-07 09:28:06,787 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:28:12,491 - INFO - criteria: was iSeries
2019-11-07 09:28:12,492 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:28:12,540 - DEBUG - results found: 7
2019-11-07 09:28:12,540 - INFO - hists: 7
2019-11-07 09:29:54,739 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:30:00,210 - INFO - criteria: was iSeries
2019-11-07 09:30:00,211 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:30:00,236 - DEBUG - results found: 7
2019-11-07 09:30:00,236 - INFO - hists: 7
2019-11-07 09:30:01,460 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-07 09:30:46,902 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:30:50,783 - INFO - criteria: was iSeries
2019-11-07 09:30:50,783 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:30:50,805 - DEBUG - results found: 7
2019-11-07 09:30:50,805 - INFO - hists: 7
2019-11-07 09:30:52,323 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-07 09:31:45,029 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:31:49,986 - INFO - criteria: was iSeries
2019-11-07 09:31:49,987 - DEBUG - performing search with criteria: was iSeries
2019-11-07 09:31:50,013 - DEBUG - results found: 7
2019-11-07 09:31:50,013 - INFO - hists: 7
2019-11-07 09:31:51,686 - INFO - Indexing file: PTR_switch_servicios.docx
2019-11-07 09:36:32,827 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:37:23,267 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:37:28,376 - INFO - criteria:  was iSeries
2019-11-07 09:37:28,376 - DEBUG - performing search with criteria:  was iSeries
2019-11-07 09:37:28,405 - DEBUG - results found: 7
2019-11-07 09:37:28,406 - INFO - hists: 7
2019-11-07 09:37:32,816 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-07 09:42:41,983 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:42:47,112 - INFO - criteria:  MQ
2019-11-07 09:42:47,112 - DEBUG - performing search with criteria:  MQ
2019-11-07 09:42:47,142 - DEBUG - results found: 10
2019-11-07 09:42:47,142 - INFO - hists: 10
2019-11-07 09:42:58,782 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-07 09:49:08,573 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:50:47,437 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:51:04,604 - INFO - criteria: Broker
2019-11-07 09:51:04,604 - DEBUG - performing search with criteria: Broker
2019-11-07 09:51:04,655 - DEBUG - results found: 2
2019-11-07 09:51:04,655 - INFO - hists: 2
2019-11-07 09:51:09,953 - INFO - Indexing file: Tips Aristi.txt
2019-11-07 09:51:24,187 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:51:30,718 - INFO - criteria: Sterling
2019-11-07 09:51:30,718 - DEBUG - performing search with criteria: Sterling
2019-11-07 09:51:30,767 - DEBUG - results found: 0
2019-11-07 09:51:30,768 - INFO - hists: 0
2019-11-07 09:51:36,079 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:51:40,972 - INFO - criteria: sterling
2019-11-07 09:51:40,973 - DEBUG - performing search with criteria: sterling
2019-11-07 09:51:41,003 - DEBUG - results found: 0
2019-11-07 09:51:41,003 - INFO - hists: 0
2019-11-07 09:51:44,187 - INFO -  --------- Initiating CLI ----------
2019-11-07 09:51:48,515 - INFO - criteria: orden
2019-11-07 09:51:48,515 - DEBUG - performing search with criteria: orden
2019-11-07 09:51:48,543 - DEBUG - results found: 10
2019-11-07 09:51:48,543 - INFO - hists: 10
2019-11-07 09:51:54,566 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-07 09:59:59,868 - INFO -  --------- Initiating CLI ----------
2019-11-07 10:00:27,394 - INFO - criteria:  comando
2019-11-07 10:00:27,394 - DEBUG - performing search with criteria:  comando
2019-11-07 10:00:27,428 - DEBUG - results found: 10
2019-11-07 10:00:27,428 - INFO - hists: 10
2019-11-07 10:00:45,509 - INFO - Indexing file: PTR_ACT - LDAP - Subir servicios WAS sbbanbld01v .docx
2019-11-07 10:00:58,987 - INFO - hists: 10
2019-11-07 10:01:07,234 - INFO - Indexing file: PTR_ACTIVAR_DETENER SERVICIOS MEDHA(1).docx
2019-11-07 10:04:49,462 - INFO -  --------- Initiating CLI ----------
2019-11-07 10:05:08,043 - INFO - criteria: iseries
2019-11-07 10:05:08,044 - DEBUG - performing search with criteria: iseries
2019-11-07 10:05:08,080 - DEBUG - results found: 10
2019-11-07 10:05:08,080 - INFO - hists: 10
2019-11-07 10:05:23,753 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-07 10:05:35,068 - INFO - criteria: was
2019-11-07 10:05:35,068 - DEBUG - performing search with criteria: was
2019-11-07 10:05:35,079 - DEBUG - results found: 10
2019-11-07 10:05:35,079 - INFO - hists: 10
2019-11-07 10:05:41,226 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-07 10:08:23,247 - INFO -  --------- Initiating CLI ----------
2019-11-07 10:08:29,301 - INFO - criteria: ear
2019-11-07 10:08:29,301 - DEBUG - performing search with criteria: ear
2019-11-07 10:08:29,331 - DEBUG - results found: 1
2019-11-07 10:08:29,332 - INFO - hists: 1
2019-11-07 10:28:00,190 - INFO -  --------- Initiating CLI ----------
2019-11-07 10:28:06,734 - INFO - criteria: was
2019-11-07 10:28:06,735 - DEBUG - performing search with criteria: was
2019-11-07 10:28:06,775 - DEBUG - results found: 10
2019-11-07 10:28:06,775 - INFO - hists: 10
2019-11-07 10:28:11,835 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-07 10:28:59,468 - INFO -  --------- Initiating CLI ----------
2019-11-07 10:29:15,655 - INFO - criteria: iseries
2019-11-07 10:29:15,655 - DEBUG - performing search with criteria: iseries
2019-11-07 10:29:15,698 - DEBUG - results found: 10
2019-11-07 10:29:15,698 - INFO - hists: 10
2019-11-07 10:29:18,817 - INFO - Indexing file: DataStage_Plantilla.docx
2019-11-07 10:29:20,957 - INFO - hists: 10
2019-11-07 10:30:33,734 - INFO -  --------- Initiating CLI ----------
2019-11-07 10:30:41,196 - INFO - criteria: was
2019-11-07 10:30:41,196 - DEBUG - performing search with criteria: was
2019-11-07 10:30:41,217 - DEBUG - results found: 10
2019-11-07 10:30:41,217 - INFO - hists: 10
2019-11-07 10:30:43,554 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-07 10:30:45,929 - INFO - hists: 10
2019-11-07 12:11:53,500 - INFO -  --------- Initiating CLI ----------
2019-11-07 12:12:30,442 - INFO - criteria: plataforma
2019-11-07 12:12:30,442 - DEBUG - performing search with criteria: plataforma
2019-11-07 12:12:30,467 - DEBUG - results found: 10
2019-11-07 12:12:30,467 - INFO - hists: 10
2019-11-07 12:13:28,875 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-07 12:13:46,304 - INFO - hists: 10
2019-11-07 12:13:53,082 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-07 12:14:04,502 - INFO - hists: 10
2019-11-07 12:16:32,901 - INFO -  --------- Initiating CLI ----------
2019-11-07 12:34:14,516 - INFO -  --------- Initiating CLI ----------
2019-11-07 12:35:39,583 - INFO - criteria: plataforma was
2019-11-07 12:35:39,584 - DEBUG - performing search with criteria: plataforma was
2019-11-07 12:35:39,690 - DEBUG - results found: 1
2019-11-07 12:35:39,691 - INFO - hists: 1
2019-11-07 12:35:42,639 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-07 12:35:44,717 - INFO - hists: 1
2019-11-07 12:37:41,373 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-07 12:37:54,220 - INFO - criteria: mq
2019-11-07 12:37:54,220 - DEBUG - performing search with criteria: mq
2019-11-07 12:37:54,247 - DEBUG - results found: 10
2019-11-07 12:37:54,247 - INFO - hists: 10
2019-11-07 12:38:04,319 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-07 12:38:26,964 - INFO - hists: 10
2019-11-07 12:41:54,062 - INFO - Indexing file: PTR_continuidad_banismo(1).docx
2019-11-07 12:41:58,600 - INFO - criteria: información contenida en este documento es propiedad de IBM
2019-11-07 12:41:58,601 - DEBUG - performing search with criteria: información contenida en este documento es propiedad de IBM
2019-11-07 12:41:58,633 - DEBUG - results found: 0
2019-11-07 12:41:58,633 - INFO - hists: 0
2019-11-07 12:42:07,317 - INFO -  --------- Initiating CLI ----------
2019-11-07 12:42:44,394 - INFO - criteria: contenida en este documento es propiedad de IBM
2019-11-07 12:42:44,394 - DEBUG - performing search with criteria: contenida en este documento es propiedad de IBM
2019-11-07 12:42:44,432 - DEBUG - results found: 0
2019-11-07 12:42:44,432 - INFO - hists: 0
2019-11-07 12:43:03,031 - INFO -  --------- Initiating CLI ----------
2019-11-07 12:43:08,095 - INFO - criteria: contenida en este documento
2019-11-07 12:43:08,095 - DEBUG - performing search with criteria: contenida en este documento
2019-11-07 12:43:08,139 - DEBUG - results found: 0
2019-11-07 12:43:08,139 - INFO - hists: 0
2019-11-12 18:14:13,365 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:14:19,978 - INFO - criteria: parámetro
2019-11-12 18:14:19,979 - DEBUG - performing search with criteria: parámetro
2019-11-12 18:14:20,030 - DEBUG - results found: 10
2019-11-12 18:14:20,030 - INFO - hists: 10
2019-11-12 18:14:25,418 - INFO - Indexing file: PTR_switch_servicios(1).docx
2019-11-12 18:14:45,108 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:14:54,138 - INFO - criteria: lexinton
2019-11-12 18:14:54,138 - DEBUG - performing search with criteria: lexinton
2019-11-12 18:14:54,176 - DEBUG - results found: 0
2019-11-12 18:14:54,177 - INFO - hists: 0
2019-11-12 18:18:42,700 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:18:45,932 - INFO - criteria: lexintong
2019-11-12 18:18:45,933 - DEBUG - performing search with criteria: lexintong
2019-11-12 18:18:45,996 - DEBUG - results found: 0
2019-11-12 18:18:45,996 - INFO - hists: 0
2019-11-12 18:19:24,212 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:19:26,797 - INFO - criteria: chicharo
2019-11-12 18:19:26,797 - DEBUG - performing search with criteria: chicharo
2019-11-12 18:19:26,852 - DEBUG - results found: 0
2019-11-12 18:19:26,852 - INFO - hists: 0
2019-11-12 18:19:41,101 - INFO - criteria: sipango
2019-11-12 18:19:41,101 - DEBUG - performing search with criteria: sipango
2019-11-12 18:19:41,110 - DEBUG - results found: 0
2019-11-12 18:19:41,111 - INFO - hists: 0
2019-11-12 18:19:43,773 - INFO - criteria: WAS
2019-11-12 18:19:43,774 - DEBUG - performing search with criteria: WAS
2019-11-12 18:19:43,787 - DEBUG - results found: 10
2019-11-12 18:19:43,787 - INFO - hists: 10
2019-11-12 18:19:45,935 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-12 18:19:54,857 - INFO - hists: 10
2019-11-12 18:27:35,829 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:28:05,202 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:28:08,225 - INFO - criteria: cachiongo
2019-11-12 18:28:08,226 - DEBUG - performing search with criteria: cachiongo
2019-11-12 18:28:08,254 - DEBUG - results found: 0
2019-11-12 18:28:08,255 - INFO - hists: 0
2019-11-12 18:28:16,484 - INFO - criteria: montaba
2019-11-12 18:28:16,484 - DEBUG - performing search with criteria: montaba
2019-11-12 18:28:16,490 - DEBUG - results found: 0
2019-11-12 18:28:16,490 - INFO - hists: 0
2019-11-12 18:28:18,178 - INFO - criteria: WAS
2019-11-12 18:28:18,178 - DEBUG - performing search with criteria: WAS
2019-11-12 18:28:18,183 - DEBUG - results found: 10
2019-11-12 18:28:18,183 - INFO - hists: 10
2019-11-12 18:35:11,893 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:35:13,862 - INFO - criteria: was
2019-11-12 18:35:13,862 - DEBUG - performing search with criteria: was
2019-11-12 18:35:13,904 - DEBUG - results found: 10
2019-11-12 18:35:13,904 - INFO - hists: 10
2019-11-12 18:35:37,734 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-12 18:39:28,507 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:39:30,297 - INFO - criteria: was
2019-11-12 18:39:30,297 - DEBUG - performing search with criteria: was
2019-11-12 18:39:30,374 - DEBUG - results found: 10
2019-11-12 18:39:30,375 - INFO - hists: 10
2019-11-12 18:39:32,906 - INFO - Indexing file: Anexo 2 - Diseдo Areas Infraestructura.docx
2019-11-12 18:39:49,296 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:39:51,929 - INFO - criteria: WAS
2019-11-12 18:39:51,929 - DEBUG - performing search with criteria: WAS
2019-11-12 18:39:51,996 - DEBUG - results found: 10
2019-11-12 18:39:51,998 - INFO - hists: 10
2019-11-12 18:40:01,961 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-12 18:40:18,658 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:40:37,098 - INFO - criteria: MQ
2019-11-12 18:40:37,098 - DEBUG - performing search with criteria: MQ
2019-11-12 18:40:37,197 - DEBUG - results found: 10
2019-11-12 18:40:37,197 - INFO - hists: 10
2019-11-12 18:40:41,195 - INFO - Indexing file: MANUAL_DE_OPERACIONES.docx
2019-11-12 18:40:44,971 - INFO - hists: 10
2019-11-12 18:41:25,899 - INFO - Indexing file: MANUAL DE OPERACIONES WSRR v.1.docx
2019-11-12 18:41:37,003 - INFO - criteria: caledonia
2019-11-12 18:41:37,006 - DEBUG - performing search with criteria: caledonia
2019-11-12 18:41:37,044 - DEBUG - results found: 0
2019-11-12 18:41:37,044 - INFO - hists: 0
2019-11-12 18:41:45,242 - INFO - criteria: fuqudome
2019-11-12 18:41:45,243 - DEBUG - performing search with criteria: fuqudome
2019-11-12 18:41:45,251 - DEBUG - results found: 0
2019-11-12 18:41:45,251 - INFO - hists: 0
2019-11-12 18:41:46,650 - INFO - criteria: was
2019-11-12 18:41:46,651 - DEBUG - performing search with criteria: was
2019-11-12 18:41:46,674 - DEBUG - results found: 10
2019-11-12 18:41:46,674 - INFO - hists: 10
2019-11-12 18:44:15,160 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:44:16,380 - INFO - criteria: was
2019-11-12 18:44:16,381 - DEBUG - performing search with criteria: was
2019-11-12 18:44:16,451 - DEBUG - results found: 10
2019-11-12 18:44:16,453 - INFO - hists: 10
2019-11-12 18:44:46,453 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:44:47,741 - INFO - criteria: was
2019-11-12 18:44:47,741 - DEBUG - performing search with criteria: was
2019-11-12 18:44:47,797 - DEBUG - results found: 10
2019-11-12 18:44:47,798 - INFO - hists: 10
2019-11-12 18:46:17,444 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:46:18,525 - INFO - criteria: WAS
2019-11-12 18:46:18,525 - DEBUG - performing search with criteria: WAS
2019-11-12 18:46:18,592 - DEBUG - results found: 10
2019-11-12 18:46:18,592 - INFO - hists: 10
2019-11-12 18:49:48,824 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:49:49,985 - INFO - criteria: WAS
2019-11-12 18:49:49,985 - DEBUG - performing search with criteria: WAS
2019-11-12 18:49:50,099 - DEBUG - results found: 10
2019-11-12 18:49:50,100 - INFO - hists: 10
2019-11-12 18:51:42,820 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:51:43,986 - INFO - criteria: WAS
2019-11-12 18:51:43,986 - DEBUG - performing search with criteria: WAS
2019-11-12 18:51:44,052 - DEBUG - results found: 10
2019-11-12 18:51:44,053 - INFO - hists: 10
2019-11-12 18:55:06,393 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:55:09,957 - INFO - criteria: WAS
2019-11-12 18:55:09,958 - DEBUG - performing search with criteria: WAS
2019-11-12 18:55:10,025 - DEBUG - results found: 10
2019-11-12 18:55:10,026 - INFO - hists: 10
2019-11-12 18:55:13,987 - INFO - Indexing file: Manual_Menu_iSeries.docx
2019-11-12 18:55:37,636 - INFO - hists: 10
2019-11-12 18:55:40,277 - INFO - Indexing file: Diseño Areas Infraestructura SVP.docx
2019-11-12 18:55:49,127 - INFO -  --------- Initiating CLI ----------
2019-11-12 18:55:50,805 - INFO - criteria: broker
2019-11-12 18:55:50,805 - DEBUG - performing search with criteria: broker
2019-11-12 18:55:50,871 - DEBUG - results found: 2
2019-11-12 18:55:50,872 - INFO - hists: 2
2019-11-12 18:55:55,427 - INFO - Indexing file: Tips Aristi.txt
2019-11-12 18:56:02,259 - INFO - criteria: chuta
2019-11-12 18:56:02,259 - DEBUG - performing search with criteria: chuta
2019-11-12 18:56:02,276 - DEBUG - results found: 0
2019-11-12 18:56:02,276 - INFO - hists: 0
